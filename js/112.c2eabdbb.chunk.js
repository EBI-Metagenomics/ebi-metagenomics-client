"use strict";(self.webpackChunkmgportalv2=self.webpackChunkmgportalv2||[]).push([[112],{2034:(e,t,a)=>{a.d(t,{L:()=>b,Z:()=>g});var n=a(7294),l=a(2531),r=a(3182),i=a(8110),o=a(402),s=a(1699);const c=({title:e,children:t})=>{const[a,l]=(0,n.useState)(!1);return n.createElement("li",{className:"vf-tree__item "+(a?"vf-tree__item--selected | vf-tree__item--expanded":"")},n.createElement("button",{onClick:()=>l(!a),className:"vf-button vf-button--link vf-tree__link",type:"button"},e,n.createElement("span",{className:"vf-button vf-tree__button"},n.createElement("svg",{"aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},n.createElement("path",{d:"M19.5,12a2.3,2.3,0,0,1-.78,1.729L7.568,23.54a1.847,\n            1.847,0,0,1-2.439-2.773l9.752-8.579a.25.25,0,0,0,0-.376L5.129,\n            3.233A1.847,1.847,0,0,1,7.568.46l11.148,9.808A2.31,2.31,0,0,1,19.5,12Z"})))),a&&t)},m=({children:e})=>n.createElement("div",{className:"accordion-content-panel"},e),u=({titles:e,nestedLevel:t,children:a})=>n.createElement("ul",{className:`vf-tree__list  vf-tree__list--${t} ${t>1?"vf-tree__list--additional":""} | vf-list `},e.map(((e,t)=>n.createElement(c,{title:e,key:t},a[t])))),d=({titles:e,children:t})=>n.createElement("div",{className:"vf-tree","aria-expanded":"true"},n.createElement("div",{className:"vf-tree__inner"},n.createElement(u,{titles:e,nestedLevel:1},t)));var p=a(32);const v=({superGroup:e,title:t})=>n.createElement(n.Fragment,null,n.createElement("h3",null,t),!e.length&&n.createElement("p",null,"No ",t," annotations"),n.createElement(d,{titles:e.map((e=>e.title))},e.map((e=>n.createElement(n.Fragment,{key:e.title},n.createElement("div",{style:{padding:"0 8px"}},n.createElement("p",{className:"vf-text text-body--5"},n.createElement("span",{className:"icon icon-common icon-info","data-icon":"i"}),"  ",e.description)),n.createElement(u,{titles:e.annotations.map((e=>e.annotation_text)),nestedLevel:2},e.annotations.map((e=>n.createElement(n.Fragment,{key:e.annotation_text},e.mentions.map((e=>n.createElement(m,{key:e.id},n.createElement("div",{className:"publication-epmc-mention"},n.createElement("div",{className:"vf-sidebar vf-sidebar--end"},n.createElement("div",{className:"vf-sidebar__inner"},n.createElement("div",null,n.createElement("p",null,"Mentioned in the"," ",e.section.split(" (")[0]," section:")),n.createElement("div",null,n.createElement(l.Z,{href:e.id},"View on Europe PMC"),"  ",e.tags.map((e=>n.createElement(l.Z,{href:e.uri,key:e.name},"Definition of ‘",e.name,"’  ")))))),n.createElement("p",null,n.createElement("span",{className:"publications-epmc-annotation-prefix"},"…",e.prefix),n.createElement("span",{className:"publications-epmc-annotation-match"},n.createElement(l.Z,{href:e.id},e.exact)),n.createElement("span",{className:"publications-epmc-annotation-prefix"},e.postfix,"…"))))))))))))))),E=({publicationId:e,pubmedId:t})=>{var a,c;const{data:m,loading:u,error:d}=(0,i.Z)(`publications/${e}/europe_pmc_annotations`);if(u)return n.createElement(o.Z,{size:"large"});if(d)return n.createElement(s.Z,{error:d});const p=m.data,E=!(!(null===(a=null==p?void 0:p.sample_processing)||void 0===a?void 0:a.length)&&!(null===(c=p.other)||void 0===c?void 0:c.length));return n.createElement("div",{className:"vf-stack vf-stack--400"},n.createElement("div",{style:{width:"100%",textAlign:"right"}},"Powered by ",n.createElement("a",{href:"https://europepmc.org"},"Europe PMC"),".",n.createElement("img",{src:r,style:{height:"2em"},alt:"Europe PMC logo"})),n.createElement("p",null,"Through automated text-mining, many publications may have additional metadata available in the form of"," ",n.createElement(l.Z,{href:"https://europepmc.org/Annotations"},"Annotations")," ","from ",n.createElement(l.Z,{href:"https://europepmc.org"},"Europe PMC"),". Any Metagenomics-relevant annotations are shown here."),!E&&n.createElement("p",null,"No metagenomics annotations were found on Europe PMC. Annotations from other providers might be available on the"," ",n.createElement(l.Z,{href:`https://europepmc.org/abstract/MED/${t}`},"Europe PMC website"),"."),E&&n.createElement(n.Fragment,null,n.createElement(v,{superGroup:p.sample_processing,title:"Sample processing"}),n.createElement(v,{superGroup:p.other,title:"Other"})))},b=({publicationId:e,pubmedId:t})=>{var a,l;const{data:r,loading:c,error:m}=(0,i.Z)(`publications/${e}/europe_pmc_annotations`),[u,d]=(0,n.useState)(!1);if(c)return n.createElement(o.Z,{size:"small"});if(m)return n.createElement(s.Z,{error:m});const v=r.data;return(null===(a=null==v?void 0:v.sample_processing)||void 0===a?void 0:a.length)||(null===(l=v.other)||void 0===l?void 0:l.length)?n.createElement(n.Fragment,null,n.createElement(p.Z,{isOpen:u,onRequestClose:()=>d(!1),contentLabel:`Europe PMC Annotations for ${e}`},n.createElement("h1",null,"Annotations from Europe PMC"),n.createElement(E,{publicationId:e,pubmedId:t})),n.createElement("button",{className:"vf-button vf-button--link vf-button--sm",type:"button",onClick:()=>d(!0)},n.createElement("span",{className:"vf-badge vf-badge--secondary"},n.createElement("i",{className:"icon icon-common","data-icon":""})," meta")," ","Show metadata from Europe PMC Annotations")):null},g=E},3518:(e,t,a)=>{a.d(t,{Z:()=>p});var n=a(7294),l=a(9711),r=a(402),i=a(1699),o=a(8696),s=a(1055),c=a(8110),m=a(964),u=a(2119),d=a(5058);const p=({rootEndpoint:e})=>{var t,a;const p=(0,m.Z)(),[v]=(0,u.B)({"studies-page":1,"studies-page_size":10,"studies-order":""},{"studies-page":Number,"studies-page_size":Number}),{data:E,loading:b,error:g,isStale:f,downloadURL:h}=(0,c.Z)(`${e}/${p}/studies`,{page:v["studies-page"],ordering:v["studies-order"],page_size:v["studies-page_size"]});if(b&&!f)return n.createElement(r.Z,{size:"small"});if(g||!E)return n.createElement(i.Z,{error:g});if(!E.data.length)return null;const Z=[{id:"biome_id",Header:"Biome",accessor:e=>{var t,a;return null===(a=null===(t=e.relationships.biomes.data)||void 0===t?void 0:t[0])||void 0===a?void 0:a.id},Cell:({cell:e})=>n.createElement("span",{className:`biome_icon icon_xs ${(0,d.G)(e.value)}`,style:{float:"initial"}})},{id:"study",Header:"Study accession",accessor:"id",Cell:({cell:e})=>n.createElement(l.rU,{to:`/studies/${e.value}`},e.value)},{Header:"Name",accessor:"attributes.study-name"},{Header:"Abstract",accessor:"attributes.study-abstract",Cell:({cell:e})=>n.createElement(s.Z,{text:e.value||""})},{Header:"Samples Count",accessor:"attributes.samples-count"},{id:"last_update",Header:"Last Updated",accessor:"attributes.last-update",Cell:({cell:e})=>new Date(e.value).toLocaleDateString()}],_=((null===(a=null===(t=E.meta)||void 0===t?void 0:t.pagination)||void 0===a?void 0:a.count)||1)>10;return n.createElement(o.Z,{cols:Z,data:E,initialPage:v["studies-page"]-1,initialPageSize:10,className:"mg-studies-table",loading:b,isStale:f,namespace:"studies-",showPagination:_,downloadURL:h})}},32:(e,t,a)=>{a.d(t,{Z:()=>o});var n=a(7294),l=a(3253),r=a.n(l);r().setAppElement("#root");const i={overlay:{zIndex:1e4,position:"fixed"},content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",maxHeight:"calc(100vh - 5em)",overflowY:"auto"}},o=({isOpen:e,onRequestClose:t,contentLabel:a,children:l})=>n.createElement(r(),{isOpen:e,onRequestClose:t,contentLabel:a,style:i},n.createElement("div",{className:"emg-modal-close"},n.createElement("button",{onClick:t,className:"vf-button vf-button--link",type:"button"},n.createElement("i",{className:"icon icon-common icon-times"}))),l)},3415:(e,t,a)=>{a.d(t,{Z:()=>l});var n=a(7294);const l=({list:e})=>n.createElement("div",{className:"vf-grid vf-grid__col-2",style:{gridTemplateColumns:"1fr 2fr",rowGap:"0.5rem"}},e.map((({key:e,value:t})=>n.createElement(n.Fragment,{key:e},n.createElement("div",{style:{textAlign:"right"}},e,":"),n.createElement("div",null,"string"==typeof t?t:n.createElement(t,null))))))},1055:(e,t,a)=>{a.d(t,{Z:()=>l});var n=a(7294);const l=({text:e,maxLength:t=250})=>n.createElement(n.Fragment,null,e.substring(0,t),e.length>=t&&"...")},5180:(e,t,a)=>{a.r(t),a.d(t,{default:()=>p});var n=a(7294),l=a(8110),r=a(964),i=a(402),o=a(1699),s=a(5478),c=a(3415),m=a(2531),u=a(3518),d=a(2034);const p=()=>{var e,t,a;const p=(0,r.Z)(),{data:v,loading:E,error:b}=(0,l.Z)(`publications/${p}`);if(E)return n.createElement(i.Z,{size:"large"});if(b)return n.createElement(o.Z,{error:b});if(!v)return n.createElement(i.Z,null);const{data:g}=v,f=[{key:"Journal name",value:g.attributes["iso-journal"]},{key:"DOI",value:()=>n.createElement(m.Z,{href:`https://www.doi.org/${g.attributes.doi}`},g.attributes.doi)},{key:"PMID",value:()=>n.createElement(m.Z,{href:`https://europepmc.org/abstract/MED/${g.id}`},g.id)},{key:"Published year",value:String(g.attributes["published-year"])}];return g.attributes["medline-journal"]&&f.push({key:"Medical journal",value:()=>n.createElement(m.Z,{href:g.attributes["medline-journal"]},g.attributes["medline-journal"])}),n.createElement("section",{className:"vf-content"},n.createElement("h2",null,"Publication: ",(null===(e=null==g?void 0:g.attributes)||void 0===e?void 0:e["pub-title"])||""),n.createElement("h4",null,(null===(t=null==g?void 0:g.attributes)||void 0===t?void 0:t.authors)||""),n.createElement("section",{className:"vf-grid"},n.createElement("div",{className:"vf-stack vf-stack--200"},(null===(a=null==g?void 0:g.attributes)||void 0===a?void 0:a.abstract)&&n.createElement("div",null,g.attributes.abstract),n.createElement(s.Z,{label:"Publication details"},n.createElement(c.Z,{list:f})),n.createElement(s.Z,{label:"Europe PMC Annotations"},n.createElement(d.Z,{publicationId:p,pubmedId:g.id})),n.createElement(s.Z,{label:"Associated studies"},n.createElement(u.Z,{rootEndpoint:"publications"})))))}},3182:(e,t,a)=>{e.exports=a.p+"static/e59a5adc462396bf4d24.png"}}]);
//# sourceMappingURL=112.c2eabdbb.chunk.js.map