"use strict";(self.webpackChunkmgportalv2=self.webpackChunkmgportalv2||[]).push([[130],{792:(e,t,a)=>{a.r(t),a.d(t,{default:()=>y});var r=a(7294),o=a(8110),n=a(964),s=a(402),l=a(1699),i=a(4821),c=a(9711),m=a(8696),u=a(2119),d=a(5058),g=a(5457);const b=()=>{const e=(0,n.Z)(),[t]=(0,u.B)({"genomes-page":1,"genomes-page_size":10,"genomes-order":""},{"genomes-page":Number,"genomes-page_size":Number}),{data:a,loading:i,error:b,isStale:h}=(0,o.Z)(`genome-catalogues/${e}/genomes`,{page:t["genomes-page"],ordering:t["genomes-order"],page_size:t["genomes-page_size"]});if(i&&!h)return r.createElement(s.Z,{size:"small"});if(b||!a)return r.createElement(l.Z,{error:b});const p=[{id:"biome_id",Header:"Biome",accessor:e=>{var t;return null===(t=e.relationships.biome.data)||void 0===t?void 0:t.id},Cell:({cell:e})=>r.createElement("span",{className:`biome_icon icon_xs ${(0,d.G)(e.value)}`,style:{float:"initial"}}),disableSortBy:!0},{id:"genome",Header:"Accession",accessor:"id",Cell:({cell:e})=>r.createElement(c.rU,{to:`/genomes/${e.value}`},e.value)},{Header:"Length",accessor:"attributes.length"},{Header:"Num. of genomes",accessor:"attributes.num-genomes-total"},{Header:"Completeness",accessor:"attributes.completeness"},{Header:"Contamination",accessor:"attributes.contamination"},{Header:"Type",accessor:"attributes.type",disableSortBy:!0},{Header:"Taxonomy",accessor:"attributes.taxon-lineage",Cell:({cell:e})=>(0,g.FS)(e.value,!0),disableSortBy:!0},{id:"last_update",Header:"Last Updated",accessor:"attributes.last-update",Cell:({cell:e})=>new Date(e.value).toLocaleDateString()}];return r.createElement(m.Z,{cols:p,data:a,initialPage:t["genomes-page"]-1,initialPageSize:10,className:"mg-anlyses-table",loading:i,isStale:h,namespace:"genomes-",sortable:!0})},h=({tree:e,depth:t=0,shouldExpand:a=!0,collapsing:o=!1,getLabel:n=(e=>e.name)})=>{var s;const[l,i]=(0,r.useState)(a),[c,m]=(0,r.useState)(!1),[u,d]=(0,r.useState)(!1);return(0,r.useEffect)((()=>m(!0)),[]),(0,r.useEffect)((()=>{u&&setTimeout((()=>i(!1)),400)}),[u]),r.createElement("div",{style:{marginLeft:.5*t+"rem"}},r.createElement("div",{className:"mg-hierarchy-selector "+(c&&!o?"show":"")},(null===(s=e.children)||void 0===s?void 0:s.length)?r.createElement("button",{type:"button",className:"mg-expander",onClick:()=>{d(l),l||i(!0)}},l?"▾":"▸"):r.createElement("span",{className:"mg-hierarchy-spacer"}),r.createElement("div",null,r.createElement("span",{className:"mg-hierarchy-label"},n(e)," ",e.countgen&&r.createElement("span",{className:"mg-number"},e.countgen)))),e.children&&e.children.length&&l&&e.children.map((a=>r.createElement(h,{key:a.name,tree:a,depth:t+1,shouldExpand:1===e.countgen&&1===a.countgen,getLabel:n,collapsing:u}))))},p=h,v=()=>{const e=(0,n.Z)(),{data:t,loading:a,error:i}=(0,o.Z)(`genome-catalogues/${e}/downloads/phylo_tree.json`);return a?r.createElement(s.Z,{size:"large"}):i?r.createElement(l.Z,{error:i}):t?r.createElement(p,{tree:t,getLabel:e=>{const t=e.name.split("__").pop();return"genome"===e.type?r.createElement(c.rU,{to:`/genomes/${t}`,style:{backgroundColor:"white"}},t):t||"Unknown"}}):r.createElement(s.Z,null)};var _=a(6528),E=a(1274);const f=[{label:"Genome list",to:"#"},{label:"Taxonomy tree",to:"#phylo-tab"},{label:"Protein catalogue",to:"#protein-catalog-tab"},{label:"Search by Gene",to:"#genome-search-tab"},{label:"Search by MAG",to:"#genome-search-mag-tab"}],y=()=>{const e=(0,n.Z)(),{data:t,loading:a,error:c}=(0,o.Z)(`genome-catalogues/${e}`);if(a)return r.createElement(s.Z,{size:"large"});if(c)return r.createElement(l.Z,{error:c});if(!t)return r.createElement(s.Z,null);const{data:m}=t;return r.createElement("section",{className:"vf-content"},r.createElement("h2",null,m.attributes.name),r.createElement("div",null,r.createElement(_.Z,null,m.attributes.description)),r.createElement(i.Z,{tabs:f}),r.createElement("section",{className:"vf-grid"},r.createElement("div",{className:"vf-stack vf-stack--200"},r.createElement(E.Z,{hash:"",isDefault:!0},r.createElement(b,null)),r.createElement(E.Z,{hash:"#phylo-tab"},r.createElement(v,null)),r.createElement(E.Z,{hash:"#protein-catalog-tab"},r.createElement("h3",null,m.attributes["protein-catalogue-name"]),r.createElement(_.Z,null,m.attributes["protein-catalogue-description"])))))}},5058:(e,t,a)=>{a.d(t,{G:()=>i});const r={"root:engineered":"engineered_b"},o={"root:engineered:wastewater":"wastewater_b","root:environmental:air":"air_b","root:host-associated:amphibia":"amphibian_b","root:host-associated:arthropoda":"arthropoda_b","root:host-associated:fish":"fish_b","root:host-associated:human":"human_host_b","root:host-associated:insecta":"insect_b","root:host-associated:mammals":"mammals_b","root:host-associated:mollusca":"mollusca_b","root:host-associated:plants":"plant_host_b","root:host-associated:porifera":"porifera_b"},n={"root:environmental:aquatic:freshwater":"freshwater_b","root:environmental:aquatic:marine":"marine_b","root:environmental:aquatic:thermal springs":"hotspring_b","root:environmental:terrestrial:soil":"soil_b","root:environmental:terrestrial:volcanic":"vulcano_b","root:host-associated:human:digestive system":"human_gut_b","root:host-associated:human:skin":"skin_b"},s={"root:environmental:aquatic:freshwater:drinking water":"drinking_water_b","root:environmental:aquatic:freshwater:groundwater":"groundwater_b","root:environmental:aquatic:freshwater:ice":"ice_b","root:environmental:aquatic:freshwater:lake":"lake_b","root:environmental:aquatic:freshwater:lotic":"river_b","root:environmental:aquatic:marine:hydrothermal vents":"hydrothermal_vents_b","root:environmental:terrestrial:soil:wetlands":"wetlands_b","root:host-associated:human:digestive system:oral":"mouth_b","root:host-associated:human:respiratory system:pulmonary system":"lung_b","root:host-associated:mammals:nervous system:brain":"brain_b"},l={"root:environmental:aquatic:freshwater:groundwater:cave water":"cave_b","root:environmental:aquatic:freshwater:ice:glacier":"glacier_b","root:environmental:terrestrial:soil:grasslands":"grassland_b","root:environmental:terrestrial:soil:loam:forest soil":"forest_b","root:environmental:terrestrial:soil:sand:desert":"desert_b"};function i(e){const t=(e||"").split(":").map((e=>e.toLowerCase())),a=t.slice(0,2).join(":"),i=t.slice(0,3).join(":"),c=t.slice(0,4).join(":"),m=t.slice(0,5).join(":"),u=t.slice(0,6).join(":");return l[u]||s[m]||n[c]||o[i]||r[a]||"default_b"}}}]);
//# sourceMappingURL=130.470f9c68.chunk.js.map