/*! For license information please see 24.194ee4ac.chunk.js.LICENSE.txt */
(self.webpackChunkmgportalv2=self.webpackChunkmgportalv2||[]).push([[24],{6489:(e,t)=>{"use strict";t.Q=function(e,t){if("string"!=typeof e)throw new TypeError("argument str must be a string");for(var n={},l=t||{},i=e.split(r),o=l.decode||a,c=0;c<i.length;c++){var m=i[c],u=m.indexOf("=");if(!(u<0)){var d=m.substr(0,u).trim(),f=m.substr(++u,m.length).trim();'"'==f[0]&&(f=f.slice(1,-1)),null==n[d]&&(n[d]=s(f,o))}}return n},t.q=function(e,t,a){var r=a||{},s=r.encode||n;if("function"!=typeof s)throw new TypeError("option encode is invalid");if(!l.test(e))throw new TypeError("argument name is invalid");var i=s(t);if(i&&!l.test(i))throw new TypeError("argument val is invalid");var o=e+"="+i;if(null!=r.maxAge){var c=r.maxAge-0;if(isNaN(c))throw new Error("maxAge should be a Number");o+="; Max-Age="+Math.floor(c)}if(r.domain){if(!l.test(r.domain))throw new TypeError("option domain is invalid");o+="; Domain="+r.domain}if(r.path){if(!l.test(r.path))throw new TypeError("option path is invalid");o+="; Path="+r.path}if(r.expires){if("function"!=typeof r.expires.toUTCString)throw new TypeError("option expires is invalid");o+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(o+="; HttpOnly"),r.secure&&(o+="; Secure"),r.sameSite)switch("string"==typeof r.sameSite?r.sameSite.toLowerCase():r.sameSite){case!0:case"strict":o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return o};var a=decodeURIComponent,n=encodeURIComponent,r=/; */,l=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function s(e,t){try{return t(e)}catch(t){return e}}},5277:(e,t,a)=>{var n,r,l;l=function(){var e,t,a=document,n=a.getElementsByTagName("head")[0],r={},l={},s={},i={};function o(e,t){for(var a=0,n=e.length;a<n;++a)if(!t(e[a]))return!1;return 1}function c(e,t){o(e,(function(e){return t(e),1}))}function m(t,a,n){t=t.push?t:[t];var d=a&&a.call,f=d?a:n,h=d?t.join(""):a,p=t.length;function g(e){return e.call?e():r[e]}function v(){if(!--p)for(var e in r[h]=1,f&&f(),s)o(e.split("|"),g)&&!c(s[e],g)&&(s[e]=[])}return setTimeout((function(){c(t,(function t(a,n){return null===a?v():(n||/^https?:\/\//.test(a)||!e||(a=-1===a.indexOf(".js")?e+a+".js":e+a),i[a]?(h&&(l[h]=1),2==i[a]?v():setTimeout((function(){t(a,!0)}),0)):(i[a]=1,h&&(l[h]=1),void u(a,v)))}))}),0),m}function u(e,r){var l,s=a.createElement("script");s.onload=s.onerror=s.onreadystatechange=function(){s.readyState&&!/^c|loade/.test(s.readyState)||l||(s.onload=s.onreadystatechange=null,l=1,i[e]=2,r())},s.async=1,s.src=t?e+(-1===e.indexOf("?")?"?":"&")+t:e,n.insertBefore(s,n.lastChild)}return m.get=u,m.order=function(e,t,a){!function n(r){r=e.shift(),e.length?m(r,n):m(r,t,a)}()},m.path=function(t){e=t},m.urlArgs=function(e){t=e},m.ready=function(e,t,a){e=e.push?e:[e];var n,l=[];return!c(e,(function(e){r[e]||l.push(e)}))&&o(e,(function(e){return r[e]}))?t():(n=e.join("|"),s[n]=s[n]||[],s[n].push(t),a&&a(l)),m},m.done=function(e){m([null],e)},m},e.exports?e.exports=l():void 0===(r="function"==typeof(n=l)?n.call(t,a,t,e):n)||(e.exports=r)},6341:(e,t,a)=>{"use strict";a.d(t,{p0:()=>o,Sf:()=>i,ZP:()=>c});var n=a(7294),r=a(9711),l=a(4018);const s=JSON.parse('[{"title":"MGnify: the microbiome analysis resource in 2020","journal":"Nucleic Acids Research","year":2019,"link":"https://academic.oup.com/nar/article/48/D1/D570/5614179","doi":"10.1093/nar/gkz1035","authors":"Mitchell AL, Almeida A, Beracochea M, Boland M, Burgin J, Cochrane G, Crusoe MR, Kale V, Potter SC, Richardson LJ, Sakharova E, Scheremetjew M, Korobeynikov A, Shlemov A, Kunyavskaya O, Lapidus A and Finn RD","recent":true,"main":true},{"title":"A new genomic blueprint of the human gut microbiota","journal":"Nature","year":2019,"link":"https://www.nature.com/articles/s41586-019-0965-1","doi":"10.1038/s41586-019-0965-1","authors":"Almeida A, Mitchell AL, Boland M, Forster SC, Gloor GB, Tarkowska A, Lawley TD and Finn RD","recent":true},{"title":"Human gastrointestinal bacteria genome and culture collection","journal":"Nature Biotechnology","year":2019,"link":"https://www.nature.com/articles/s41587-018-0009-7","doi":"10.1038/s41587-018-0009-7","authors":"Forster SC, Kumar N, Anonye BO, Almeida A, Viciani E, Stares MD, Dunn M, Mkandawire TT, Zhu A, Browne HP, Shao Y, Pike LJ, Louie T, Mitchell AL, Neville BA, Finn RD, Lawley TD","recent":true},{"title":"Benchmarking taxonomic assignments based on 16S rRNA gene profiling of the microbiota from commonly sampled environments","journal":"GigaScience","year":2017,"link":"https://doi.org/10.1093/gigascience/giy054","doi":"10.1093/gigascience/giy054","authors":"Almeida A, Mitchell AL, Tarkowska A, Finn RD.","recent":true},{"title":"EBI Metagenomics in 2017: enriching the analysis of microbial communities, from sequence reads to assemblies","journal":"Nucleic Acids Research","year":2017,"link":"https://doi.org/10.1093/nar/gkx967","doi":"10.1093/nar/gkx967","authors":"Mitchell AL, Scheremetjew M, Denise H, Potter S, Tarkowska A, Qureshi M, Salazar GA, Pesseat S, Boland M, Hunter FMI, ten Hoopen P, Alako B, Amid C, Wilkinson DJ, Curtis TP, Cochrane G and Finn RD"},{"title":"EBI metagenomics in 2016 - an expanding and evolving resource for the analysis and archiving of metagenomic data","journal":"Nucleic Acids Research","year":2015,"link":"http://nar.oxfordjournals.org/content/44/D1/D595.full","doi":"10.1093/nar/gkv1195","authors":"Mitchell AL, Bucchini F, Cochrane G, Denise H, ten Hoopen P, Fraser M, Pesseat S, Potter S, Scheremetjew M, Sterk P and Finn RD"},{"title":"EBI metagenomics - a new resource for the analysis and archiving of metagenomic data","journal":"Nucleic Acids Research","year":2013,"link":"http://dx.doi.org/10.1093/nar/gkt961","doi":"10.1093/nar/gkt961","authors":"Hunter S, Corbett M, Denise H, Fraser M, Gonzalez-Beltran A, Hunter C, Jones P, Leinonen R, McAnulla C, Maguire E, Maslen J, Mitchell AL, Nuka G, Oisel A, Pesseat S, Radhakrishnan R, Rocca-Serra P, Scheremetjew M, Sterk P, Vaughan D, Cochrane G, Field D and Sansone SA"}]'),i=({id:e,title:t,journal:a,year:l,link:s,doi:i,authors:o,maxAuthorsLength:c,children:m})=>{const u=c&&o.length>c?((e,t)=>{const a=e.slice(0,t).split(",");return a.pop(),a.push(" et al."),a.join(",")})(o,c):o,d=e?n.createElement(r.rU,{to:`/publications/${e}`},t):n.createElement("a",{href:s},t);return n.createElement("section",{className:"mg-pub"},n.createElement("span",{className:"mg-pub-title"},d)," ",n.createElement("span",{className:"mg-pub-journal"},a)," (",n.createElement("span",{className:"mg-pub-year"},l),")"," ",n.createElement("span",{className:"mg-pub-doi"},"doi:",n.createElement("a",{title:t,href:s,className:"mg-ext"},i)),n.createElement("div",{className:"mg-pub-authors"},u,"."),m)},o=()=>{var e;const t=null===(e=s.filter((e=>e.main)))||void 0===e?void 0:e[0];return n.createElement("div",{className:"embl-grid | vf-content"},n.createElement("div",{className:"vf-section-header mg-pub-section-header"},n.createElement("img",{alt:"Cover of the journal",src:l,className:"mg-pub-cover"})),n.createElement("div",null,n.createElement("p",null,"To cite MGnify, please refer to the following publication:"),t&&n.createElement(i,{id:t.id,title:t.title,journal:t.journal,year:t.year,link:t.link,doi:t.doi,authors:t.authors})))},c=()=>{const[e,t]=(0,n.useState)(!1);return n.createElement("section",{className:"mg-pub-section"},s.filter((t=>e||t.recent)).map((e=>n.createElement("article",{key:e.doi},n.createElement(i,{id:e.id,title:e.title,journal:e.journal,year:e.year,link:e.link,doi:e.doi,authors:e.authors})))),n.createElement("div",{className:"mg-right"},n.createElement("button",{type:"button",className:"vf-button vf-button--sm",onClick:()=>t(!e)},e?"Less":"More"," publications")))}},2069:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var n=a(7294);const r=()=>n.createElement("svg",{"aria-hidden":"true",className:"vf-card__heading__icon | vf-icon vf-icon-arrow--inline-end",width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",preserveAspectRatio:"none"},n.createElement("path",{d:"M0 12c0 6.627 5.373 12 12 12s12-5.373 12-12S18.627 0 12 0C5.376.008.008 5.376 0 12zm13.707-5.209l4.5 4.5a1 1 0 010 1.414l-4.5 4.5a1 1 0 01-1.414-1.414l2.366-2.367a.25.25 0 00-.177-.424H6a1 1 0 010-2h8.482a.25.25 0 00.177-.427l-2.366-2.368a1 1 0 011.414-1.414z",fill:"currentColor",fillRule:"nonzero"}))},3005:(e,t,a)=>{"use strict";a.d(t,{Z:()=>f});var n=a(7294);const r=function(e){var t,a=(0,n.useRef)(e);a.current=e,t=function(){return function(){return a.current()}},(0,n.useEffect)(t,[])};var l=a(6362);const s=function(e){var t=function(e){var t=(0,n.useRef)(0),a=(0,n.useState)(e),l=a[0],s=a[1],i=(0,n.useCallback)((function(e){cancelAnimationFrame(t.current),t.current=requestAnimationFrame((function(){s(e)}))}),[]);return r((function(){cancelAnimationFrame(t.current)})),[l,i]}({x:0,y:0}),a=t[0],s=t[1];return(0,n.useEffect)((function(){var t=function(){e.current&&s({x:e.current.scrollLeft,y:e.current.scrollTop})};return e.current&&(0,l.on)(e.current,"scroll",t,{capture:!1,passive:!0}),function(){e.current&&(0,l.S1)(e.current,"scroll",t)}}),[e]),a},i=l.jU?n.useLayoutEffect:n.useEffect;var o={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};const c=l.jU&&void 0!==window.ResizeObserver?function(){var e=(0,n.useState)(null),t=e[0],a=e[1],r=(0,n.useState)(o),l=r[0],s=r[1],c=(0,n.useMemo)((function(){return new window.ResizeObserver((function(e){if(e[0]){var t=e[0].contentRect,a=t.x,n=t.y,r=t.width,l=t.height,i=t.top,o=t.left,c=t.bottom,m=t.right;s({x:a,y:n,width:r,height:l,top:i,left:o,bottom:c,right:m})}}))}),[]);return i((function(){if(t)return c.observe(t),function(){c.disconnect()}}),[t]),[a,l]}:function(){return[l.ZT,o]},m={boxShadow:"inset 0 15px 10px -10px var(--vf-color--neutral--200)",borderTop:"1px solid var(--vf-color--neutral--200)"},u={boxShadow:"inset 0 -15px 10px -10px var(--vf-color--neutral--200)",borderBottom:"1px solid var(--vf-color--neutral--200)"},d={boxShadow:"inset 0 -15px 10px -10px var(--vf-color--neutral--200), inset 0 15px 10px -10px var(--vf-color--neutral--200)"},f=({children:e,heightPx:t,className:a})=>{const r=n.useRef(null),{y:l}=s(r),[i,{height:o}]=c(),f=l>5,h=l+t<o-5;return n.createElement("div",{ref:r,className:`${a} fixed-height-scrollable__outer`,style:Object.assign(Object.assign(Object.assign({maxHeight:`${t}px`,overflowY:"scroll"},f&&m),h&&u),h&&f&&d)},n.createElement("div",{ref:i,className:"fixed-height-scrollable__inner"},e))}},1457:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var n=a(7294);const r=({children:e,className:t="",image:a=null,imageAltText:r=""})=>n.createElement("article",{className:`vf-card vf-card--brand vf-card--bordered ${t}`},a&&n.createElement("img",{src:a,alt:r,className:"vf-card__image",loading:"lazy"}),n.createElement("div",{className:"vf-card__content | vf-stack vf-stack--600"},e))},1055:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l});var n=a(7294),r=a(7565);const l=({text:e,maxLength:t=250,withTooltip:a=!1})=>{const l=e.length>=t,s=n.createElement(n.Fragment,null,e.substring(0,t),l&&"...");return a&&l?n.createElement(r.Z,{content:e},n.createElement("span",null,s)):s}},7565:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l});var n=a(7294),r=a(7275);a(3751);const l=({content:e,children:t})=>n.createElement(r.ZP,{content:e},t)},7832:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var n=a(7294),r=a(7838),l=a(6050);const s=(e,t={})=>{const{config:a}=(0,n.useContext)(l.ZP),s=Object.assign(Object.assign({},{format:"json",start:0}),t),i=`${a.ebisearch}${e}?${Object.entries(s).map((([e,t])=>`${e}=${t}`)).join("&")}`,o=(0,r.ZP)([null,void 0].includes(e)?null:i);return o.getDownloadURL=((e,t,a)=>n=>{const r=Object.assign(Object.assign({},a),{total:n,facetcount:void 0,facetsdepth:void 0});return`${e}ebi-search-download/${t}?${Object.entries(r).filter((([,e])=>Boolean(e))).map((([e,t])=>`${e}=${t}`)).join("&")}`})(a.api,e,s),o}},7918:(e,t,a)=>{"use strict";a.d(t,{Z:()=>m});var n=a(6489);function r(e,t){void 0===t&&(t={});var a=function(e){return e&&"j"===e[0]&&":"===e[1]?e.substr(2):e}(e);if(function(e,t){return void 0===t&&(t=!e||"{"!==e[0]&&"["!==e[0]&&'"'!==e[0]),!t}(a,t.doNotParse))try{return JSON.parse(a)}catch(e){}return e}var l=function(){return l=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},l.apply(this,arguments)};const s=function(){function e(e,t){var a=this;this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.cookies=function(e,t){return"string"==typeof e?n.Q(e,t):"object"==typeof e&&null!==e?e:{}}(e,t),new Promise((function(){a.HAS_DOCUMENT_COOKIE="object"==typeof document&&"string"==typeof document.cookie})).catch((function(){}))}return e.prototype._updateBrowserValues=function(e){this.HAS_DOCUMENT_COOKIE&&(this.cookies=n.Q(document.cookie,e))},e.prototype._emitChange=function(e){for(var t=0;t<this.changeListeners.length;++t)this.changeListeners[t](e)},e.prototype.get=function(e,t,a){return void 0===t&&(t={}),this._updateBrowserValues(a),r(this.cookies[e],t)},e.prototype.getAll=function(e,t){void 0===e&&(e={}),this._updateBrowserValues(t);var a={};for(var n in this.cookies)a[n]=r(this.cookies[n],e);return a},e.prototype.set=function(e,t,a){var r;"object"==typeof t&&(t=JSON.stringify(t)),this.cookies=l(l({},this.cookies),((r={})[e]=t,r)),this.HAS_DOCUMENT_COOKIE&&(document.cookie=n.q(e,t,a)),this._emitChange({name:e,value:t,options:a})},e.prototype.remove=function(e,t){var a=t=l(l({},t),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=l({},this.cookies),delete this.cookies[e],this.HAS_DOCUMENT_COOKIE&&(document.cookie=n.q(e,"",a)),this._emitChange({name:e,value:void 0,options:t})},e.prototype.addChangeListener=function(e){this.changeListeners.push(e)},e.prototype.removeChangeListener=function(e){var t=this.changeListeners.indexOf(e);t>=0&&this.changeListeners.splice(t,1)},e}();var i=a(7294),o=a(7838),c=a(6050);const m=(e,t,a,n,r="")=>{const{config:l}=(0,i.useContext)(c.ZP),m=new s;return(0,o.ZP)(e?`${l.api}utils/notify`:null,o.B5.HTML,{method:"POST",headers:{"X-CSRFToken":m.get("csrftoken"),"Content-Type":"application/vnd.api+json"},credentials:"include",body:JSON.stringify({data:{type:"notifies",attributes:{from_email:e,cc:r,subject:t,message:a,is_consent:n||!1}}})})}},6722:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>H});var n=a(7294),r=a(2069),l=a(9711);const s=({title:e,label:t,to:a,image:s,imageAltText:i,externalLink:o=!1,className:c="vf-card--bordered",badge:m})=>n.createElement("article",{className:`vf-card vf-card--brand ${c}`},s&&n.createElement("img",{src:s,alt:i,className:"vf-card__image",loading:"lazy"}),n.createElement("div",{className:"vf-card__content | vf-stack vf-stack--400"},n.createElement("h3",{className:"vf-card__heading"},m&&n.createElement("span",{className:"vf-badge vf-badge--tertiary"},m),o&&"string"==typeof a&&n.createElement("a",{className:"vf-card__link",href:a},e," ",n.createElement(r.Z,null)),!o&&"string"==typeof a&&n.createElement(l.rU,{className:"vf-card__link",to:a},e," ",n.createElement(r.Z,null)),"function"==typeof a&&n.createElement("button",{type:"button",className:"mg-button-as-link vf-card__link",onClick:a},e," ",n.createElement(r.Z,null))),n.createElement("p",{className:"vf-card__text"},t)));var i=a(1457),o=a(6050),c=a(402),m=a(7832),u=a(1699),d=a(8110);const f=({type:e,label:t,link:a})=>{const{data:r,loading:s,error:i}=(0,m.Z)("metagenomics_analyses",{query:"domain_source:metagenomics_analyses",size:0,fields:"id,name,description,biome_name,metagenomics_samples",facetcount:0,facetsdepth:5,facets:`experiment_type:${e}`});return s?n.createElement("tr",null,n.createElement("td",null,n.createElement(c.Z,{size:"small"}))):i?n.createElement(u.Z,{error:i}):n.createElement("tr",{className:"vf-table__row"},n.createElement("td",{className:"vf-table__cell",style:{textAlign:"right"}},n.createElement(l.rU,{to:a,className:"mg-link"},(null==r?void 0:r.hitCount)||"...")),n.createElement("td",{className:"vf-table__cell"},n.createElement(l.rU,{to:a,className:"mg-link"},t)))},h=({label:e,endpoint:t,link:a})=>{const{data:r,loading:s,error:i}=(0,m.Z)(t,{query:`domain_source:${t}`,size:0,fields:"id,name,description,biome_name,metagenomics_samples",facetcount:0,facetsdepth:5});return i?n.createElement(u.Z,{error:i}):n.createElement("tr",{className:"vf-table__row"},n.createElement("td",{className:"vf-table__cell",style:{textAlign:"right"}},s?n.createElement(c.Z,{size:"small"}):n.createElement(l.rU,{to:a,className:"mg-link"},(null==r?void 0:r.hitCount)||"??")),n.createElement("td",{className:"vf-table__cell"},n.createElement(l.rU,{to:a,className:"mg-link"},e)))},p=({endpoint:e,link:t,aggregator:a,labelRenderer:r})=>{const{data:s,loading:i,error:o}=(0,d.Z)(e),m=(0,n.useMemo)((()=>a(s)),[s,a]),f=(0,n.useMemo)((()=>"string"==typeof r?r:r(s)),[s,r]);return o?n.createElement(u.Z,{error:o}):n.createElement("tr",{className:"vf-table__row"},n.createElement("td",{className:"vf-table__cell",style:{textAlign:"right"}},i?n.createElement(c.Z,{size:"small"}):n.createElement(l.rU,{to:t,className:"mg-link"},m)),n.createElement("td",{className:"vf-table__cell"},n.createElement(l.rU,{to:t,className:"mg-link"},f)))},g=()=>n.createElement("div",{className:"vf-grid vf-grid__col-2"},n.createElement("div",null,n.createElement("h5",null,n.createElement("span",{className:"icon icon-conceptual icon-c3","data-icon":"d"}),"  Analysis types"),n.createElement("table",{className:"vf-table"},n.createElement("tbody",{className:"vf-table__body"},[{type:"amplicon",label:"amplicon",link:"/search/analyses?experiment_type=amplicon"},{type:"assembly",label:"assemblies",link:"/search/analyses?experiment_type=assembly"},{type:"metabarcoding",label:"metabarcoding",link:"/search/analyses?experiment_type=metabarcoding"},{type:"metagenomic",label:"metagenomes",link:"/search/analyses?experiment_type=metagenomic"},{type:"metatranscriptomic",label:"metatranscriptomics",link:"/search/analyses?experiment_type=metatranscriptomic"},{type:"long_reads_assembly",label:"long reads assemblies",link:"/search/analyses?experiment_type=long_reads_assembly"}].map((({type:e,label:t,link:a})=>n.createElement(f,{type:e,label:t,link:a,key:e})))))),n.createElement("div",null,n.createElement("h5",null,n.createElement("span",{className:"icon icon-functional icon-c9","data-icon":"U"}),"  Public data"),n.createElement("table",{className:"vf-table"},n.createElement("tbody",{className:"vf-table__body"},[{label:"studies",endpoint:"metagenomics_projects",link:"/search/studies"},{label:"samples",endpoint:"metagenomics_samples",link:"/search/samples"},{label:"analyses",endpoint:"metagenomics_analyses",link:"/search/analyses"}].map((({endpoint:e,label:t,link:a})=>n.createElement(h,{endpoint:e,label:t,link:a,key:e}))),[{endpoint:"genome-catalogues",link:"/browse/genomes",aggregator:e=>{var t,a;return null===(a=null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.map((e=>e.attributes["genome-count"])))||void 0===a?void 0:a.reduce(((e,t)=>e+t))},labelRenderer:e=>{var t;return(null==e?void 0:e.data)?`genomes in ${null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.length} MAG catalogues`:"genomes"}}].map((({endpoint:e,labelRenderer:t,link:a,aggregator:r})=>n.createElement(p,{endpoint:e,labelRenderer:t,link:a,aggregator:r,key:e})))))));var v=a(5058);const b=({lineage:e,name:t,count:a})=>n.createElement("div",null,n.createElement(l.rU,{to:`/browse/studies?biome=${e}`,className:"vf-grid vf-grid__col-1 mg-link",style:{textAlign:"center",gridRowGap:"0.2em"}},n.createElement("div",null,n.createElement("span",{className:`biome_icon_hoverable biome_icon icon_sm ${(0,v.G)(e)}`,style:{float:"initial"}})),n.createElement("div",{className:"biome-text"}," ",t," (",a,")"))),y=()=>{const{data:e,loading:t,error:a}=(0,d.Z)("biomes/top10",{ordering:"-samples_count"});return t?n.createElement(c.Z,null):a?n.createElement(u.Z,{error:a}):n.createElement("section",{className:"vf-stack vf-stack--200 search-by-biomes-section"},n.createElement("div",{className:"vf-grid vf-grid__col responsive_biomes_grid"},e.data.map((({id:e,attributes:t})=>n.createElement(b,{key:e,lineage:e,name:t["biome-name"],count:t["samples-count"]})))),n.createElement("div",{className:"mg-right"},n.createElement(l.rU,{to:"/browse/biomes/",className:"vf-button vf-button--primary"},"View all biomes")))},E=()=>{const{config:e}=(0,n.useContext)(o.ZP);return n.createElement(i.Z,{className:"search-by-section"},n.createElement("h3",{className:"vf-card__heading"},"Search by"),n.createElement("div",{className:"vf-grid"},n.createElement(s,{title:"Text search",label:"Name, biome, or keyword",to:"/search"}),n.createElement(s,{title:"Sequence search",label:"Sequence search",to:e.hmmer,externalLink:!0})),n.createElement("h3",{className:"vf-card__heading"},"Or by data type"),n.createElement(g,null),n.createElement("h3",{className:"vf-card__heading"},"Or by selected biomes"),n.createElement(y,null))};var N=a(32),_=a(2119),k=a(1055),w=a(4829),x=a(3005);const S=({id:e,name:t,abstract:a,lineage:r})=>{const s=(0,v.G)(r);return n.createElement("article",{className:"vf-summary vf-summary--has-image study"},n.createElement("span",{className:`biome_icon icon_xs ${s}`}),n.createElement("h3",{className:"vf-summary__title"},n.createElement(l.rU,{to:`/studies/${e}`,className:"vf-summary__link"},n.createElement(k.Z,{text:t,maxLength:100}))),n.createElement("p",{className:"vf-summary__text vf-u-type__text-body--5"},n.createElement(k.Z,{text:a})))},A=()=>{const e=(0,w.Z)("(max-width: 768px)"),{data:t,loading:a,error:r}=(0,d.Z)("studies/recent",{page_size:e?3:20});return a?n.createElement(c.Z,{size:"large"}):r?n.createElement(u.Z,{error:r}):t?n.createElement("section",{className:"vf-stack vf-stack--200"},n.createElement(x.Z,{className:"vf-grid vf-grid__col-1 latest-studies-section",heightPx:800},t.data.map((({id:e,attributes:t,relationships:a})=>{var r,l,s;return n.createElement(S,{key:e,id:e,name:t["study-name"],abstract:t["study-abstract"],lineage:null===(s=null===(l=null===(r=null==a?void 0:a.biomes)||void 0===r?void 0:r.data)||void 0===l?void 0:l[0])||void 0===s?void 0:s.id})})))):n.createElement(c.Z,null)};var C=a(7565),P=a(9980),R=a(7918),j=a(7838);const Z=/((?:PRJEB|PRJNA|PRJDB|PRJDA|MGYS|ERP|SRP|DRP)\d{5,})/,M={fromEmail:null,subject:null,body:null,consent:null},O=({isPublic:e})=>{const[t,a]=(0,n.useState)("Analysis"),[r,l]=(0,n.useState)(""),[s,i]=(0,n.useState)(""),[c,m]=(0,n.useState)(""),[u,d]=(0,n.useState)(!0),[f,h]=(0,n.useState)(!1),{username:p,details:g}=(0,n.useContext)(o.ZP),[v,b]=(0,n.useState)(M),{data:y,loading:E,error:N}=(0,R.Z)(v.fromEmail,v.subject,v.body,v.consent);return(0,n.useEffect)((()=>{v.fromEmail&&(E||!y||N?(null==N?void 0:N.type)!==j.ZB.NullURL&&m("Failed to send analysis request, please try again or contact our helpdesk."):m(`Analysis request for [${r}] was succesfully submitted.`),h(!0))}),[y,E,N,v.fromEmail,r]),(0,n.useEffect)((()=>{r.length>0&&!u?m("Improperly formatted accession, format should be \n        MGYS, ERP, SRP, DRP, PRJEB, PRJNA, PRJDA, PRJDB \n        followed by a number."):m("")}),[r,u]),n.createElement("section",null,e&&n.createElement("h2",null,"Request an analysis of a public dataset"),n.createElement("div",{className:"vf-stack"},e&&n.createElement("p",null,"Using this form, you can request analysis of a suitable publicly available dataset, held within an INSDC database. Enter the study accession below and we will prioritise it for analysis with our pipeline."),n.createElement("div",null,n.createElement("label",{className:"vf-text-heading--4"},"Study accession",n.createElement("input",{id:"study-accession",name:"study-accession",className:"vf-form__input",type:"text",pattern:"study_accession",placeholder:"MGYS###### / ERP###### / SRP###### / DRP###### / PRJ######",value:r,onChange:e=>{l(e.target.value),d(Z.test(e.target.value))},required:!0}))),n.createElement("div",{className:"vf-grid"},n.createElement("div",{className:"vf-stack"},n.createElement("label",{className:"vf-text-heading--4"},"Analysis type"," ",n.createElement(C.Z,{content:"You can request either analysis of raw reads or assembly of the data \n                  (where suitable) prior to analysis. Note, assembly may not be feasible for \n                  all datasets and may take additional time, particularly for larger studies."},n.createElement("sup",null,n.createElement("span",{className:"icon icon-common icon-info","data-cy":"public-help-tooltip"})))),n.createElement("div",null,n.createElement("label",null,n.createElement("input",{type:"radio",name:"analysis-type",value:"Analysis",checked:"Analysis"===t,onChange:()=>a("Analysis")}),"Analysis only")),n.createElement("div",null,n.createElement("label",null,n.createElement("input",{type:"radio",name:"analysis-type",value:"Assembly+Analysis",checked:"Assembly+Analysis"===t,onChange:()=>a("Assembly+Analysis")}),"Assembly and analysis"))),n.createElement("div",null,n.createElement("label",{className:"vf-text-heading--4"},"Comment / additional information",n.createElement("input",{value:s,onChange:e=>i(e.target.value),type:"text",className:"vf-form__input",name:"reason"})))),n.createElement("div",null,n.createElement("button",{className:"vf-button vf-button--primary mg-button vf-button--sm ",type:"button",onClick:()=>{const{body:a,subject:n}=((e,t,a,n,r,l)=>{const s=`${(e?"Public ":"Private ")+t} request: ${n}`;return{body:`Study accession: ${n};${e?"Public ":"Private "} analysis.;Analysis type: ${t} ;Requester name: ${l.attributes["first-name"]} ${l.attributes.surname}.;Email: ${l.attributes["email-address"]}.;Webin: ${r}.;Additional notes: ${a}.;`,subject:s}})(e,t,s,r,p,(0,o.gu)(g,p));b({fromEmail:(0,o.dT)(g).join(","),body:a,subject:n,consent:!1})},disabled:0===r.length||!u||f},"Submit request"),n.createElement("button",{id:"clear-button",type:"button",className:"vf-button vf-button--sm vf-button--tertiary",onClick:()=>{a("Analysis"),l(""),i(""),m(""),d(!0),h(!1),b(M)}},"Clear"))),c.length>0&&n.createElement(P.Z,null,c))},T=()=>{const[e,t]=(0,n.useState)("");return n.createElement("section",{className:"vf-stack vf-stack--400"},n.createElement("h2",null,"Request an analysis of your data"),n.createElement("div",{className:"vf-stack"},n.createElement("label",{className:"vf-text-heading--4"},"Has your data already been submitted?"," "),n.createElement("div",null,n.createElement("label",null,n.createElement("input",{type:"radio",name:"dataSubmitted",value:"Yes",checked:"Yes"===e,onChange:()=>t("Yes")}),"Yes"),n.createElement("label",null,n.createElement("input",{type:"radio",name:"analysis-type",value:"No",checked:"No"===e,onChange:()=>t("No")}),"No"))),n.createElement("hr",null),"Yes"===e&&n.createElement(n.Fragment,null,n.createElement(O,{isPublic:!1}),n.createElement("p",null,"The analysis of your data will be held confidentially on our site until the hold date expires.")),"No"===e&&n.createElement("div",{className:"vf-stack"},n.createElement("p",null,"Please submit your data before requesting analysis as it must be archived in the ENA for us to process it."),n.createElement("div",{className:"mg-right"},n.createElement("a",{className:"vf-button vf-button--primary vf-button--sm",href:"https://www.ebi.ac.uk/ena/submit/sra/"},n.createElement("span",{className:"icon icon-common icon-external-link-alt"})," Go to ENA submission page"))))},L=()=>{const[{show:e}]=(0,_.B)({show:""}),{isAuthenticated:t}=(0,n.useContext)(o.ZP),[a,r]=(0,n.useState)({show:t&&["public-request","private-request"].includes(e),isPublic:"public-request"===e});return n.createElement(n.Fragment,null,n.createElement(N.Z,{isOpen:a.show,onRequestClose:()=>r({show:!1,isPublic:!0}),contentLabel:"Request Analysis"},a.isPublic?n.createElement(O,{isPublic:!0}):n.createElement(T,null)),n.createElement(i.Z,{className:"request-by-section"},n.createElement("h3",{className:"vf-card__heading"},"Request analysis of"),n.createElement("div",{className:"vf-grid"},n.createElement(s,{title:"Submit and/or Request",label:"Your data",to:t?()=>r({show:!0,isPublic:!1}):"/login?from=private-request"}),n.createElement(s,{title:"Request",label:"A public dataset",to:t?()=>r({show:!0,isPublic:!0}):"/login?from=public-request"})),n.createElement("h3",{className:"vf-card__heading"},"Latest studies"),n.createElement(A,null),n.createElement("div",{className:"mg-right"},n.createElement(l.rU,{to:"/browse/studies/",className:"vf-button vf-button--primary"},"View all studies"))))};var D="createTimeline",$=function(e){var t=n.useRef(null),r=n.useState(!0),l=r[0],s=r[1];return n.useEffect((function(){var n=!0;return a(5277)("https://platform.twitter.com/widgets.js","twitter-embed",(function(){if(window.twttr){if(n){if(!window.twttr.widgets[D])return void console.error("Method createTimeline is not present anymore in twttr.widget api");var a=function(){var a,n,r=Object.assign({},e.options);return null!=e&&e.autoHeight&&(r.height=null===(a=t.current)||void 0===a||null===(n=a.parentNode)||void 0===n?void 0:n.offsetHeight),Object.assign({},r,{theme:null==e?void 0:e.theme,linkColor:null==e?void 0:e.linkColor,borderColor:null==e?void 0:e.borderColor,lang:null==e?void 0:e.lang,tweetLimit:null==e?void 0:e.tweetLimit,ariaPolite:null==e?void 0:e.ariaPolite})}();a=function(t){return t.chrome="",e.noHeader&&(t.chrome=t.chrome+" noheader"),e.noFooter&&(t.chrome=t.chrome+" nofooter"),e.noBorders&&(t.chrome=t.chrome+" noborders"),e.noScrollbar&&(t.chrome=t.chrome+" noscrollbar"),e.transparent&&(t.chrome=t.chrome+" transparent"),t}(a),window.twttr.widgets[D]({sourceType:e.sourceType,screenName:e.screenName,userId:e.userId,ownerScreenName:e.ownerScreenName,slug:e.slug,id:e.id||e.widgetId,url:e.url},null==t?void 0:t.current,a).then((function(t){s(!1),e.onLoad&&e.onLoad(t)}))}}else console.error("Failure to load window.twttr, aborting load")})),function(){n=!1}}),[]),n.createElement(n.Fragment,null,l&&n.createElement(n.Fragment,null,e.placeholder),n.createElement("div",{ref:t}))};const B=()=>n.createElement("div",{className:"mg-twitter-timeline"},n.createElement("div",null,n.createElement($,{sourceType:"profile",screenName:"MGnifyDB",options:{height:480,width:480}}))),q=({title:e,header:t,image:a,excerpt:r,url:l})=>{return n.createElement(s,{image:a,title:t,label:(i=r,i.replace(/&lt;.+?&gt;/g,"").trim()),to:l,externalLink:!0,className:"vf-card--striped vf-u-grid__col--span-3--xs vf-u-grid__col--span-1--md",badge:e});var i},U=()=>{const{data:e,loading:t,error:a}=(e=>{const{config:t}=(0,n.useContext)(o.ZP);return(0,j.ZP)([null,void 0].includes(e)?null:`${t.blog}${e}`)})("feed-first-of-each.json"),{config:r}=(0,n.useContext)(o.ZP);return t?n.createElement(c.Z,{size:"large"}):a?n.createElement(u.Z,{error:a}):n.createElement("div",null,n.createElement("div",{className:"vf-grid vf-grid__col-3 | vf-card-container | vf-u-fullbleed vf-u-background-color-ui--grey--light"},e.spotlight&&n.createElement(q,{title:"Spotlight",header:e.spotlight.title,image:e.spotlight.image,excerpt:e.spotlight.excerpt,url:e.spotlight.url}),e.tools&&n.createElement(q,{title:"Tools",header:e.tools.title,image:e.tools.image,excerpt:e.tools.excerpt,url:e.tools.url}),n.createElement("article",{className:"vf-card vf-card--brand vf-card--bordered vf-u-grid__col--span-3--xs vf-u-grid__col--span-1--md"},n.createElement(B,null)),n.createElement("div",{className:"vf-grid__col--span-2 mg-right",style:{marginTop:"0.2em"}},n.createElement("a",{href:r.blog,className:"vf-button vf-button--primary"},"View all articles"))))};var F=a(6341);const H=()=>n.createElement("section",{className:"vf-content vf-stack vf-stack--800"},n.createElement("div",null),n.createElement("div",{className:"vf-grid vf-grid__col-2"},n.createElement(E,null),n.createElement(L,null)),n.createElement("hr",null),n.createElement(U,null),n.createElement("h2",null,"Latest publications"),n.createElement(F.ZP,null),n.createElement("h2",null,"How to cite"),n.createElement(F.p0,null))},4018:(e,t,a)=>{"use strict";e.exports=a.p+"static/bef88e0e94ffc23af445.gif"}}]);
//# sourceMappingURL=24.194ee4ac.chunk.js.map