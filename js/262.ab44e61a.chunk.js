"use strict";(self.webpackChunkmgportalv2=self.webpackChunkmgportalv2||[]).push([[262],{5222:(e,t,a)=>{a.d(t,{Z:()=>E});var n=a(7294),l=a(9711),i=a(7338);const r=(o={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},function(e){return null==o?void 0:o[e]});var o,s=/&(?:amp|lt|gt|quot|#39);/g,c=RegExp(s.source);var m=a(402),u=a(1699),d=a(6313),v=a(8110),p=a(964),h=a(5058),g=a(121);const E=({rootEndpoint:e})=>{var t,a,o;const E=(0,p.Z)(),[f]=(0,g.Z)("analyses-page",1,Number),[b]=(0,g.Z)("analyses-page_size",10,Number),[y]=(0,g.Z)("analyses-order",""),{data:k,loading:N,error:_,isStale:w,downloadURL:Z}=(0,v.Z)(`${e}/${E}/analyses`,{include:"sample",page:f,ordering:y,page_size:b});if(N&&!w)return n.createElement(m.Z,{size:"small"});if(_||!k)return n.createElement(u.Z,{error:_});if(!k.data.length)return null;const x={};null===(t=k.included||[])||void 0===t||t.filter((({type:e})=>"samples"===e)).forEach((e=>{x[e.id]={description:e.attributes["sample-desc"],biome:e.relationships.biome.data.id}}));const A=[{id:"biome_id",Header:"Biome",accessor:e=>{var t,a,n,l;return(null===(l=null==x?void 0:x[null===(n=null===(a=null===(t=null==e?void 0:e.relationships)||void 0===t?void 0:t.sample)||void 0===a?void 0:a.data)||void 0===n?void 0:n.id])||void 0===l?void 0:l.biome)||""},Cell:({cell:e})=>n.createElement("span",{className:`biome_icon icon_xs ${(0,h.G)(e.value)}`,style:{float:"initial"}}),className:"mg-biome"},{id:"sample",Header:"Sample accession",accessor:e=>{var t,a,n;return null===(n=null===(a=null===(t=null==e?void 0:e.relationships)||void 0===t?void 0:t.sample)||void 0===a?void 0:a.data)||void 0===n?void 0:n.id},Cell:({cell:e})=>n.createElement(l.rU,{to:`/samples/${e.value}`},e.value)},{id:"description_id",Header:"Sample description",accessor:e=>{var t,a,n,l;return(null===(l=null==x?void 0:x[null===(n=null===(a=null===(t=null==e?void 0:e.relationships)||void 0===t?void 0:t.sample)||void 0===a?void 0:a.data)||void 0===n?void 0:n.id])||void 0===l?void 0:l.description)||""},Cell:({cell:e})=>{return t=e.value,(t=(0,i.Z)(t))&&c.test(t)?t.replace(s,r):t;var t}},{id:"assembly_run_id",Header:" Run / Assembly accession",accessor:e=>{var t,a,n,l,i,r;return{assembly:(null===(n=null===(a=null===(t=null==e?void 0:e.relationships)||void 0===t?void 0:t.assembly)||void 0===a?void 0:a.data)||void 0===n?void 0:n.id)||"",run:(null===(r=null===(i=null===(l=null==e?void 0:e.relationships)||void 0===l?void 0:l.run)||void 0===i?void 0:i.data)||void 0===r?void 0:r.id)||""}},Cell:({cell:e})=>n.createElement(n.Fragment,null,e.value.assembly&&n.createElement(l.rU,{to:`/assemblies/${e.value.assembly}`},e.value.assembly),e.value.run&&n.createElement(l.rU,{to:`/runs/${e.value.run}`},e.value.run))},{id:"pipeline_id",Header:"Pipeline version",accessor:e=>e.attributes["pipeline-version"],Cell:({cell:e})=>n.createElement(l.rU,{to:`/pipelines/${e.value}`},e.value)},{id:"analysis_id",Header:"Analysis accession",accessor:e=>e.id,Cell:({cell:e})=>n.createElement(l.rU,{to:`/analyses/${e.value}`},e.value)}],S=((null===(o=null===(a=k.meta)||void 0===a?void 0:a.pagination)||void 0===o?void 0:o.count)||1)>10;return n.createElement(d.Z,{cols:A,data:k,Title:"Analyses",initialPage:f-1,initialPageSize:10,className:"mg-anlyses-table",loading:N,isStale:w,namespace:"analyses-",showPagination:S,downloadURL:Z})}},1274:(e,t,a)=>{a.d(t,{Z:()=>i});var n=a(7294),l=a(6974);const i=({hash:e,isDefault:t=!1,children:a})=>{const i=(0,l.TH)(),r=(0,l.s0)();return(0,n.useEffect)((()=>{""===i.hash&&""!==e&&t&&r(e,{replace:!0})})),i.hash===e?n.createElement(n.Fragment,null,a):null}},2034:(e,t,a)=>{a.d(t,{L:()=>g,Z:()=>E});var n=a(7294),l=a(2531),i=a(3182),r=a(8110),o=a(402),s=a(1699);const c=({title:e,children:t})=>{const[a,l]=(0,n.useState)(!1);return n.createElement("li",{className:"vf-tree__item "+(a?"vf-tree__item--selected | vf-tree__item--expanded":"")},n.createElement("button",{onClick:()=>l(!a),className:"vf-button vf-button--link vf-tree__link",type:"button"},e,n.createElement("span",{className:"vf-button vf-tree__button"},n.createElement("svg",{"aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},n.createElement("path",{d:"M19.5,12a2.3,2.3,0,0,1-.78,1.729L7.568,23.54a1.847,\n            1.847,0,0,1-2.439-2.773l9.752-8.579a.25.25,0,0,0,0-.376L5.129,\n            3.233A1.847,1.847,0,0,1,7.568.46l11.148,9.808A2.31,2.31,0,0,1,19.5,12Z"})))),a&&t)},m=({children:e})=>n.createElement("div",{className:"accordion-content-panel"},e),u=({titles:e,nestedLevel:t,children:a})=>n.createElement("ul",{className:`vf-tree__list  vf-tree__list--${t} ${t>1?"vf-tree__list--additional":""} | vf-list `},e.map(((e,t)=>n.createElement(c,{title:e,key:t},a[t])))),d=({titles:e,children:t})=>n.createElement("div",{className:"vf-tree","aria-expanded":"true"},n.createElement("div",{className:"vf-tree__inner"},n.createElement(u,{titles:e,nestedLevel:1},t)));var v=a(32);const p=({superGroup:e,title:t})=>n.createElement(n.Fragment,null,n.createElement("h3",null,t),!e.length&&n.createElement("p",null,"No ",t," annotations"),n.createElement(d,{titles:e.map((e=>e.title))},e.map((e=>n.createElement(n.Fragment,{key:e.title},n.createElement("div",{style:{padding:"0 8px"}},n.createElement("p",{className:"vf-text text-body--5"},n.createElement("span",{className:"icon icon-common icon-info","data-icon":"i"}),"  ",e.description)),n.createElement(u,{titles:e.annotations.map((e=>e.annotation_text)),nestedLevel:2},e.annotations.map((e=>n.createElement(n.Fragment,{key:e.annotation_text},e.mentions.map((e=>n.createElement(m,{key:e.id},n.createElement("div",{className:"publication-epmc-mention"},n.createElement("div",{className:"vf-sidebar vf-sidebar--end"},n.createElement("div",{className:"vf-sidebar__inner"},n.createElement("div",null,n.createElement("p",null,"Mentioned in the"," ",e.section.split(" (")[0]," section:")),n.createElement("div",null,n.createElement(l.Z,{href:e.id},"View on Europe PMC"),"  ",e.tags.map((e=>n.createElement(l.Z,{href:e.uri,key:e.name},"Definition of ‘",e.name,"’  ")))))),n.createElement("p",null,n.createElement("span",{className:"publications-epmc-annotation-prefix"},"…",e.prefix),n.createElement("span",{className:"publications-epmc-annotation-match"},n.createElement(l.Z,{href:e.id},e.exact)),n.createElement("span",{className:"publications-epmc-annotation-prefix"},e.postfix,"…"))))))))))))))),h=({publicationId:e,pubmedId:t})=>{var a,c;const{data:m,loading:u,error:d}=(0,r.Z)(`publications/${e}/europe_pmc_annotations`);if(u)return n.createElement(o.Z,{size:"large"});if(d)return n.createElement(s.Z,{error:d});const v=m.data,h=!(!(null===(a=null==v?void 0:v.sample_processing)||void 0===a?void 0:a.length)&&!(null===(c=v.other)||void 0===c?void 0:c.length));return n.createElement("div",{className:"vf-stack vf-stack--400"},n.createElement("div",{style:{width:"100%",textAlign:"right"}},"Powered by ",n.createElement("a",{href:"https://europepmc.org"},"Europe PMC"),".",n.createElement("img",{src:i,style:{height:"2em"},alt:"Europe PMC logo"})),n.createElement("p",null,"Through automated text-mining, many publications may have additional metadata available in the form of"," ",n.createElement(l.Z,{href:"https://europepmc.org/Annotations"},"Annotations")," ","from ",n.createElement(l.Z,{href:"https://europepmc.org"},"Europe PMC"),". Any Metagenomics-relevant annotations are shown here."),!h&&n.createElement("p",null,"No metagenomics annotations were found on Europe PMC. Annotations from other providers might be available on the"," ",n.createElement(l.Z,{href:`https://europepmc.org/abstract/MED/${t}`},"Europe PMC website"),"."),h&&n.createElement(n.Fragment,null,n.createElement(p,{superGroup:v.sample_processing,title:"Sample processing"}),n.createElement(p,{superGroup:v.other,title:"Other"})))},g=({publicationId:e,pubmedId:t})=>{var a,l;const{data:i,loading:c,error:m}=(0,r.Z)(`publications/${e}/europe_pmc_annotations`),[u,d]=(0,n.useState)(!1);if(c)return n.createElement(o.Z,{size:"small"});if(m)return n.createElement(s.Z,{error:m});const p=i.data;return(null===(a=null==p?void 0:p.sample_processing)||void 0===a?void 0:a.length)||(null===(l=p.other)||void 0===l?void 0:l.length)?n.createElement(n.Fragment,null,n.createElement(v.Z,{isOpen:u,onRequestClose:()=>d(!1),contentLabel:`Europe PMC Annotations for ${e}`},n.createElement("h1",null,"Annotations from Europe PMC"),n.createElement(h,{publicationId:e,pubmedId:t})),n.createElement("button",{className:"vf-button vf-button--link vf-button--sm",type:"button",onClick:()=>d(!0)},n.createElement("span",{className:"vf-badge vf-badge--secondary"},n.createElement("i",{className:"icon icon-common","data-icon":""})," meta")," ","Show metadata from Europe PMC Annotations")):null},E=h},6341:(e,t,a)=>{a.d(t,{p0:()=>s,Sf:()=>o,ZP:()=>c});var n=a(7294),l=a(9711),i=a(4018);const r=JSON.parse('[{"title":"MGnify: the microbiome analysis resource in 2020","journal":"Nucleic Acids Research","year":2019,"link":"https://academic.oup.com/nar/article/48/D1/D570/5614179","doi":"10.1093/nar/gkz1035","authors":"Mitchell AL, Almeida A, Beracochea M, Boland M, Burgin J, Cochrane G, Crusoe MR, Kale V, Potter SC, Richardson LJ, Sakharova E, Scheremetjew M, Korobeynikov A, Shlemov A, Kunyavskaya O, Lapidus A and Finn RD","recent":true,"main":true},{"title":"A new genomic blueprint of the human gut microbiota","journal":"Nature","year":2019,"link":"https://www.nature.com/articles/s41586-019-0965-1","doi":"10.1038/s41586-019-0965-1","authors":"Almeida A, Mitchell AL, Boland M, Forster SC, Gloor GB, Tarkowska A, Lawley TD and Finn RD","recent":true},{"title":"Human gastrointestinal bacteria genome and culture collection","journal":"Nature Biotechnology","year":2019,"link":"https://www.nature.com/articles/s41587-018-0009-7","doi":"10.1038/s41587-018-0009-7","authors":"Forster SC, Kumar N, Anonye BO, Almeida A, Viciani E, Stares MD, Dunn M, Mkandawire TT, Zhu A, Browne HP, Shao Y, Pike LJ, Louie T, Mitchell AL, Neville BA, Finn RD, Lawley TD","recent":true},{"title":"Benchmarking taxonomic assignments based on 16S rRNA gene profiling of the microbiota from commonly sampled environments","journal":"GigaScience","year":2017,"link":"https://doi.org/10.1093/gigascience/giy054","doi":"10.1093/gigascience/giy054","authors":"Almeida A, Mitchell AL, Tarkowska A, Finn RD.","recent":true},{"title":"EBI Metagenomics in 2017: enriching the analysis of microbial communities, from sequence reads to assemblies","journal":"Nucleic Acids Research","year":2017,"link":"https://doi.org/10.1093/nar/gkx967","doi":"10.1093/nar/gkx967","authors":"Mitchell AL, Scheremetjew M, Denise H, Potter S, Tarkowska A, Qureshi M, Salazar GA, Pesseat S, Boland M, Hunter FMI, ten Hoopen P, Alako B, Amid C, Wilkinson DJ, Curtis TP, Cochrane G and Finn RD"},{"title":"EBI metagenomics in 2016 - an expanding and evolving resource for the analysis and archiving of metagenomic data","journal":"Nucleic Acids Research","year":2015,"link":"http://nar.oxfordjournals.org/content/44/D1/D595.full","doi":"10.1093/nar/gkv1195","authors":"Mitchell AL, Bucchini F, Cochrane G, Denise H, ten Hoopen P, Fraser M, Pesseat S, Potter S, Scheremetjew M, Sterk P and Finn RD"},{"title":"EBI metagenomics - a new resource for the analysis and archiving of metagenomic data","journal":"Nucleic Acids Research","year":2013,"link":"http://dx.doi.org/10.1093/nar/gkt961","doi":"10.1093/nar/gkt961","authors":"Hunter S, Corbett M, Denise H, Fraser M, Gonzalez-Beltran A, Hunter C, Jones P, Leinonen R, McAnulla C, Maguire E, Maslen J, Mitchell AL, Nuka G, Oisel A, Pesseat S, Radhakrishnan R, Rocca-Serra P, Scheremetjew M, Sterk P, Vaughan D, Cochrane G, Field D and Sansone SA"}]'),o=({id:e,title:t,journal:a,year:i,link:r,doi:o,authors:s,maxAuthorsLength:c,children:m})=>{const u=c&&s.length>c?((e,t)=>{const a=e.slice(0,t).split(",");return a.pop(),a.push(" et al."),a.join(",")})(s,c):s,d=e?n.createElement(l.rU,{to:`/publications/${e}`},t):n.createElement("a",{href:r},t);return n.createElement("section",{className:"mg-pub"},n.createElement("span",{className:"mg-pub-title"},d)," ",n.createElement("span",{className:"mg-pub-journal"},a)," (",n.createElement("span",{className:"mg-pub-year"},i),")"," ",n.createElement("span",{className:"mg-pub-doi"},"doi:",n.createElement("a",{title:t,href:r,className:"mg-ext"},o)),n.createElement("div",{className:"mg-pub-authors"},u,"."),m)},s=()=>{var e;const t=null===(e=r.filter((e=>e.main)))||void 0===e?void 0:e[0];return n.createElement("div",{className:"embl-grid | vf-content"},n.createElement("div",{className:"vf-section-header mg-pub-section-header"},n.createElement("img",{alt:"Cover of the journal",src:i,className:"mg-pub-cover"})),n.createElement("div",null,n.createElement("p",null,"To cite MGnify, please refer to the following publication:"),t&&n.createElement(o,{id:t.id,title:t.title,journal:t.journal,year:t.year,link:t.link,doi:t.doi,authors:t.authors})))},c=()=>{const[e,t]=(0,n.useState)(!1);return n.createElement("section",{className:"mg-pub-section"},r.filter((t=>e||t.recent)).map((e=>n.createElement("article",{key:e.doi},n.createElement(o,{id:e.id,title:e.title,journal:e.journal,year:e.year,link:e.link,doi:e.doi,authors:e.authors})))),n.createElement("div",{className:"mg-right"},n.createElement("button",{type:"button",className:"vf-button vf-button--sm",onClick:()=>t(!e)},e?"Less":"More"," publications")))}},5478:(e,t,a)=>{a.d(t,{Z:()=>l});var n=a(7294);const l=({label:e,theme:t="primary",children:a})=>n.createElement("div",{className:"vf-grid"},n.createElement("div",{className:`vf-box vf-box--easy vf-box-theme--${t}`},n.createElement("h5",{className:"vf-box__heading"},e),n.createElement("div",{className:"vf-box__text"},a)))},4933:(e,t,a)=>{a.d(t,{Z:()=>s});var n=a(7294),l=a(7762),i=a(6529);const r=({sample:e})=>n.createElement("div",{className:"vf-box vf-box--easy"},n.createElement("h3",{className:"vf-box__heading"},n.createElement("a",{href:`../samples/${e.id}`},e.id)),n.createElement("p",{className:"vf-box__text"},e.attributes["sample-desc"])),o=({accessions:e})=>n.createElement("div",{className:"vf-box vf-box--easy"},n.createElement("h3",{className:"vf-box__heading"},"Samples on this geographical location"),n.createElement("ul",{className:"vf-list"},e.map((e=>n.createElement("li",{ref:e},n.createElement("a",{href:`../samples/${e}`},e)))))),s=({samples:e})=>{const t=(0,n.useRef)(),[a,s]=(0,n.useState)(null),c=(0,n.useRef)(null),m=(0,n.useRef)(new google.maps.InfoWindow),u=(0,n.useRef)(new google.maps.InfoWindow),d=(0,n.useRef)(new google.maps.LatLngBounds),v=(0,n.useRef)({});return(0,n.useEffect)((()=>{if(null===a){const e=new google.maps.Map(t.current,{maxZoom:10,minZoom:2});s(e)}}),[a]),(0,n.useEffect)((()=>{a&&e&&(c.current&&c.current.clearMarkers(),e.filter((({id:e})=>!(e in v.current))).forEach((e=>{const t={lat:e.attributes.latitude,lng:e.attributes.longitude},i=new google.maps.Marker({position:t,title:e.id});d.current.extend(t),i.addListener("click",(()=>{m.current.setContent(l.renderToString(n.createElement(r,{sample:e}))),m.current.open(a,i)})),v.current[e.id]=i})),c.current=new i.Z(a,Object.values(v.current),{imagePath:"https://raw.githubusercontent.com/googlemaps/js-markerclustererplus/master/images/m",maxZoom:10}),google.maps.event.addListener(c.current,"click",(function(e){this.prevZoom_+1<=this.getMaxZoom()||e.getSize()>=10||(u.current.setPosition(e.getCenter()),u.current.setContent(l.renderToString(n.createElement(o,{accessions:e.getMarkers().map((e=>e.getTitle()))}))),u.current.open(a))})),a.fitBounds(d.current))}),[a,e]),n.createElement("div",{ref:t,id:"map",style:{height:"100%"}})}},7318:(e,t,a)=>{a.d(t,{Z:()=>s});var n=a(7294),l=a(2245),i=a(7838),r=a(402),o=a(1699);const s=e=>e===l.Status.LOADING?n.createElement(r.Z,null):e===l.Status.FAILURE?n.createElement(o.Z,{error:{status:200,type:i.ZB.OtherError,error:e}}):null},4821:(e,t,a)=>{a.d(t,{Z:()=>r});var n=a(7294),l=a(6974),i=a(9711);const r=({tabs:e,preservedQueryParameters:t})=>{const a=(0,l.TH)(),r=(0,n.useMemo)((()=>{if(!t)return"";const e=new URLSearchParams,n=new URLSearchParams(a.search);let l=!1;return t.forEach((t=>{n.has(t)&&e.append(t,n.get(t)),l=!0})),l?`?${e.toString()}`:""}),[t,a.search]);return n.createElement("div",{className:"vf-tabs mg-search-tabs"},n.createElement("ul",{className:"vf-tabs__list"},e.map((({label:e,to:t})=>n.createElement("li",{className:"vf-tabs__item",key:t},n.createElement(i.rU,{className:"vf-tabs__link "+(t===a.pathname||t.startsWith("#")&&t===a.hash||"#"===t&&""===a.hash?"is-active":""),to:t+r},"string"==typeof e?e:n.createElement(e,null)))))))}},964:(e,t,a)=>{a.d(t,{Z:()=>l});var n=a(6974);const l=()=>{const e=(0,n.TH)();let{pathname:t}=e;t.trim().endsWith("/")&&(t=t.trim().slice(0,-1));const a=t.split("/");return null==a?void 0:a[a.length-1]}},9262:(e,t,a)=>{a.r(t),a.d(t,{default:()=>L});var n=a(7294),l=a(8110),i=a(964),r=a(402),o=a(1699),s=a(4821),c=a(9711),m=a(6341),u=a(5222),d=a(5478),v=a(2531),p=a(2245);var h=a(6050),g=a(4933),E=a(7318),f=a(9980);const b=({total:e,limit:t,handleRequest:a})=>e>t?n.createElement("div",null,"⚠️ We are only loading the first ",200," samples. Click"," ",n.createElement("button",{type:"button",className:"vf-button vf-button--link mg-button-as-link",onClick:a},"HERE")," ","to load them all."):null,y=({study:e})=>{const[t,a]=(0,n.useState)(200),{samples:i,total:r}=((e,t)=>{const[a,i]=(0,n.useState)(1),[r,o]=(0,n.useState)([]),[s,c]=(0,n.useState)(null),{data:m,isStale:u,loading:d,error:v}=(0,l.Z)("samples",{study_accession:e,page:a});return(0,n.useEffect)((()=>{var e,n,l,d,v;if((null==m?void 0:m.data)&&!u&&a===(null===(n=null===(e=null==m?void 0:m.meta)||void 0===e?void 0:e.pagination)||void 0===n?void 0:n.page)){const e=[...r,...m.data];o(e);const n=null===(d=null===(l=null==m?void 0:m.meta)||void 0===l?void 0:l.pagination)||void 0===d?void 0:d.count;s!==n&&"number"==typeof n&&c(n),(null===(v=null==m?void 0:m.links)||void 0===v?void 0:v.next)&&e.length<t&&i(a+1)}}),[m,a,t]),(0,n.useEffect)((()=>{var e;(null===(e=null==m?void 0:m.links)||void 0===e?void 0:e.next)&&r.length<t&&i(a+1)}),[t]),{samples:r,total:s,loading:d,error:v}})(e,t),{config:o}=(0,n.useContext)(h.ZP),s=i.filter((e=>{try{return 0!==Number(e.attributes.longitude)&&0!==Number(e.attributes.latitude)}catch(e){return!1}}));return 0===s.length?n.createElement(f.Z,{type:"info",title:"Notice"},"None of the ",r>t?"loaded":""," samples have geolocation co-ordinates.",n.createElement(b,{total:r,limit:t,handleRequest:()=>a(r)})):n.createElement("div",{className:"mg-map-container"},n.createElement("div",{className:"mg-map-wrapper"},n.createElement(p.Wrapper,{apiKey:o.googleMapsKey,render:E.Z},n.createElement(g.Z,{samples:s}))),r&&n.createElement("div",{className:"mg-map-progress"},n.createElement("progress",{max:r,value:i.length}),n.createElement(b,{total:r,limit:t,handleRequest:()=>a(r)})))};var k=a(5058),N=a(2034),_=a(9249),w=a(518),Z=a(2347);const x=({apiPath:e,entityLabel:t,notebooks:a})=>{const{config:l}=(0,n.useContext)(h.ZP),i=`${l.api}${e}`;return n.createElement(d.Z,{label:"Programmatic access"},n.createElement("div",{className:"vf-stack"},n.createElement("div",null,"The"," ",n.createElement(v.Z,{href:l.api,className:"vf-navigation__link"},"API")," ","endpoint for this ",t," is"," ",n.createElement("pre",{className:"vf-code-example__pre",style:{lineHeight:"3em"}},n.createElement("a",{href:i,target:"_blank",rel:"noreferrer noopener"},i),n.createElement("button",{className:"vf-button vf-button--link vf-button--sm",type:"button",onClick:e=>{e.preventDefault(),navigator.clipboard.writeText(i),_.Am.success("Copied API URL to clipboard!",{position:"bottom-left",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},n.createElement("i",{className:"icon icon-common icon-copy"})))),n.createElement("div",null,n.createElement("h5",null,"Analysing data using R or Python"),n.createElement("p",null,"The"," ",n.createElement(v.Z,{href:`${l.jupyterLabURL}?jlpath=mgnify-examples/home.ipynb`},"MGnify Jupyter Lab")," ","server hosts examples of data analysis using R and Python. These are live examples that you can modify without downloading or installing any software."),a.map((e=>{let a=`${l.jupyterLabURL}?jlpath=${e.notebookPath}`;return a+=Object.entries(e.notebookVars||{}).reduce(((e,[t,a])=>`${e}&jlvar_${t}=${a}`),""),n.createElement("button",{key:e.notebookPath,className:"vf-button vf-button--secondary vf-button--sm",type:"button",onClick:()=>window.open(a,"_blank")},"R"===e.notebookLang&&n.createElement("img",{src:w,alt:"R Project logo",style:{width:"1em",marginRight:"0.2em"}}),"Python"===e.notebookLang&&n.createElement("img",{src:Z,alt:"Python Language logo",style:{width:"1em",marginRight:"0.2em"}}),`Open ${t} in ${e.notebookLang}`)})),!a.length&&n.createElement("button",{className:"vf-button vf-button--secondary vf-button--sm",type:"button",onClick:()=>window.open(l.jupyterLabURL,"_blank")},"Open examples"))))},A=({data:e,included:t})=>{var a,l,i,r,o,s,p,g,E;const{config:f}=(0,n.useContext)(h.ZP),b=(null===(r=null===(i=null===(l=null===(a=null==e?void 0:e.relationships)||void 0===a?void 0:a.biomes)||void 0===l?void 0:l.data)||void 0===i?void 0:i[0])||void 0===r?void 0:r.id)||"",_=t.filter((({type:e})=>"publications"===e));return n.createElement("section",null,n.createElement("div",{className:"vf-grid"},n.createElement("div",null,n.createElement("h4",null,"Last updated:"," ",new Date(null===(o=null==e?void 0:e.attributes)||void 0===o?void 0:o["last-update"]).toDateString()),n.createElement(d.Z,{label:"Classification"},n.createElement("div",{className:`biome_icon icon_sm ${(0,k.G)(b)}`,style:{float:"initial"}}),n.createElement("div",null,b)),n.createElement(d.Z,{label:"Description"},e.attributes["study-abstract"])),n.createElement(y,{study:e.id})),n.createElement("br",null),n.createElement("div",{className:"mg-flex"},(null===(g=null===(p=null===(s=null==e?void 0:e.relationships)||void 0===s?void 0:s.studies)||void 0===p?void 0:p.data)||void 0===g?void 0:g.length)>0&&n.createElement(d.Z,{label:"Related studies"},n.createElement("ul",{className:"vf-list"},e.relationships.studies.data.map((({id:e})=>n.createElement("li",{key:e},n.createElement(c.rU,{to:`/studies/${e}`},e)))))),n.createElement("div",null,(null===(E=null==e?void 0:e.attributes)||void 0===E?void 0:E["is-public"])&&n.createElement(d.Z,{label:"External links"},n.createElement("ul",{className:"vf-list"},n.createElement("li",null,n.createElement(v.Z,{href:`${f.enaURL}/${e.attributes["secondary-accession"]}`},"ENA website (",e.attributes["secondary-accession"],")")))),(null==_?void 0:_.length)>0&&n.createElement(d.Z,{label:"Publications"},n.createElement("ul",{className:"vf-list"},_.map((({attributes:e,id:t})=>n.createElement("li",{key:t},n.createElement(m.Sf,{id:t,title:e["pub-title"],journal:e["iso-journal"],year:e["published-year"],link:`http://dx.doi.org/${e.doi}`,doi:e.doi,authors:e.authors,maxAuthorsLength:70},n.createElement(N.L,{publicationId:t,pubmedId:e["pubmed-id"]}))))))))),n.createElement(x,{apiPath:`studies/${e.id}`,entityLabel:"Study",notebooks:[{notebookPath:"mgnify-examples/R%20Examples/Fetch%20Analyses%20metadata%20for%20a%20Study.ipynb",notebookLang:"R",notebookVars:{MGYS:e.id}},{notebookPath:"mgnify-examples/Python%20Examples/Load%20Analyses%20for%20a%20MGnify%20Study.ipynb",notebookLang:"Python",notebookVars:{MGYS:e.id}}]}),n.createElement("br",null),n.createElement("div",null,n.createElement(u.Z,{rootEndpoint:"studies"})))},S=({accession:e})=>{const{data:t,loading:a,error:i}=(0,l.Z)(`studies/${e}/downloads`),s={};((null==t?void 0:t.data)||[]).forEach((e=>{var t,a,n,l,i,r;const o=null===(n=null===(a=null===(t=null==e?void 0:e.relationships)||void 0===t?void 0:t.pipeline)||void 0===a?void 0:a.data)||void 0===n?void 0:n.id,c=null===(l=null==e?void 0:e.attributes)||void 0===l?void 0:l["group-type"],m=null===(i=null==e?void 0:e.attributes)||void 0===i?void 0:i.description.label,u=null===(r=null==e?void 0:e.links)||void 0===r?void 0:r.self;s[o]||(s[o]={}),s[o][c]||(s[o][c]=[]),s[o][c].push({label:m,link:u})}));const c=Object.entries(s).sort((([e],[t])=>Number(t)-Number(e)));return n.createElement("section",null,n.createElement("p",null,"In this section you can download the different results matrix files summarising the study. Each downloadable file contains an aggregation of the analysis results from the individual study's runs. To visualise and download the analysis results for individual runs, please access their respective pages."),a&&n.createElement(r.Z,null),i&&n.createElement(o.Z,{error:i}),n.createElement("ul",{className:"vf-list"},c.map((([e,t])=>n.createElement("li",{key:e,className:"vf-list__item mg-list__item"},n.createElement("h4",null,"Pipeline version: ",e),n.createElement("ul",{className:"vf-list"},Object.entries(t).map((([e,t])=>n.createElement("li",{key:e,className:"vf-list__item mg-list__item"},n.createElement("h6",null,e),n.createElement("ul",{className:"vf-list"},t.map((({label:e,link:t})=>n.createElement("li",{key:t,className:"vf-list__item mg-list__item"},n.createElement("a",{href:t,download:!0},n.createElement("span",{className:"icon icon-common icon-download"})," ",e))))))))),n.createElement("hr",null))))))};var P=a(1274);const M=[{label:"Overview",to:"#overview"},{label:"Analysis summary",to:"#analysis"}],L=()=>{const e=(0,i.Z)(),{data:t,loading:a,error:c}=(0,l.Z)(`studies/${e}`,{include:"publications"});if(a)return n.createElement(r.Z,{size:"large"});if(c)return n.createElement(o.Z,{error:c});if(!t)return n.createElement(r.Z,null);const{data:m,included:u}=t;return n.createElement("section",{className:"vf-content"},n.createElement("h2",null,"Study ",e),n.createElement("h3",null,m.attributes["study-name"]),n.createElement(s.Z,{tabs:M}),n.createElement("section",{className:"vf-grid"},n.createElement("div",{className:"vf-stack vf-stack--200"},n.createElement(P.Z,{hash:"#overview",isDefault:!0},n.createElement(A,{data:m,included:u||[]})),n.createElement(P.Z,{hash:"#analysis"},n.createElement(S,{accession:e})))))}},4018:(e,t,a)=>{e.exports=a.p+"static/bef88e0e94ffc23af445.gif"},3182:(e,t,a)=>{e.exports=a.p+"static/e59a5adc462396bf4d24.png"},2347:(e,t,a)=>{e.exports=a.p+"static/063da19947a3fcdbfd94.svg"},518:(e,t,a)=>{e.exports=a.p+"static/2da55f926557c943ffe7.svg"}}]);
//# sourceMappingURL=262.ab44e61a.chunk.js.map