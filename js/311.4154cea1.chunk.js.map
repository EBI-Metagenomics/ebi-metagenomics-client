{"version":3,"sources":["webpack://mgportalv2/./node_modules/lodash-es/_Symbol.js","webpack://mgportalv2/./node_modules/lodash-es/_getRawTag.js","webpack://mgportalv2/./node_modules/lodash-es/_objectToString.js","webpack://mgportalv2/./node_modules/lodash-es/_baseGetTag.js","webpack://mgportalv2/./node_modules/lodash-es/_freeGlobal.js","webpack://mgportalv2/./node_modules/lodash-es/_root.js","webpack://mgportalv2/./node_modules/lodash-es/isObject.js","webpack://mgportalv2/./node_modules/lodash-es/isObjectLike.js","webpack://mgportalv2/./node_modules/lodash-es/isSymbol.js","webpack://mgportalv2/./node_modules/lodash-es/_trimmedEndIndex.js","webpack://mgportalv2/./node_modules/lodash-es/_baseTrim.js","webpack://mgportalv2/./node_modules/lodash-es/toNumber.js","webpack://mgportalv2/./src/components/UI/EMGTable/PaginationButton/index.tsx","webpack://mgportalv2/./src/components/UI/EMGTable/index.tsx","webpack://mgportalv2/./src/components/UI/FetchError/index.tsx","webpack://mgportalv2/./src/hooks/data/useEBISearchData/index.tsx","webpack://mgportalv2/./src/hooks/useQueryParamState/index.tsx","webpack://mgportalv2/./src/pages/TextSearch/SearchQueryContext.tsx","webpack://mgportalv2/./src/components/Search/Filter/MultipleOption/index.tsx","webpack://mgportalv2/./src/components/Search/Filter/HierarchyMultipleOption/index.tsx","webpack://mgportalv2/./node_modules/lodash-es/now.js","webpack://mgportalv2/./node_modules/lodash-es/debounce.js","webpack://mgportalv2/./src/components/UI/Slider/index.tsx","webpack://mgportalv2/./src/components/UI/Switch/index.tsx","webpack://mgportalv2/./src/components/Search/Filter/Temperature/index.tsx","webpack://mgportalv2/./src/components/Search/Filter/Depth/index.tsx","webpack://mgportalv2/./src/components/Search/Tabs/index.tsx","webpack://mgportalv2/./src/components/Search/Filter/Text/index.tsx","webpack://mgportalv2/./src/components/Search/Table/index.tsx","webpack://mgportalv2/./src/pages/TextSearch/index.tsx"],"names":["objectProto","Object","prototype","hasOwnProperty","nativeObjectToString","toString","symToStringTag","undefined","value","isOwn","call","tag","unmasked","e","result","global","freeSelf","self","Function","type","reWhitespace","reTrimStart","string","slice","index","length","test","charAt","replace","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","parseInt","isSymbol","isObject","other","valueOf","isBinary","currentPageIndex","pageIndex","gotoPage","className","onClick","cols","data","title","initialPage","initialPageSize","namespace","showPagination","sortable","loading","isStale","queryParameters","setQueryParameters","Number","getTableProps","getTableBodyProps","headerGroups","rows","prepareRow","canPreviousPage","canNextPage","pageCount","setPageSize","nextPage","previousPage","state","pageSize","sortBy","useTable","columns","initialState","meta","pagination","pages","manualPagination","manualSortBy","useSortBy","usePagination","tableRef","useRef","isChangingPage","setChangingPage","useState","useEffect","current","scrollIntoView","order","tableSortBy","col","desc","id","getOrderingQueryParamFromSortedColumn","paginationRanges","useMemo","startingPages","adjacentPages","Math","max","page","push","endingPages","hasJumpFromStart","hasJumpToEnd","getPaginationRanges","goToPageAndScroll","pageNumber","changeSizeAndScroll","evt","target","Loading","size","ref","map","headerGroup","getHeaderGroupProps","headers","column","canSort","getHeaderProps","getSortByToggleProps","key","render","isSorted","isSortedDesc","row","getRowProps","cells","cell","getCellProps","onBlur","onChange","pg","disabled","paginationIndex","refreshPage","window","location","reload","error","style","backgroundColor","status","endpoint","parameters","config","useContext","allParemeters","format","start","url","ebisearch","entries","join","includes","getQueryStateFromURL","searchStr","serializers","innerState","parametersFromURL","URLSearchParams","forEach","parameter","serializer","String","get","useQueryParametersState","history","stateWithURL","search","currentState","setCurrentState","newState","JSON","stringify","parametersToChange","changed","defaultValue","newValue","set","delete","searchData","noop","facetName","header","includeTextFilter","selected","setSelected","split","filter","Boolean","textFilter","setTextFilter","facetData","pathname","facets","f","handleSelection","event","checked","isChecked","newSelected","s","sort","placeholder","facetValues","label","toLowerCase","count","name","htmlFor","HierarchyOption","optionChildren","depth","shouldExpand","isSelected","displayChildren","setDisplayChildren","marginLeft","childLabel","childValue","childCount","children","childChildren","v","some","startsWith","nativeMax","nativeMin","min","areEqual","s1","s2","isEnabled","selection","currentSelection","setCurrentSelection","debounced","useCallback","func","wait","options","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","TypeError","invokeFunc","time","args","thisArg","apply","leadingEdge","setTimeout","timerExpired","shouldInvoke","timeSinceLastCall","trailingEdge","timeWaiting","remainingWait","isInvoking","arguments","this","clearTimeout","toNumber","cancel","flush","isOn","setValue","memo","enabled","setEnabled","temperature","range","setRange","newRange","tabs","to","hitCount","searchTerms","setSearchTerms","query","dataFor","Header","accessor","study","Cell","fields","ENA_PROJECT","href","biome_name","centre_name","sample","METAGENOMICS_PROJECTS","pathnames","description","analysis","pipeline_version","METAGENOMICS_SAMPLES","experiment_type","FetchError","fomattedData","links","ceil","EMGTable","getFacets","facetNames","formatToFacet","getSamplesQuery","names","biome","sequencing_method","location_name","disease_status","phenotype","organism","GO","INTERPRO","context","useEBISearchData","facetcount","facetsdepth","Text","path","HierarchyMultipleOption","MultipleOption","Temperature","Depth"],"mappings":"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","file":"js/311.4154cea1.chunk.js","sourcesContent":["import root from './_root.js';\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nexport default Symbol;\n","import Symbol from './_Symbol.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nexport default getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nexport default objectToString;\n","import Symbol from './_Symbol.js';\nimport getRawTag from './_getRawTag.js';\nimport objectToString from './_objectToString.js';\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nexport default baseGetTag;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nexport default freeGlobal;\n","import freeGlobal from './_freeGlobal.js';\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nexport default root;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nexport default isObject;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nexport default isObjectLike;\n","import baseGetTag from './_baseGetTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nexport default isSymbol;\n","/** Used to match a single whitespace character. */\nvar reWhitespace = /\\s/;\n\n/**\n * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n * character of `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the index of the last non-whitespace character.\n */\nfunction trimmedEndIndex(string) {\n  var index = string.length;\n\n  while (index-- && reWhitespace.test(string.charAt(index))) {}\n  return index;\n}\n\nexport default trimmedEndIndex;\n","import trimmedEndIndex from './_trimmedEndIndex.js';\n\n/** Used to match leading whitespace. */\nvar reTrimStart = /^\\s+/;\n\n/**\n * The base implementation of `_.trim`.\n *\n * @private\n * @param {string} string The string to trim.\n * @returns {string} Returns the trimmed string.\n */\nfunction baseTrim(string) {\n  return string\n    ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '')\n    : string;\n}\n\nexport default baseTrim;\n","import baseTrim from './_baseTrim.js';\nimport isObject from './isObject.js';\nimport isSymbol from './isSymbol.js';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = baseTrim(value);\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nexport default toNumber;\n","import React, { MouseEventHandler } from 'react';\n\ntype PaginationButtonProps = {\n  currentPageIndex: number;\n  pageIndex: number;\n  gotoPage: (pageIndex: number) => MouseEventHandler;\n};\n\nconst PaginationButton: React.FC<PaginationButtonProps> = ({\n  currentPageIndex,\n  pageIndex,\n  gotoPage,\n}) => {\n  if (currentPageIndex === pageIndex) {\n    return (\n      <li className=\"vf-pagination__item vf-pagination__item--is-active\">\n        <span className=\"vf-pagination__label\" aria-current=\"page\">\n          <span className=\"vf-u-sr-only\">Page </span>\n          {currentPageIndex + 1}\n        </span>\n      </li>\n    );\n  }\n  return (\n    <li className=\"vf-pagination__item\">\n      <button\n        type=\"button\"\n        onClick={() => gotoPage(pageIndex)}\n        className=\"vf-button vf-button--link vf-pagination__link\"\n      >\n        <span className=\"vf-u-sr-only\"> page</span>\n        {pageIndex + 1}\n      </button>\n    </li>\n  );\n};\n\nexport default PaginationButton;\n","/* eslint-disable react/jsx-props-no-spreading */\nimport React, {\n  useRef,\n  useEffect,\n  useMemo,\n  useState,\n  MouseEventHandler,\n} from 'react';\nimport { Column, usePagination, useSortBy, useTable } from 'react-table';\n\nimport Loading from 'components/UI/Loading';\nimport { MGnifyResponse } from 'src/hooks/data/useData';\nimport { useQueryParametersState } from 'hooks/useQueryParamState';\nimport PaginationButton from './PaginationButton';\n\nimport './style.css';\n\ntype PaginationRanges = {\n  startingPages: number[];\n  endingPages: number[];\n  adjacentPages: number[];\n  hasJumpFromStart: boolean;\n  hasJumpToEnd: boolean;\n};\n\nfunction getPaginationRanges(\n  pageIndex: number,\n  pageCount: number\n): PaginationRanges {\n  const startingPages = pageCount > 1 ? [0, 1] : [0];\n\n  const adjacentPages = pageCount > 2 ? [Math.max(2, pageIndex - 2)] : [];\n  for (\n    let page = adjacentPages[0] + 1;\n    page < pageCount - 2 && adjacentPages.length < 5;\n    page += 1\n  ) {\n    adjacentPages.push(page);\n  }\n\n  let endingPages = [];\n  if (pageCount > 7) {\n    endingPages = [pageCount - 2, pageCount - 1];\n  } else if (pageCount > 6) {\n    endingPages = [pageCount - 1];\n  }\n\n  return {\n    startingPages,\n    endingPages,\n    adjacentPages,\n    hasJumpFromStart:\n      !!adjacentPages.length &&\n      adjacentPages[0] > startingPages[startingPages.length - 1] + 1,\n    hasJumpToEnd:\n      !!endingPages.length &&\n      !!adjacentPages.length &&\n      endingPages[0] > adjacentPages[adjacentPages.length - 1] + 1,\n  };\n}\n\nfunction getOrderingQueryParamFromSortedColumn(\n  tableSortBy: Array<{ id: string; desc: boolean }>\n): string {\n  if (!tableSortBy.length) return '';\n  const col = tableSortBy[0];\n  return `${col.desc ? '-' : ''}${col.id\n    .replace(/attributes./g, '')\n    .replace(/-/g, '_')}`;\n}\n\ntype EMGTableProps = {\n  cols: Column[];\n  data: MGnifyResponse;\n  title?: string | React.CElement<any, any>;\n  showPagination?: boolean;\n  initialPage?: number;\n  initialPageSize?: number;\n  className?: string;\n  namespace?: string;\n  sortable?: boolean;\n  loading?: boolean;\n  isStale?: boolean;\n};\n\nconst EMGTable: React.FC<EMGTableProps> = ({\n  cols,\n  data,\n  title,\n  initialPage = 0,\n  initialPageSize = 25,\n  className = '',\n  namespace = '',\n  showPagination = true,\n  sortable = false,\n  loading = false,\n  isStale = false,\n}) => {\n  const [queryParameters, setQueryParameters] = useQueryParametersState(\n    {\n      [`${namespace}page`]: 1,\n      [`${namespace}order`]: '',\n      [`${namespace}page_size`]: initialPageSize,\n    },\n    {\n      [`${namespace}page`]: Number,\n      [`${namespace}page_size`]: Number,\n    }\n  );\n  const {\n    getTableProps,\n    getTableBodyProps,\n    headerGroups,\n    rows,\n    prepareRow,\n    canPreviousPage,\n    canNextPage,\n    pageCount,\n    gotoPage,\n    setPageSize,\n    nextPage,\n    previousPage,\n    state: { pageIndex, pageSize, sortBy },\n  } = useTable(\n    {\n      columns: cols,\n      data: data.data,\n      initialState: {\n        pageIndex: initialPage,\n        pageSize: queryParameters[`${namespace}page_size`],\n      },\n      pageCount: data.meta.pagination.pages,\n      manualPagination: true,\n      manualSortBy: true,\n    },\n    useSortBy,\n    usePagination\n  );\n  const tableRef = useRef(null);\n  const [isChangingPage, setChangingPage] = useState(false);\n\n  useEffect(() => {\n    if (\n      showPagination &&\n      queryParameters[`${namespace}page`] !== pageIndex + 1\n    ) {\n      setQueryParameters({\n        ...queryParameters,\n        [`${namespace}page`]: pageIndex + 1,\n      });\n      if (tableRef.current && isChangingPage) {\n        tableRef.current.scrollIntoView();\n        setChangingPage(false);\n      }\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [showPagination, setQueryParameters, pageIndex]);\n\n  useEffect(() => {\n    if (\n      showPagination &&\n      queryParameters[`${namespace}page_size`] !== pageSize\n    ) {\n      setQueryParameters({\n        ...queryParameters,\n        [`${namespace}page_size`]: pageSize,\n      });\n      if (tableRef.current && isChangingPage) {\n        tableRef.current.scrollIntoView();\n        setChangingPage(false);\n      }\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [showPagination, setQueryParameters, pageSize]);\n\n  useEffect(() => {\n    if (sortable) {\n      const order = getOrderingQueryParamFromSortedColumn(sortBy);\n      if (order === queryParameters[`${namespace}order`]) return;\n      setQueryParameters({\n        ...queryParameters,\n        [`${namespace}order`]: order,\n        [`${namespace}page`]: 1,\n      });\n      if (tableRef.current && isChangingPage) {\n        tableRef.current.scrollIntoView();\n        setChangingPage(false);\n      }\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [showPagination, setQueryParameters, sortBy, sortable]);\n\n  const paginationRanges = useMemo(\n    () => getPaginationRanges(pageIndex, pageCount),\n    [pageIndex, pageCount]\n  );\n  const goToPageAndScroll = (pageNumber): MouseEventHandler => {\n    setChangingPage(true);\n    return gotoPage(pageNumber);\n  };\n  const changeSizeAndScroll = (evt): void => {\n    setChangingPage(true);\n    return setPageSize(+evt.target.value);\n  };\n\n  if (loading && !isStale) return <Loading size=\"small\" />;\n\n  return (\n    <section>\n      <div className=\"mg-table-overlay-container\">\n        <div className={loading && isStale ? 'mg-table-overlay' : undefined} />\n        <table\n          {...getTableProps}\n          className={`vf-table--striped ${className}`}\n          ref={tableRef}\n        >\n          <caption className=\"vf-table__caption\">{title}</caption>\n          <thead className=\"vf-table__header\">\n            {headerGroups.map((headerGroup) => (\n              <tr\n                {...headerGroup.getHeaderGroupProps()}\n                className=\"vf-table__row\"\n              >\n                {headerGroup.headers.map((column) => (\n                  <th\n                    {...(sortable && column.canSort\n                      ? column.getHeaderProps(column.getSortByToggleProps())\n                      : { key: column.id })}\n                    className=\"vf-table__heading\"\n                  >\n                    {column.render('Header')}\n                    {sortable && column.canSort && (\n                      <>\n                        &nbsp;\n                        <span>\n                          {/* eslint-disable-next-line no-nested-ternary */}\n                          {column.isSorted ? (\n                            column.isSortedDesc ? (\n                              <i className=\"icon icon-common icon-sort-down\" />\n                            ) : (\n                              <i className=\"icon icon-common icon-sort-up\" />\n                            )\n                          ) : (\n                            <i className=\"icon icon-common icon-sort\" />\n                          )}\n                        </span>\n                      </>\n                    )}\n                  </th>\n                ))}\n              </tr>\n            ))}\n          </thead>\n          <tbody {...getTableBodyProps()} className=\"vf-table__body\">\n            {rows.map((row) => {\n              prepareRow(row);\n              return (\n                <tr {...row.getRowProps()} className=\"vf-table__row\">\n                  {row.cells.map((cell) => {\n                    return (\n                      <td {...cell.getCellProps()} className=\"vf-table__cell\">\n                        {cell.render('Cell')}\n                      </td>\n                    );\n                  })}\n                </tr>\n              );\n            })}\n          </tbody>\n        </table>\n      </div>\n\n      {showPagination && (\n        <section className=\"mg-table-footer\">\n          <label className=\"vf-form__label\">\n            Page Size:\n            <select\n              className=\"vf-form__select\"\n              value={queryParameters[`${namespace}page_size`] as number}\n              onBlur={changeSizeAndScroll}\n              onChange={changeSizeAndScroll}\n            >\n              {[10, 25, 50].map((pg) => (\n                <option key={pg} value={pg}>\n                  Show {pg}\n                </option>\n              ))}\n            </select>\n          </label>\n          <nav className=\"vf-pagination\" aria-label=\"Pagination\">\n            <ul className=\"vf-pagination__list\">\n              <li className=\"vf-pagination__item vf-pagination__item--previous-page\">\n                <button\n                  disabled={!canPreviousPage}\n                  type=\"button\"\n                  onClick={previousPage}\n                  className=\"vf-button vf-button--link vf-pagination__link\"\n                >\n                  Previous<span className=\"vf-u-sr-only\"> page</span>\n                </button>\n              </li>\n\n              {paginationRanges.startingPages.map((paginationIndex) => (\n                <PaginationButton\n                  key={paginationIndex}\n                  currentPageIndex={pageIndex}\n                  pageIndex={paginationIndex}\n                  gotoPage={goToPageAndScroll}\n                />\n              ))}\n\n              {paginationRanges.hasJumpFromStart && (\n                <li className=\"vf-pagination__item\">\n                  <span className=\"vf-pagination__label\">...</span>\n                </li>\n              )}\n\n              {paginationRanges.adjacentPages.map((paginationIndex) => (\n                <PaginationButton\n                  key={paginationIndex}\n                  currentPageIndex={pageIndex}\n                  pageIndex={paginationIndex}\n                  gotoPage={goToPageAndScroll}\n                />\n              ))}\n\n              {paginationRanges.hasJumpToEnd && (\n                <li className=\"vf-pagination__item\">\n                  <span className=\"vf-pagination__label\">...</span>\n                </li>\n              )}\n\n              {paginationRanges.endingPages.map((paginationIndex) => (\n                <PaginationButton\n                  key={paginationIndex}\n                  currentPageIndex={pageIndex}\n                  pageIndex={paginationIndex}\n                  gotoPage={goToPageAndScroll}\n                />\n              ))}\n\n              <li className=\"vf-pagination__item vf-pagination__item--next-page\">\n                <button\n                  disabled={!canNextPage}\n                  type=\"button\"\n                  onClick={nextPage}\n                  className=\"vf-button vf-button--link vf-pagination__link\"\n                >\n                  Next<span className=\"vf-u-sr-only\"> page</span>\n                </button>\n              </li>\n            </ul>\n          </nav>\n        </section>\n      )}\n    </section>\n  );\n};\n\nexport default EMGTable;\n","import React from 'react';\nimport { ErrorFromFetch, ErrorTypes } from 'hooks/data/useData';\n\nconst refreshPage = (): void => {\n  window.location.reload();\n};\n\nconst FetchError: React.FC<{ error: ErrorFromFetch }> = ({ error }) => {\n  if (!error || error.type === ErrorTypes.NullURL) return null;\n  return (\n    <div\n      className=\"vf-box vf-box-theme--primary vf-box--easy\"\n      style={{\n        backgroundColor: 'lemonchiffon',\n      }}\n    >\n      <h3 className=\"vf-box__heading\">\n        <span className=\"icon icon-common icon-exclamation-triangle\" /> Error\n        Fetching Data\n      </h3>\n      <p className=\"vf-box__text\">\n        {error?.type === ErrorTypes.FetchError &&\n          `There were problems with the request. [${error.error}]`}\n        {error?.type === ErrorTypes.NotOK &&\n          `The response from the server was not OK [Status: ${error.status}].`}\n        {error?.type === ErrorTypes.JSONError &&\n          `The recovered resource didn't follow the expected format [${error.error}].`}\n      </p>\n      <div className=\"mg-right\">\n        <button\n          type=\"button\"\n          className=\"vf-button vf-button--tertiary vf-button--sm \"\n          onClick={refreshPage}\n        >\n          Refresh\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default FetchError;\n","import { useContext } from 'react';\nimport useData, { DataResponse, KeyValue } from 'hooks/data/useData';\nimport UserContext from 'pages/Login/UserContext';\n\ninterface EBIDataResponse extends DataResponse {\n  data: KeyValue;\n}\n\nconst useEBISearchData: (\n  endpoint: string,\n  parameters?: KeyValue\n) => EBIDataResponse = (endpoint, parameters = {}) => {\n  const { config } = useContext(UserContext);\n  const defaultParameters = {\n    format: 'json',\n    start: 0,\n  };\n  const allParemeters = { ...defaultParameters, ...parameters };\n  const url = `${config.ebisearch}${endpoint}?${Object.entries(allParemeters)\n    .map(([key, value]) => `${key}=${value}`)\n    .join('&')}`;\n  const data = useData([null, undefined].includes(endpoint) ? null : url);\n  return data as EBIDataResponse;\n};\n\nexport default useEBISearchData;\n","import { useState, useEffect, useMemo } from 'react';\nimport { useLocation, useHistory } from 'react-router-dom';\n\nconst useQueryParamState: <S>(\n  parameter: string,\n  defaultValue: S\n) => [string | S, (s: S) => void] = (parameter, defaultValue) => {\n  const location = useLocation();\n  const history = useHistory();\n  const parameters = new URLSearchParams(location.search);\n  const [value, setValue] = useState(parameters.get(parameter) || defaultValue);\n\n  // The Query parameters have changed, so we need to update the value if needed.\n  useEffect(() => {\n    const changedParameters = new URLSearchParams(location.search);\n    if (changedParameters.get(parameter) === value) return;\n    setValue(changedParameters.get(parameter) || defaultValue);\n  }, [location.search, defaultValue, parameter, value]);\n\n  // Pushes the new URL(including the new parameter value) into history\n  const setParameterInURL: (newValue: unknown) => void = (newValue) => {\n    if (String(newValue) === String(value)) return;\n    const parametersToChange = new URLSearchParams(location.search);\n    parametersToChange.set(parameter, String(newValue));\n    // The default value is not displayed in the URL\n    if (newValue === defaultValue) {\n      parametersToChange.delete(parameter);\n    }\n    location.search = parametersToChange.toString();\n    history.push(location);\n  };\n\n  return [value, setParameterInURL];\n};\n\nexport type QueryState = {\n  [parameter: string]: unknown;\n};\ntype SerializersType = {\n  [parameter: string]: (str: string) => unknown;\n};\n\nconst getQueryStateFromURL = (\n  state: QueryState,\n  searchStr: string,\n  serializers: SerializersType\n): QueryState => {\n  const innerState = {};\n  const parametersFromURL = new URLSearchParams(searchStr);\n  Object.entries(state).forEach(([parameter, value]) => {\n    const serializer = serializers[parameter] || String;\n    innerState[parameter] = serializer(\n      parametersFromURL.get(parameter) || (value as string)\n    );\n  });\n  return innerState;\n};\nexport const useQueryParametersState: (\n  initialState: QueryState,\n  serializers?: SerializersType\n) => [QueryState, (s: QueryState) => void] = (\n  initialState,\n  serializers = {}\n) => {\n  const location = useLocation();\n  const history = useHistory();\n  const stateWithURL = useMemo(\n    () => getQueryStateFromURL(initialState, location.search, serializers),\n    [initialState, location.search, serializers]\n  );\n  const [currentState, setCurrentState] = useState(stateWithURL);\n\n  // The Query parameters have changed, so we need to update the value if needed.\n  useEffect(() => {\n    const newState = getQueryStateFromURL(\n      initialState,\n      location.search,\n      serializers\n    );\n    if (JSON.stringify(newState) === JSON.stringify(currentState)) return;\n    setCurrentState(newState);\n  }, [location.search, currentState, initialState, serializers]);\n\n  // Pushes the new URL(including the new parameter value) into history\n  const setParametersInURL: (newState: QueryState) => void = (newState) => {\n    if (JSON.stringify(newState) === JSON.stringify(currentState)) return;\n    const parametersToChange = new URLSearchParams(location.search);\n\n    let changed = false;\n    Object.entries(initialState).forEach(([parameter, defaultValue]) => {\n      const newValue =\n        parameter in newState ? newState[parameter] : defaultValue;\n      if (newState[parameter] !== currentState[parameter]) {\n        parametersToChange.set(parameter, String(newValue));\n        if (newValue === defaultValue) {\n          parametersToChange.delete(parameter);\n        }\n        changed = true;\n      }\n    });\n\n    // The default value is not displayed in the URL\n    if (changed) {\n      location.search = parametersToChange.toString();\n      history.push(location);\n    }\n  };\n\n  return [currentState, setParametersInURL];\n};\n\nexport default useQueryParamState;\n","import React from 'react';\nimport { QueryState } from 'hooks/useQueryParamState';\nimport { noop } from 'lodash-es';\n\nconst SearchQueryContext = React.createContext({\n  searchData: {\n    '/search/studies': {\n      data: null,\n      loading: false,\n      error: null,\n    },\n    '/search/samples': {\n      data: null,\n      loading: false,\n      error: null,\n    },\n    '/search/analyses': {\n      data: null,\n      loading: false,\n      error: null,\n    },\n  },\n  queryParameters: {} as QueryState,\n  setQueryParameters: noop as (s: QueryState) => void,\n});\n\nexport default SearchQueryContext;\n","import React, { useContext, useMemo, useState, useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport SearchQueryContext from 'pages/TextSearch/SearchQueryContext';\nimport Loading from 'components/UI/Loading';\nimport 'styles/filters.css';\n\ntype MultipleOptionProps = {\n  facetName: string;\n  header: string;\n  includeTextFilter?: boolean;\n};\nconst MultipleOptionFilter: React.FC<MultipleOptionProps> = ({\n  facetName,\n  header,\n  includeTextFilter = false,\n}) => {\n  const location = useLocation();\n  const { searchData, queryParameters, setQueryParameters } =\n    useContext(SearchQueryContext);\n  const [selected, setSelected] = useState(\n    (queryParameters[facetName] as string).split(',').filter(Boolean)\n  );\n  const [textFilter, setTextFilter] = useState('');\n  useEffect(() => {\n    setSelected(\n      (queryParameters[facetName] as string).split(',').filter(Boolean)\n    );\n  }, [queryParameters, facetName]);\n\n  const facetData = useMemo(\n    () =>\n      (searchData?.[location.pathname]?.data?.facets || []).filter(\n        (f) => f.id === facetName\n      )?.[0],\n    [location.pathname, searchData, facetName]\n  );\n\n  if (\n    searchData?.[location.pathname].loading &&\n    !searchData?.[location.pathname].isStale\n  )\n    return <Loading />;\n  if (searchData?.[location.pathname].error) return null;\n\n  if (!facetData) return null;\n  const handleSelection = (event): void => {\n    const { value, checked: isChecked } = event.target as HTMLInputElement;\n    let newSelected = [...selected];\n    if (isChecked && !selected.includes(value)) {\n      newSelected.push(value);\n    } else {\n      newSelected = selected.filter((s) => s !== value);\n    }\n    setQueryParameters({\n      ...queryParameters,\n      [facetName]: newSelected.sort().join(','),\n    });\n  };\n\n  return (\n    <fieldset className=\"vf-form__fieldset vf-stack vf-stack--400\">\n      <legend className=\"vf-form__legend\">\n        {header}\n        {searchData?.[location.pathname].loading &&\n          searchData?.[location.pathname].isStale && <Loading size=\"small\" />}\n      </legend>\n      {includeTextFilter && (\n        <input\n          type=\"text\"\n          placeholder=\"Filter the list\"\n          className=\"vf-form__input\"\n          value={textFilter}\n          onChange={(evt) => setTextFilter(evt.target.value)}\n        />\n      )}\n      {facetData.facetValues\n        .filter(\n          ({ label, value }) =>\n            textFilter === '' ||\n            label.toLowerCase().includes(textFilter.toLowerCase()) ||\n            value.toLowerCase().includes(textFilter.toLowerCase())\n        )\n        .map(({ label, value, count }) => (\n          <div className=\"vf-form__item vf-form__item--checkbox\" key={value}>\n            <input\n              type=\"checkbox\"\n              name={value}\n              value={value}\n              id={value}\n              className=\"vf-form__checkbox\"\n              onChange={handleSelection}\n              checked={selected.includes(value)}\n            />\n            <label className=\"vf-form__label\" htmlFor={value}>\n              <span className=\"mg-filter-checkbox-label\">\n                {label} <span className=\"mg-number\">{count}</span>\n              </span>\n            </label>\n          </div>\n        ))}\n    </fieldset>\n  );\n};\nexport default MultipleOptionFilter;\n","import React, { useContext, useMemo, useState, useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport SearchQueryContext from 'pages/TextSearch/SearchQueryContext';\nimport Loading from 'components/UI/Loading';\nimport './style.css';\nimport 'styles/filters.css';\n\ninterface OptionDataType {\n  value: string;\n  label: string;\n  count: number;\n  optionChildren?: OptionDataType[];\n  children?: OptionDataType[];\n}\ninterface HierarchyOptionProps extends OptionDataType {\n  depth?: number;\n  shouldExpand: (value: string) => boolean;\n  handleSelection: (evt: {\n    target: {\n      value?: string;\n      checked?: boolean;\n    };\n  }) => void;\n  isSelected: (value: string) => boolean;\n}\nconst HierarchyOption: React.FC<HierarchyOptionProps> = ({\n  value,\n  label,\n  count,\n  optionChildren,\n  depth = 0,\n  shouldExpand,\n  handleSelection,\n  isSelected,\n}) => {\n  const [displayChildren, setDisplayChildren] = useState(shouldExpand(value));\n  return (\n    <div\n      style={{\n        marginLeft: `${depth * 0.5}rem`,\n      }}\n    >\n      <div className=\"mg-hierarchy-selector\">\n        {optionChildren?.length ? (\n          <button\n            type=\"button\"\n            className=\"mg-expander\"\n            onClick={() => setDisplayChildren(!displayChildren)}\n          >\n            {displayChildren ? '' : ''}\n          </button>\n        ) : (\n          <span className=\"mg-hierarchy-spacer\" />\n        )}\n        <div className=\"vf-form__item vf-form__item--checkbox\">\n          <input\n            type=\"checkbox\"\n            name={value}\n            value={value}\n            id={value}\n            className=\"vf-form__checkbox\"\n            onChange={handleSelection}\n            checked={isSelected(value)}\n          />\n          <label className=\"vf-form__label\" htmlFor={value}>\n            <span className=\"mg-filter-checkbox-label\">\n              {label} <span className=\"mg-number\">{count}</span>\n            </span>\n          </label>\n        </div>\n      </div>\n      {optionChildren &&\n        optionChildren.length &&\n        displayChildren &&\n        optionChildren.map(\n          ({\n            label: childLabel,\n            value: childValue,\n            count: childCount,\n            children: childChildren,\n          }) => (\n            <HierarchyOption\n              key={`${value}/${childValue}`}\n              label={childLabel}\n              value={`${value}/${childValue}`}\n              count={childCount}\n              depth={depth + 1}\n              optionChildren={childChildren}\n              handleSelection={handleSelection}\n              isSelected={isSelected}\n              shouldExpand={shouldExpand}\n            />\n          )\n        )}\n    </div>\n  );\n};\n\ntype MultipleOptionProps = {\n  facetName: string;\n  header: string;\n};\n\nconst HierarchyMultipleOptionFilter: React.FC<MultipleOptionProps> = ({\n  facetName,\n  header,\n}) => {\n  const location = useLocation();\n  const { searchData, queryParameters, setQueryParameters } =\n    useContext(SearchQueryContext);\n  const [selected, setSelected] = useState(\n    (queryParameters[facetName] as string).split(',').filter(Boolean)\n  );\n  useEffect(() => {\n    setSelected(\n      (queryParameters[facetName] as string).split(',').filter(Boolean)\n    );\n  }, [queryParameters, facetName]);\n\n  const facetData = useMemo(\n    () =>\n      (searchData?.[location.pathname]?.data?.facets || []).filter(\n        (f) => f.id === facetName\n      )?.[0],\n    [location.pathname, searchData, facetName]\n  );\n\n  if (\n    searchData?.[location.pathname].loading &&\n    !searchData?.[location.pathname].isStale\n  )\n    return <Loading />;\n  if (searchData?.[location.pathname].error) return null;\n\n  if (!facetData) return null;\n\n  const handleSelection = (event): void => {\n    const { value, checked: isChecked } = event.target as HTMLInputElement;\n    let newSelected = [...selected];\n    if (isChecked && !selected.includes(value)) {\n      newSelected.push(value);\n    } else {\n      newSelected = selected.filter((s) => s !== value);\n    }\n    setQueryParameters({\n      ...queryParameters,\n      [facetName]: newSelected.sort().join(','),\n    });\n  };\n\n  return (\n    <fieldset className=\"vf-form__fieldset vf-stack vf-stack--400\">\n      <legend className=\"vf-form__legend\">\n        {header}\n        {searchData?.[location.pathname].loading &&\n          searchData?.[location.pathname].isStale && <Loading size=\"small\" />}\n      </legend>\n      {facetData.facetValues.map(({ label, value, count, children }) => (\n        <HierarchyOption\n          key={value}\n          label={label}\n          value={value}\n          count={count}\n          optionChildren={children}\n          handleSelection={handleSelection}\n          isSelected={(v) => selected.includes(v)}\n          shouldExpand={(v) => selected.some((s) => s.startsWith(v))}\n        />\n      ))}\n    </fieldset>\n  );\n};\n\nexport default HierarchyMultipleOptionFilter;\n","import root from './_root.js';\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\nexport default now;\n","import isObject from './isObject.js';\nimport now from './now.js';\nimport toNumber from './toNumber.js';\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nexport default debounce;\n","import React, { useState, useEffect, useCallback } from 'react';\nimport { debounce } from 'lodash-es';\nimport './style.css';\n\ntype SelectionType = {\n  min: number;\n  max: number;\n};\n\ntype SliderProps = {\n  min: number;\n  max: number;\n  selection?: SelectionType;\n  isEnabled?: boolean;\n  onChange?: (selection: SelectionType) => void;\n};\n\nconst areEqual = (s1: SelectionType, s2: SelectionType): boolean =>\n  s1.max === s2.max && s1.min === s2.min;\n\nconst Slider: React.FC<SliderProps> = ({\n  min,\n  max,\n  isEnabled = true,\n  selection = null,\n  onChange = (s) => s,\n}) => {\n  const [currentSelection, setCurrentSelection] = useState({\n    min: selection && 'min' in selection ? selection.min : min,\n    max: selection && 'max' in selection ? selection.max : max,\n  });\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  const debounced = useCallback(debounce(onChange, 300), []);\n  useEffect(() => {\n    if (!areEqual(currentSelection, selection)) {\n      debounced(currentSelection);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [currentSelection]);\n  useEffect(() => {\n    if (!areEqual(currentSelection, selection)) {\n      setCurrentSelection(selection);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [selection]);\n\n  return (\n    <div className=\"mg-multirange-wrapper\">\n      <input\n        type=\"range\"\n        min={min}\n        max={max}\n        name=\"min\"\n        value={currentSelection.min}\n        className=\"original\"\n        disabled={!isEnabled}\n        onChange={(evt) => {\n          setCurrentSelection({\n            min: Number(evt.target.value),\n            max: currentSelection.max,\n          });\n        }}\n      />\n      <input\n        type=\"range\"\n        min={min}\n        max={max}\n        name=\"max\"\n        value={currentSelection.max}\n        className=\"ghost\"\n        disabled={!isEnabled}\n        onChange={(evt) => {\n          setCurrentSelection({\n            max: Number(evt.target.value),\n            min: currentSelection.min,\n          });\n        }}\n      />\n      <div className=\"labels\">\n        <div className=\"label-min\">\n          <span>{Math.min(currentSelection.min, currentSelection.max)}</span>\n        </div>\n        <div className=\"label-max\">\n          <span>{Math.max(currentSelection.min, currentSelection.max)}</span>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Slider;\n","import React, { useState, useEffect } from 'react';\nimport './style.css';\n\ntype SwitchProps = {\n  id: string;\n  isOn?: boolean;\n  onChange?: (v: boolean) => void;\n};\nconst Switch: React.FC<SwitchProps> = ({\n  id,\n  onChange = (v) => v,\n  isOn = false,\n}) => {\n  const [value, setValue] = useState(isOn);\n  useEffect(() => {\n    setValue(isOn);\n    onChange(isOn);\n  }, [isOn, onChange]);\n\n  return (\n    <div>\n      <input\n        className=\"mg-switch\"\n        type=\"checkbox\"\n        id={id}\n        checked={value}\n        onChange={() => {\n          onChange(!value);\n          setValue(!value);\n        }}\n      />\n    </div>\n  );\n};\n\nexport default Switch;\n","import React, { useEffect, useState, useContext, memo } from 'react';\n\nimport SearchQueryContext from 'pages/TextSearch/SearchQueryContext';\n\nimport Slider from 'src/components/UI/Slider';\nimport Switch from 'src/components/UI/Switch';\n\nconst MIN = -20;\nconst MAX = 100;\n\nconst TemperatureFilter: React.FC = () => {\n  const { queryParameters, setQueryParameters } =\n    useContext(SearchQueryContext);\n  const [enabled, setEnabled] = useState(!!queryParameters.temperature);\n  const [range, setRange] = useState(\n    (queryParameters.temperature as string)\n      .split(',')\n      .filter(Boolean)\n      .map(Number)\n  );\n  useEffect(() => {\n    const newRange = (queryParameters.temperature as string)\n      .split(',')\n      .filter(Boolean)\n      .map(Number);\n    setRange(newRange);\n  }, [queryParameters.temperature]);\n\n  const handleSwitch = (isEnabled: boolean): void => {\n    setEnabled(isEnabled);\n    if (!isEnabled) {\n      setQueryParameters({\n        ...queryParameters,\n        temperature: '',\n      });\n    }\n  };\n  const handleSlider = ({ min, max }): void => {\n    setQueryParameters({\n      ...queryParameters,\n      temperature: `${min},${max}`,\n    });\n  };\n  return (\n    <fieldset className=\"vf-form__fieldset vf-stack vf-stack--400 mg-temperature-filter\">\n      <legend className=\"vf-form__legend\">Temperature (C)</legend>\n      <div className=\"mg-switch-and-slider\">\n        <Switch id=\"temp_filter\" onChange={handleSwitch} isOn={enabled} />\n        <Slider\n          min={MIN}\n          max={MAX}\n          isEnabled={enabled}\n          selection={{\n            min: range?.[0] || MIN,\n            max: range?.[1] || MAX,\n          }}\n          onChange={handleSlider}\n        />\n      </div>\n    </fieldset>\n  );\n};\nexport default memo(TemperatureFilter);\n","import React, { useEffect, useState, useContext, memo } from 'react';\n\nimport SearchQueryContext from 'pages/TextSearch/SearchQueryContext';\n\nimport Slider from 'src/components/UI/Slider';\nimport Switch from 'src/components/UI/Switch';\n\nconst MIN = 0;\nconst MAX = 2000;\n\nconst DepthFilter: React.FC = () => {\n  const { queryParameters, setQueryParameters } =\n    useContext(SearchQueryContext);\n  const [enabled, setEnabled] = useState(!!queryParameters.depth);\n  const [range, setRange] = useState(\n    (queryParameters.depth as string).split(',').filter(Boolean).map(Number)\n  );\n  useEffect(() => {\n    const newRange = (queryParameters.depth as string)\n      .split(',')\n      .filter(Boolean)\n      .map(Number);\n    setRange(newRange);\n  }, [queryParameters.depth]);\n\n  const handleSwitch = (isEnabled: boolean): void => {\n    setEnabled(isEnabled);\n    if (!isEnabled) {\n      setQueryParameters({\n        ...queryParameters,\n        depth: '',\n      });\n    }\n  };\n  const handleSlider = ({ min, max }): void => {\n    setQueryParameters({\n      ...queryParameters,\n      depth: `${min},${max}`,\n    });\n  };\n  return (\n    <fieldset className=\"vf-form__fieldset vf-stack vf-stack--400 mg-depth-filter\">\n      <legend className=\"vf-form__legend\">Depth (meters)</legend>\n      <div className=\"mg-switch-and-slider\">\n        <Switch id=\"temp_filter\" onChange={handleSwitch} isOn={enabled} />\n        <Slider\n          min={MIN}\n          max={MAX}\n          isEnabled={enabled}\n          selection={{\n            min: range?.[0] || MIN,\n            max: range?.[1] || MAX,\n          }}\n          onChange={handleSlider}\n        />\n      </div>\n    </fieldset>\n  );\n};\nexport default memo(DepthFilter);\n","import React, { useEffect, useContext } from 'react';\nimport { Link, useHistory, useLocation } from 'react-router-dom';\nimport SearchQueryContext from 'pages/TextSearch/SearchQueryContext';\n\nconst tabs = [\n  { label: 'Studies', to: '/search/studies' },\n  { label: 'Samples', to: '/search/samples' },\n  { label: 'Analyses', to: '/search/analyses' },\n];\n\nconst SearchTabs: React.FC = () => {\n  const location = useLocation();\n  const history = useHistory();\n  const { searchData } = useContext(SearchQueryContext);\n\n  useEffect(() => {\n    if (!tabs.some(({ to }) => to === location.pathname)) {\n      history.replace({\n        ...location,\n        pathname: tabs[0].to,\n      });\n    }\n  }, [location, history]);\n  return (\n    <div className=\"vf-tabs mg-search-tabs\">\n      <ul className=\"vf-tabs__list\">\n        {tabs.map(({ label, to }) => (\n          <li className=\"vf-tabs__item\" key={label}>\n            <Link\n              className={`vf-tabs__link ${\n                to === location.pathname ? 'is-active' : ''\n              }`}\n              to={to}\n            >\n              {label}\n              <span className=\"mg-number\">\n                {searchData?.[to]?.data?.hitCount || ''}\n              </span>\n            </Link>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default SearchTabs;\n","import React, { useEffect, useState, useContext } from 'react';\nimport SearchQueryContext from 'pages/TextSearch/SearchQueryContext';\n\nconst TextSearch: React.FC = () => {\n  const { queryParameters, setQueryParameters } =\n    useContext(SearchQueryContext);\n  const [searchTerms, setSearchTerms] = useState(\n    queryParameters.query as string\n  );\n  useEffect(() => {\n    setSearchTerms(queryParameters.query as string);\n  }, [queryParameters.query]);\n  return (\n    <div className=\"vf-form vf-form--search vf-sidebar vf-sidebar--end mg-text-search\">\n      <div className=\"vf-sidebar__inner\">\n        <div className=\"vf-form__item | vf-search__item\">\n          <input\n            type=\"text\"\n            placeholder=\"Enter your search terms\"\n            id=\"mg-text-search\"\n            className=\"vf-form__input | st-default-search-input mg-text-search-textfield\"\n            value={searchTerms}\n            onChange={(evt) => {\n              setSearchTerms(evt.target.value);\n            }}\n          />\n        </div>\n        <div className=\"vf-form__item | vf-search__item\">\n          <button\n            type=\"button\"\n            className=\"vf-search__button | vf-button vf-button--primary mg-text-search-button\"\n            onClick={() => {\n              setQueryParameters({\n                ...queryParameters,\n                query: searchTerms,\n              });\n            }}\n          >\n            <span className=\"vf-button__text\">Search </span>\n            <span className=\"icon icon-common icon-search\" />\n          </button>\n          <button\n            type=\"button\"\n            className=\"vf-search__button | vf-button vf-button--tertiary mg-text-search-clear\"\n            onClick={() => {\n              setQueryParameters({});\n            }}\n          >\n            <span className=\"vf-button__text\">Clear All </span>\n            <span className=\"icon icon-common icon-times-circle\" />\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default TextSearch;\n","import React, { useMemo, useContext } from 'react';\nimport { useLocation, Link } from 'react-router-dom';\nimport Loading from 'components/UI/Loading';\nimport FetchError from 'components/UI/FetchError';\nimport EMGTable from 'components/UI/EMGTable';\nimport SearchQueryContext from 'pages/TextSearch/SearchQueryContext';\n\n// import './style.css';\n\nconst dataFor = {\n  '/search/studies': {\n    label: 'Studies',\n    columns: [\n      {\n        id: 'study_id',\n        Header: 'MGnify ID',\n        accessor: (study) => study.id,\n        Cell: ({ cell }) => (\n          <Link to={`/studies/${cell.value}`}>{cell.value}</Link>\n        ),\n      },\n      {\n        id: 'ena_id',\n        Header: 'ENA accession',\n        accessor: (study) => study?.fields?.ENA_PROJECT?.[0] || '',\n        Cell: ({ cell }) => (\n          <span>\n            <a\n              href={`https://www.ebi.ac.uk/ena/browser/view/${cell.value}`}\n              className=\"ext\"\n            >\n              {cell.value}\n            </a>\n          </span>\n        ),\n      },\n      {\n        id: 'biome',\n        Header: 'Biome',\n        accessor: (study) => study?.fields?.biome_name?.join(':'),\n        Cell: ({ cell }) => <span>{cell.value}</span>,\n      },\n      {\n        id: 'centre',\n        Header: 'Centre name',\n        accessor: (study) => study?.fields?.centre_name?.[0],\n        Cell: ({ cell }) => <span>{cell.value}</span>,\n      },\n    ],\n  },\n  '/search/samples': {\n    label: 'Samples',\n    columns: [\n      {\n        id: 'sample_id',\n        Header: 'Sample',\n        accessor: (sample) => sample.id,\n        Cell: ({ cell }) => (\n          <Link to={`/samples/${cell.value}`}>{cell.value}</Link>\n        ),\n      },\n      {\n        id: 'mgnify_id',\n        Header: 'MGnify ID',\n        accessor: (sample) => sample?.fields?.METAGENOMICS_PROJECTS?.[0] || '',\n        Cell: ({ cell }) => (\n          <Link to={`/studies/${cell.value}`}>{cell.value}</Link>\n        ),\n      },\n      {\n        id: 'sample_name',\n        Header: 'Name',\n        pathnames: ['/search/studies'],\n        accessor: (study) => study?.fields?.name?.[0],\n        Cell: ({ cell }) => <span>{cell.value}</span>,\n      },\n      {\n        id: 'sample_description',\n        Header: 'Description',\n        pathnames: ['/search/studies'],\n        accessor: (study) => study?.fields?.description?.[0],\n        Cell: ({ cell }) => <span>{cell.value}</span>,\n      },\n    ],\n  },\n  '/search/analyses': {\n    label: 'Analyses',\n    columns: [\n      {\n        id: 'analyses_id',\n        Header: 'Analysis',\n        accessor: (analysis) => (analysis.id || '').split('_'),\n        Cell: ({ cell }) => (\n          <Link to={`/analyses/${cell.value[0]}?version=${cell.value[1]}`}>\n            {cell.value[0]}\n          </Link>\n        ),\n      },\n      {\n        id: 'pipeline',\n        Header: 'Pipeline version',\n        accessor: (analysis) => analysis?.fields?.pipeline_version?.[0] || '',\n        Cell: ({ cell }) => (\n          <span>\n            <Link to={`/pipelines/${cell.value}`}>{cell.value}</Link>\n          </span>\n        ),\n      },\n      {\n        id: 'sample_id',\n        Header: 'Sample',\n        accessor: (analysis) => analysis?.fields?.METAGENOMICS_SAMPLES?.[0],\n        Cell: ({ cell }) => (\n          <Link to={`/samples/${cell.value}`}>{cell.value}</Link>\n        ),\n      },\n      {\n        id: 'mgnify_id',\n        Header: 'MGnify ID',\n        accessor: (analysis) =>\n          analysis?.fields?.METAGENOMICS_PROJECTS?.[0] || '',\n        Cell: ({ cell }) => (\n          <Link to={`/studies/${cell.value}`}>{cell.value}</Link>\n        ),\n      },\n      {\n        id: 'experiment',\n        Header: 'Experiment type',\n        accessor: (analysis) => analysis?.fields?.experiment_type?.[0],\n        Cell: ({ cell }) => <span>{cell.value}</span>,\n      },\n    ],\n  },\n};\nconst PAGE_SIZE = 25; // TODO: move to table\n\nconst SearchTable: React.FC = () => {\n  const { pathname } = useLocation();\n  const { searchData } = useContext(SearchQueryContext);\n  const { data, loading, error, isStale } = searchData?.[pathname] || {};\n  // console.log({loading});\n\n  const columns = useMemo(() => dataFor?.[pathname]?.columns, [pathname]);\n  if (loading && !isStale) return <Loading size=\"small\" />;\n  if (error || !data) return <FetchError error={error} />;\n  const fomattedData = {\n    data: data.entries as Record<string, unknown>[],\n    links: {},\n    meta: {\n      pagination: {\n        pages: Math.ceil((data.hitCount as number) / PAGE_SIZE),\n        count: 25,\n        page: 1,\n      },\n    },\n  };\n\n  return (\n    <EMGTable\n      cols={columns}\n      data={fomattedData}\n      title={\n        <>\n          {dataFor?.[pathname]?.label || ''}{' '}\n          <span className=\"mg-number\">{data.hitCount}</span>\n        </>\n      }\n      initialPage={1}\n      className=\"mg-search-result\"\n      loading={loading}\n      isStale={isStale}\n    />\n  );\n};\n\nexport default SearchTable;\n","import React from 'react';\nimport { Switch, Route } from 'react-router-dom';\n\nimport MultipleOptionFilter from 'components/Search/Filter/MultipleOption';\nimport HierarchyMultipleOptionFilter from 'src/components/Search/Filter/HierarchyMultipleOption';\nimport TemperatureFilter from 'components/Search/Filter/Temperature';\nimport DepthFilter from 'components/Search/Filter/Depth';\nimport SearchTabs from 'src/components/Search/Tabs';\nimport TextSearch from 'src/components/Search/Filter/Text';\nimport SearchTable from 'src/components/Search/Table';\nimport useEBISearchData from 'hooks/data/useEBISearchData';\nimport { QueryState, useQueryParametersState } from 'hooks/useQueryParamState';\nimport SearchQueryContext from './SearchQueryContext';\n\nimport './style.css';\n\nconst PAGE_SIZE = 25;\nconst FACET_DEPTH = 4;\n\nconst formatToFacet = (facetName: string, strValue: string): string =>\n  strValue\n    .split(',')\n    .filter(Boolean)\n    .map((v) => `${facetName}:${v}`)\n    .join(',');\n\nconst getFacets = (facetNames: string[], queryParameters: QueryState): string =>\n  facetNames\n    .map((name) => formatToFacet(name, queryParameters[name] as string))\n    .filter(Boolean)\n    .join(',');\n\nconst getSamplesQuery = (\n  names: string[],\n  queryParameters: QueryState,\n  defaultValue: string\n): string => {\n  const query = names\n    .map((name) => {\n      switch (name) {\n        case 'query':\n          return queryParameters[name];\n        case 'temperature':\n        case 'depth': {\n          const newRange = (queryParameters[name] as string)\n            .split(',')\n            .filter(Boolean)\n            .map(Number);\n\n          return newRange.length === 2\n            ? `${name}:[${Math.min(...newRange)} TO ${Math.max(...newRange)}]`\n            : '';\n        }\n        default:\n          return '';\n      }\n    })\n    .filter(Boolean);\n  if (query.length) return query.join(' AND ');\n  return defaultValue;\n};\nconst TextSearchPage: React.FC = () => {\n  const [queryParameters, setQueryParameters] = useQueryParametersState({\n    query: '',\n    centre_name: '',\n    biome: '',\n    temperature: '',\n    depth: '',\n    experiment_type: '',\n    sequencing_method: '',\n    location_name: '',\n    disease_status: '',\n    phenotype: '',\n    organism: '',\n    pipeline_version: '',\n    GO: '',\n    INTERPRO: '',\n  });\n\n  const searchDataStudies = useEBISearchData('metagenomics_projects', {\n    query: getSamplesQuery(\n      ['query'],\n      queryParameters,\n      'domain_source:metagenomics_projects'\n    ),\n    size: PAGE_SIZE,\n    fields: 'ENA_PROJECT,biome_name,centre_name',\n    facetcount: 10,\n    facetsdepth: FACET_DEPTH,\n    facets: getFacets(['centre_name', 'biome'], queryParameters),\n  });\n  const searchDataSamples = useEBISearchData('metagenomics_samples', {\n    query: getSamplesQuery(\n      ['query', 'temperature', 'depth'],\n      queryParameters,\n      'domain_source:metagenomics_samples'\n    ),\n    size: PAGE_SIZE,\n    fields: 'METAGENOMICS_PROJECTS,name,description',\n    facetcount: 10,\n    facetsdepth: FACET_DEPTH,\n    facets: getFacets(\n      [\n        'biome',\n        'experiment_type',\n        'location_name',\n        'disease_status',\n        'sequencing_method',\n        'phenotype',\n      ],\n      queryParameters\n    ),\n  });\n  const searchDataAnalyses = useEBISearchData('metagenomics_analyses', {\n    query: getSamplesQuery(\n      ['query', 'temperature', 'depth'],\n      queryParameters,\n      'domain_source:metagenomics_analyses'\n    ),\n    size: PAGE_SIZE,\n    fields:\n      'METAGENOMICS_PROJECTS,METAGENOMICS_SAMPLES,pipeline_version,experiment_type',\n    facetcount: 10,\n    facetsdepth: FACET_DEPTH,\n    facets: getFacets(\n      [\n        'biome',\n        'organism',\n        'pipeline_version',\n        'experiment_type',\n        'GO',\n        'INTERPRO',\n      ],\n      queryParameters\n    ),\n  });\n  const context = {\n    searchData: {\n      '/search/studies': searchDataStudies,\n      '/search/samples': searchDataSamples,\n      '/search/analyses': searchDataAnalyses,\n    },\n    queryParameters,\n    setQueryParameters,\n  };\n\n  return (\n    <section className=\"vf-content mg-page-search\">\n      <h2>Text Search.</h2>\n      <SearchQueryContext.Provider value={context}>\n        <TextSearch />\n        <SearchTabs />\n        <section className=\"vf-grid\">\n          <div className=\"vf-stack vf-stack--200\">\n            <Switch>\n              <Route path=\"/search/studies\">\n                <HierarchyMultipleOptionFilter\n                  facetName=\"biome\"\n                  header=\"Biome\"\n                />\n                <MultipleOptionFilter\n                  facetName=\"centre_name\"\n                  header=\"Centre Name\"\n                  includeTextFilter\n                />\n              </Route>\n              <Route path=\"/search/samples\">\n                <TemperatureFilter />\n                <DepthFilter />\n                <HierarchyMultipleOptionFilter\n                  facetName=\"biome\"\n                  header=\"Biome\"\n                />\n                <MultipleOptionFilter\n                  facetName=\"experiment_type\"\n                  header=\"Experiment type\"\n                />\n                <MultipleOptionFilter\n                  facetName=\"sequencing_method\"\n                  header=\"Sequencing method\"\n                />\n                <MultipleOptionFilter\n                  facetName=\"location_name\"\n                  header=\"Location name\"\n                  includeTextFilter\n                />\n                <MultipleOptionFilter\n                  facetName=\"disease_status\"\n                  header=\"Disease status\"\n                />\n                <MultipleOptionFilter\n                  facetName=\"phenotype\"\n                  header=\"Phenotype\"\n                />\n              </Route>\n              <Route path=\"/search/analyses\">\n                <TemperatureFilter />\n                <DepthFilter />\n                <HierarchyMultipleOptionFilter\n                  facetName=\"organism\"\n                  header=\"Organism\"\n                />\n                <HierarchyMultipleOptionFilter\n                  facetName=\"biome\"\n                  header=\"Biome\"\n                />\n                <MultipleOptionFilter\n                  facetName=\"pipeline_version\"\n                  header=\"Pipeline version\"\n                />\n                <MultipleOptionFilter\n                  facetName=\"experiment_type\"\n                  header=\"Experiment type\"\n                />\n                <MultipleOptionFilter\n                  facetName=\"GO\"\n                  header=\"GO\"\n                  includeTextFilter\n                />\n                <MultipleOptionFilter\n                  facetName=\"INTERPRO\"\n                  header=\"InterPro\"\n                  includeTextFilter\n                />\n              </Route>\n            </Switch>\n          </div>\n          <SearchTable />\n        </section>\n      </SearchQueryContext.Provider>\n    </section>\n  );\n};\n\nexport default TextSearchPage;\n"],"sourceRoot":""}