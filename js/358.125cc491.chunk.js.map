{"version":3,"file":"js/358.125cc491.chunk.js","mappings":"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","sources":["webpack://mgportalv2/./src/components/Assembly/Assemblies/index.tsx","webpack://mgportalv2/./src/components/Nav/RouteForHash/index.tsx","webpack://mgportalv2/./src/components/Study/Studies/index.tsx","webpack://mgportalv2/./src/components/UI/Box/index.tsx","webpack://mgportalv2/./src/components/UI/KeyValueList/index.tsx","webpack://mgportalv2/./src/components/UI/SamplesMap/index.tsx","webpack://mgportalv2/./src/components/UI/SamplesMap/render.tsx","webpack://mgportalv2/./src/components/UI/Tabs/index.tsx","webpack://mgportalv2/./src/components/UI/TextTruncated/index.tsx","webpack://mgportalv2/./src/components/UI/Tooltip/index.tsx","webpack://mgportalv2/./src/hooks/useURLAccession/index.tsx","webpack://mgportalv2/./src/components/UI/SamplesMap/BySamplesArray/index.tsx","webpack://mgportalv2/./src/components/Sample/Overview/index.tsx","webpack://mgportalv2/./src/components/Sample/Runs/index.tsx","webpack://mgportalv2/./src/components/Sample/AnnotationMetadata/index.tsx","webpack://mgportalv2/./src/components/Sample/ClearingHouseMetadata/index.tsx","webpack://mgportalv2/./src/pages/Sample/index.tsx","webpack://mgportalv2/./src/utils/urls.ts"],"sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport Loading from 'components/UI/Loading';\nimport FetchError from 'components/UI/FetchError';\nimport EMGTable from 'components/UI/EMGTable';\nimport useMGnifyData from 'hooks/data/useMGnifyData';\nimport { MGnifyDatum, MGnifyResponseList } from 'hooks/data/useData';\nimport useURLAccession from 'hooks/useURLAccession';\nimport InfoBanner from 'src/components/UI/InfoBanner';\nimport useQueryParamState from 'hooks/queryParamState/useQueryParamState';\n\nconst initialPageSize = 10;\n\nconst getURLByEndpoint = (endpoint: string, accession: string): string => {\n  if (endpoint === 'runs') return `runs/${accession}/assemblies`;\n  return 'assemblies';\n};\ntype AssociatedAssembliesProps = {\n  rootEndpoint: string;\n};\n\nconst AssociatedAssemblies: React.FC<AssociatedAssembliesProps> = ({\n  rootEndpoint,\n}) => {\n  const accession = useURLAccession();\n  const [assemblyPage] = useQueryParamState('assembly-page', 1, Number);\n  const [assemblyFilter] = useQueryParamState('assembly-search', '');\n  const [assemblyPageSize] = useQueryParamState(\n    'assembly-page_size',\n    initialPageSize,\n    Number\n  );\n  const [assemblyOrder] = useQueryParamState('assembly-order', '');\n  const url = getURLByEndpoint(rootEndpoint, accession);\n  const { data, loading, error, isStale, downloadURL } = useMGnifyData(url, {\n    sample_accession: rootEndpoint === 'samples' ? accession : undefined,\n    page: assemblyPage as number,\n    ordering: assemblyOrder as string,\n    page_size: assemblyPageSize as number,\n    search: assemblyFilter as string,\n  });\n  if (loading && !isStale) return <Loading size=\"small\" />;\n  if (error || !data) return <FetchError error={error} />;\n  if (!(data.data as MGnifyDatum[]).length && !assemblyFilter)\n    return <InfoBanner type=\"info\" title=\"No associated assemblies found.\" />;\n\n  const columns = [\n    {\n      Header: 'Assembly ID',\n      id: 'accession',\n      accessor: 'id',\n      Cell: ({ cell }) => (\n        <Link to={`/assemblies/${cell.value}`}>{cell.value}</Link>\n      ),\n    },\n    {\n      Header: 'Experiment type',\n      accessor: 'attributes.experiment-type',\n      disableSortBy: true,\n    },\n    {\n      Header: 'WGS ID',\n      accessor: 'attributes.wgs-accession',\n      disableSortBy: true,\n    },\n    {\n      Header: 'Legacy ID',\n      accessor: 'attributes.legacy-accession',\n      disableSortBy: true,\n    },\n    {\n      Header: 'Pipeline versions',\n      accessor: 'relationships.pipelines.data',\n      disableSortBy: true,\n      Cell: ({ cell }) =>\n        (cell.value as { id: string }[]).map(({ id }) => id).join(', '),\n    },\n  ];\n  const showPagination = (data.meta?.pagination?.count || 1) > initialPageSize;\n\n  return (\n    <EMGTable\n      cols={columns}\n      data={data as MGnifyResponseList}\n      initialPage={(assemblyPage as number) - 1}\n      initialPageSize={initialPageSize}\n      className=\"mg-assembly-table\"\n      loading={loading}\n      isStale={isStale}\n      sortable\n      showTextFilter\n      namespace=\"assembly-\"\n      showPagination={showPagination}\n      downloadURL={downloadURL}\n    />\n  );\n};\n\nexport default AssociatedAssemblies;\n","import React, { useEffect } from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\n\ntype PropsType = {\n  hash: string;\n  isDefault?: boolean;\n};\nconst RouteForHash: React.FC<PropsType> = ({\n  hash,\n  isDefault = false,\n  children,\n}) => {\n  const location = useLocation();\n  const navigate = useNavigate();\n  useEffect(() => {\n    if (location.hash === '' && hash !== '' && isDefault) {\n      navigate(hash, { replace: true });\n    }\n  });\n\n  if (location.hash === hash) {\n    // eslint-disable-next-line react/jsx-no-useless-fragment\n    return <div id={`tab-${hash.slice(1) || 'default'}`}>{children}</div>;\n  }\n  return null;\n};\n\nexport default RouteForHash;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport Loading from 'components/UI/Loading';\nimport FetchError from 'components/UI/FetchError';\nimport EMGTable from 'components/UI/EMGTable';\nimport TruncatedText from 'components/UI/TextTruncated';\nimport useMGnifyData from 'hooks/data/useMGnifyData';\nimport { MGnifyDatum, MGnifyResponseList } from 'hooks/data/useData';\nimport useURLAccession from 'hooks/useURLAccession';\nimport { getBiomeIcon } from 'utils/biomes';\nimport useQueryParamState from 'hooks/queryParamState/useQueryParamState';\n\nconst initialPageSize = 10;\n\ntype AssociatedStudiesProps = {\n  rootEndpoint: string;\n};\nconst AssociatedStudies: React.FC<AssociatedStudiesProps> = ({\n  rootEndpoint,\n}) => {\n  const accession = useURLAccession();\n\n  const [studiesPage] = useQueryParamState('studies-page', 1, Number);\n  const [studiesPageSize] = useQueryParamState(\n    'studies-page_size',\n    initialPageSize,\n    Number\n  );\n  const [studiesOrder] = useQueryParamState('studies-order', '');\n  const { data, loading, error, isStale, downloadURL } = useMGnifyData(\n    `${rootEndpoint}/${accession}/studies`,\n    {\n      page: studiesPage as number,\n      ordering: studiesOrder as string,\n      page_size: studiesPageSize as number,\n    }\n  );\n  if (loading && !isStale) return <Loading size=\"small\" />;\n  if (error || !data) return <FetchError error={error} />;\n  if (!(data.data as MGnifyDatum[]).length) return null;\n\n  const columns = [\n    {\n      id: 'biome_id',\n      Header: 'Biome',\n      accessor: (study) => study.relationships.biomes.data?.[0]?.id,\n      Cell: ({ cell }) => (\n        <span\n          className={`biome_icon icon_xs ${getBiomeIcon(cell.value)}`}\n          style={{ float: 'initial' }}\n        />\n      ),\n      className: 'mg-biome',\n    },\n    {\n      id: 'study',\n      Header: 'Study accession',\n      accessor: 'id',\n      Cell: ({ cell }) => (\n        <Link to={`/studies/${cell.value}`}>{cell.value}</Link>\n      ),\n    },\n    {\n      Header: 'Name',\n      accessor: 'attributes.study-name',\n    },\n    {\n      Header: 'Abstract',\n      accessor: 'attributes.study-abstract',\n      Cell: ({ cell }) => <TruncatedText text={(cell.value as string) || ''} />,\n    },\n    {\n      Header: 'Samples Count',\n      accessor: 'attributes.samples-count',\n    },\n    {\n      id: 'last_update',\n      Header: 'Last Updated',\n      accessor: 'attributes.last-update',\n      Cell: ({ cell }) => new Date(cell.value).toLocaleDateString(),\n    },\n  ];\n  const showPagination = (data.meta?.pagination?.count || 1) > initialPageSize;\n\n  return (\n    <EMGTable\n      cols={columns}\n      data={data as MGnifyResponseList}\n      initialPage={(studiesPage as number) - 1}\n      initialPageSize={initialPageSize}\n      className=\"mg-studies-table\"\n      loading={loading}\n      isStale={isStale}\n      namespace=\"studies-\"\n      showPagination={showPagination}\n      downloadURL={downloadURL}\n      dataCy=\"associated-studies\"\n    />\n  );\n};\n\nexport default AssociatedStudies;\n","import React from 'react';\n\nconst Box: React.FC<{ label: string; theme?: string; dataCy?: string }> = ({\n  label,\n  theme = 'primary',\n  children,\n  dataCy,\n}) => (\n  <div className=\"vf-grid\" data-cy={dataCy}>\n    <div className={`vf-box vf-box--easy vf-box-theme--${theme}`}>\n      <h5 className=\"vf-box__heading\">{label}</h5>\n      <div className=\"vf-box__text\">{children}</div>\n    </div>\n  </div>\n);\n\nexport default Box;\n","import React from 'react';\n\ntype KeyValueProps = {\n  list: { key: string; value: string | React.ElementType }[];\n  dataCy?: string;\n};\n\nconst KeyValueList: React.FC<KeyValueProps> = ({ list, dataCy }) => (\n  <div\n    className=\"vf-grid vf-grid__col-2\"\n    style={{\n      gridTemplateColumns: '1fr 2fr',\n      rowGap: '0.5rem',\n    }}\n    data-cy={dataCy}\n  >\n    {list.map(({ key, value: Value }) => (\n      <React.Fragment key={key}>\n        <div style={{ textAlign: 'right' }} data-cy=\"kvl-key\">\n          {key}:\n        </div>\n        <div data-cy=\"kvl-value\">\n          {typeof Value === 'string' ? Value : <Value />}\n        </div>\n      </React.Fragment>\n    ))}\n  </div>\n);\n\nexport default KeyValueList;\n","import React, { useEffect, useRef, useState } from 'react';\nimport ReactDOMServer from 'react-dom/server';\n\nimport MarkerClusterer from '@googlemaps/markerclustererplus';\n\nimport { MGnifyDatum } from 'hooks/data/useData';\n\nimport './style.css';\n\n// TODO: make the link play nicer with react-router\nconst MarkerPopup: React.FC<{ sample: MGnifyDatum }> = ({ sample }) => (\n  <div className=\"vf-box vf-box--easy\">\n    <h3 className=\"vf-box__heading\">\n      <a href={`../samples/${sample.id}`}>{sample.id}</a>\n      {/* <Link to=\"/search/studies\">{sample.id}</Link> */}\n    </h3>\n    <p className=\"vf-box__text\">{sample.attributes['sample-desc']}</p>\n  </div>\n);\nconst ClusterMarkerPopup: React.FC<{ accessions: string[] }> = ({\n  accessions,\n}) => (\n  <div className=\"vf-box vf-box--easy\">\n    <h3 className=\"vf-box__heading\">Samples on this geographical location</h3>\n    <ul className=\"vf-list\">\n      {accessions.map((accession) => (\n        <li ref={accession}>\n          <a href={`../samples/${accession}`}>{accession}</a>\n        </li>\n      ))}\n    </ul>\n  </div>\n);\n\ntype MapProps = {\n  samples: Array<MGnifyDatum>;\n};\n\nconst SamplesMap: React.FC<MapProps> = ({ samples }) => {\n  const ref = useRef();\n  const [theMap, setTheMap] = useState(null);\n  const markerCluster = useRef<MarkerClusterer>(null);\n  const sampleInfoWindow = useRef(new google.maps.InfoWindow());\n  const clusterInfoWindow = useRef(new google.maps.InfoWindow());\n  const newBoundary = useRef(new google.maps.LatLngBounds());\n\n  const markers = useRef({});\n\n  useEffect(() => {\n    if (theMap === null) {\n      const tmpMap = new google.maps.Map(ref.current, {\n        maxZoom: 10,\n        minZoom: 2,\n      });\n      setTheMap(tmpMap);\n    }\n  }, [theMap]);\n  useEffect(() => {\n    if (theMap && samples) {\n      if (markerCluster.current) {\n        markerCluster.current.clearMarkers();\n      }\n\n      samples\n        .filter(({ id }) => !(id in markers.current))\n        .forEach((sample) => {\n          const position = {\n            lat: sample.attributes.latitude as number,\n            lng: sample.attributes.longitude as number,\n          };\n          const marker = new google.maps.Marker({\n            position,\n            title: sample.id,\n          });\n          newBoundary.current.extend(position);\n          marker.addListener('click', () => {\n            sampleInfoWindow.current.setContent(\n              ReactDOMServer.renderToString(<MarkerPopup sample={sample} />)\n            );\n            sampleInfoWindow.current.open(theMap, marker);\n          });\n          markers.current[sample.id] = marker;\n        });\n      markerCluster.current = new MarkerClusterer(\n        theMap,\n        Object.values(markers.current),\n        {\n          imagePath:\n            'https://raw.githubusercontent.com/googlemaps/js-markerclustererplus/master/images/m',\n          maxZoom: 10,\n        }\n      );\n\n      // for clusters in MAX Zoom and with less than 10 elements show a list\n      google.maps.event.addListener(\n        markerCluster.current,\n        'click',\n        // eslint-disable-next-line func-names\n        function (cluster) {\n          if (\n            // eslint-disable-next-line no-underscore-dangle, react/no-this-in-sfc\n            this.prevZoom_ + 1 <= this.getMaxZoom() ||\n            cluster.getSize() >= 10\n          ) {\n            return;\n          }\n          clusterInfoWindow.current.setPosition(cluster.getCenter());\n\n          clusterInfoWindow.current.setContent(\n            ReactDOMServer.renderToString(\n              <ClusterMarkerPopup\n                accessions={cluster.getMarkers().map((m) => m.getTitle())}\n              />\n            )\n          );\n\n          clusterInfoWindow.current.open(theMap);\n        }\n      );\n\n      theMap.fitBounds(newBoundary.current);\n    }\n  }, [theMap, samples]);\n\n  return <div ref={ref} id=\"map\" style={{ height: '100%' }} />;\n};\n\nexport default SamplesMap;\n","import React, { ReactElement } from 'react';\nimport { Status } from '@googlemaps/react-wrapper';\nimport { ErrorTypes } from 'hooks/data/useData';\n\nimport Loading from 'components/UI/Loading';\nimport FetchError from 'components/UI/FetchError';\n\nconst render = (status: Status): ReactElement => {\n  if (status === Status.LOADING) return <Loading />;\n  if (status === Status.FAILURE)\n    return (\n      <FetchError\n        error={{\n          status: 200,\n          type: ErrorTypes.OtherError,\n          error: status,\n        }}\n      />\n    );\n  return null;\n};\n\nexport default render;\n","import React, { useMemo } from 'react';\nimport { Link, useLocation } from 'react-router-dom';\n\nexport const Tab: React.FC = () => null;\n\ntype TabsProps = {\n  tabs: Array<{\n    label: string | React.ElementType;\n    to: string;\n  }>;\n  preservedQueryParameters?: string[];\n};\nconst Tabs: React.FC<TabsProps> = ({ tabs, preservedQueryParameters }) => {\n  const location = useLocation();\n  const queryParamString = useMemo(() => {\n    if (!preservedQueryParameters) return '';\n    const preserved = new URLSearchParams();\n    const existing = new URLSearchParams(location.search);\n    let anyPreserved = false;\n    preservedQueryParameters.forEach((queryParam) => {\n      if (existing.has(queryParam))\n        preserved.append(queryParam, existing.get(queryParam));\n      anyPreserved = true;\n    });\n    return anyPreserved ? `?${preserved.toString()}` : '';\n  }, [preservedQueryParameters, location.search]);\n  return (\n    <div className=\"vf-tabs mg-search-tabs\">\n      <ul className=\"vf-tabs__list\">\n        {tabs.map(({ label: Label, to }) => (\n          <li className=\"vf-tabs__item\" key={to}>\n            <Link\n              className={`vf-tabs__link ${\n                to === location.pathname ||\n                (to.startsWith('#') && to === location.hash) ||\n                (to === '#' && location.hash === '')\n                  ? 'is-active'\n                  : ''\n              }`}\n              to={to + queryParamString}\n            >\n              {typeof Label === 'string' ? Label : <Label />}\n            </Link>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default Tabs;\n","import React from 'react';\nimport Tooltip from 'components/UI/Tooltip';\n\nconst TruncatedText: React.FC<{\n  maxLength?: number;\n  text: string;\n  withTooltip?: boolean;\n}> = ({ text, maxLength = 250, withTooltip = false }) => {\n  const isTruncated = text.length >= maxLength;\n  const truncated = (\n    <>\n      {text.substring(0, maxLength)}\n      {isTruncated && '...'}\n    </>\n  );\n  if (withTooltip && isTruncated)\n    return (\n      <Tooltip content={text}>\n        <span>{truncated}</span>\n      </Tooltip>\n    );\n  return truncated;\n};\n\nexport default TruncatedText;\n","import React from 'react';\nimport Tippy from '@tippyjs/react';\n// eslint-disable-next-line import/no-extraneous-dependencies\nimport 'tippy.js/dist/tippy.css';\nimport './style.css';\n\ntype TooltipProps = {\n  content: React.ReactNode;\n  children?: React.ReactNode;\n  interactive?: boolean;\n};\n\nconst Tooltip: React.FC<TooltipProps> = ({\n  content,\n  children,\n  interactive = false,\n}) => (\n  <Tippy content={content} interactive={interactive}>\n    {children as React.ReactElement}\n  </Tippy>\n);\nexport default Tooltip;\n","import { useLocation } from 'react-router-dom';\n\nconst useURLAccession = (): string | undefined => {\n  const location = useLocation();\n  let { pathname } = location;\n  if (pathname.trim().endsWith('/')) pathname = pathname.trim().slice(0, -1);\n  const parts = pathname.split('/');\n  return parts?.[parts.length - 1];\n};\n\nexport default useURLAccession;\n","import React, { useContext } from 'react';\n\nimport { Wrapper } from '@googlemaps/react-wrapper';\n\nimport UserContext from 'pages/Login/UserContext';\nimport SamplesMap from 'components/UI/SamplesMap';\nimport { MGnifyDatum } from 'hooks/data/useData';\nimport render from '../render';\n\nimport '../style.css';\n\ntype SamplesMapProps = {\n  samples: Array<MGnifyDatum>;\n};\nconst SamplesMapBySamplesArray: React.FC<SamplesMapProps> = ({ samples }) => {\n  const { config } = useContext(UserContext);\n\n  const samplesFiltered = samples.filter((sample) => {\n    try {\n      return (\n        Number(sample.attributes.longitude) !== 0.0 &&\n        Number(sample.attributes.latitude) !== 0.0\n      );\n    } catch {\n      return false;\n    }\n  });\n\n  return (\n    <div className=\"mg-map-container\">\n      <div className=\"mg-map-wrapper\">\n        <Wrapper apiKey={config.googleMapsKey} render={render}>\n          <SamplesMap samples={samplesFiltered} />\n        </Wrapper>\n      </div>\n      <div className=\"mg-map-progress\">\n        {samplesFiltered.length === 0 && (\n          <div>⚠️ None of the samples have geolocation co-ordinates.</div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default SamplesMapBySamplesArray;\n","import React from 'react';\n\nimport { MGnifyDatum } from 'hooks/data/useData';\nimport SamplesMap from 'components/UI/SamplesMap/BySamplesArray';\nimport Box from 'components/UI/Box';\nimport ExtLink from 'components/UI/ExtLink';\nimport { getBiomeIcon } from 'utils/biomes';\nimport { ENA_VIEW_URL } from 'utils/urls';\n\ntype SampleOverviewProps = {\n  data: MGnifyDatum;\n};\n\nconst SampleOverview: React.FC<SampleOverviewProps> = ({ data }) => {\n  const lineage = data.relationships.biome.data.id;\n  return (\n    <section>\n      <div className=\"vf-grid\">\n        <div>\n          <h4>\n            Last updated:{' '}\n            {new Date(\n              data?.attributes?.['last-update'] as string\n            ).toDateString()}\n          </h4>\n          <Box label=\"Description\" dataCy=\"sample-description\">\n            {data.attributes['sample-desc']}\n          </Box>\n          <Box label=\"External links\">\n            <ul data-cy=\"sample-external-links\">\n              <li>\n                <ExtLink href={ENA_VIEW_URL + data.attributes.accession}>\n                  ENA website ({data.attributes.accession})\n                </ExtLink>\n              </li>\n              <li>\n                <ExtLink\n                  href={`https://www.ebi.ac.uk/biosamples/samples/${data.attributes.biosample}`}\n                >\n                  EBI biosample ({data.attributes.biosample})\n                </ExtLink>\n              </li>\n            </ul>\n          </Box>\n          <Box label=\"Classification\">\n            <span\n              className={`biome_icon icon_sm ${getBiomeIcon(lineage)}`}\n              style={{ float: 'initial' }}\n            />\n            {lineage}\n          </Box>\n        </div>\n        <SamplesMap samples={[data]} />\n      </div>\n    </section>\n  );\n};\n\nexport default SampleOverview;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport Loading from 'components/UI/Loading';\nimport FetchError from 'components/UI/FetchError';\nimport EMGTable from 'components/UI/EMGTable';\nimport useMGnifyData from 'hooks/data/useMGnifyData';\nimport { MGnifyResponseList } from 'hooks/data/useData';\nimport useURLAccession from 'hooks/useURLAccession';\nimport useQueryParamState from 'hooks/queryParamState/useQueryParamState';\n\nconst initialPageSize = 10;\n\nconst AssociatedRuns: React.FC = () => {\n  const accession = useURLAccession();\n  const [runsPage] = useQueryParamState('runs-page', 1, Number);\n  const [runsPageSize] = useQueryParamState(\n    'runs-page_size',\n    initialPageSize,\n    Number\n  );\n  const [runsOrder] = useQueryParamState('runs-order', '');\n  const [runsFilter] = useQueryParamState('runs-search', '');\n  const { data, loading, error, isStale, downloadURL } = useMGnifyData(\n    `samples/${accession}/runs`,\n    {\n      page: runsPage as number,\n      ordering: runsOrder as string,\n      page_size: runsPageSize as number,\n      search: runsFilter as string,\n    }\n  );\n  if (loading && !isStale) return <Loading size=\"small\" />;\n  if (error || !data) return <FetchError error={error} />;\n\n  const columns = [\n    {\n      id: 'accession',\n      Header: 'Run ID',\n      accessor: 'id',\n      Cell: ({ cell }) => <Link to={`/runs/${cell.value}`}>{cell.value}</Link>,\n    },\n    {\n      Header: 'Experiment type',\n      accessor: 'attributes.experiment-type',\n      disableSortBy: true,\n    },\n    {\n      Header: 'Instrument model',\n      accessor: 'attributes.instrument-model',\n      disableSortBy: true,\n    },\n    {\n      Header: 'Instrument platform',\n      accessor: 'attributes.instrument-platform',\n      disableSortBy: true,\n    },\n    {\n      Header: 'Pipeline versions',\n      accessor: 'relationships.pipelines.data',\n      disableSortBy: true,\n      Cell: ({ cell }) =>\n        (cell.value as { id: string }[]).map(({ id }) => id).join(', '),\n    },\n  ];\n\n  return (\n    <EMGTable\n      cols={columns}\n      data={data as MGnifyResponseList}\n      initialPage={(runsPage as number) - 1}\n      initialPageSize={initialPageSize}\n      className=\"mg-runs-table\"\n      loading={loading}\n      isStale={isStale}\n      sortable\n      showTextFilter\n      namespace=\"runs-\"\n      downloadURL={downloadURL}\n    />\n  );\n};\n\nexport default AssociatedRuns;\n","import React from 'react';\nimport FetchError from 'components/UI/FetchError';\nimport Loading from 'components/UI/Loading';\nimport useMGnifyData from 'hooks/data/useMGnifyData';\nimport { pickBy } from 'lodash-es';\nimport { Link } from 'react-router-dom';\nimport ExtLink from 'components/UI/ExtLink';\n\ntype ExistenceData = {\n  query_possible: boolean;\n  study_has_annotations: {\n    [study: string]: boolean;\n  };\n};\n\nconst AnnotationMetadata: React.FC<{ sampleAccession: string }> = ({\n  sampleAccession,\n}) => {\n  const { data, loading, error } = useMGnifyData(\n    `samples/${sampleAccession}/studies_publications_annotations_existence`\n  );\n  if (loading) return <Loading size=\"large\" />;\n  if (error) return <FetchError error={error} />;\n  const existenceData = data.data as unknown as ExistenceData;\n  const studiesWithAnnotations = Object.keys(\n    pickBy(existenceData.study_has_annotations)\n  );\n  const anyMetadata = studiesWithAnnotations.length > 0;\n\n  if (!existenceData.query_possible)\n    return (\n      <div\n        className=\"vf-box vf-box-theme--primary vf-box--easy\"\n        style={{\n          backgroundColor: 'lemonchiffon',\n        }}\n      >\n        <h6 className=\"vf-box__heading\">\n          <span className=\"icon icon-common icon-exclamation-triangle\" />\n          Couldn’t check all studies for metadata\n        </h6>\n        <p className=\"vf-box__text\">\n          Additional metadata for this sample may be available via annotations\n          on the publications linked to by the associated studies in the table\n          below. Unfortunately these couldn’t be fetched at this time &ndash;\n          please view each study to explore more.\n        </p>\n      </div>\n    );\n\n  if (anyMetadata)\n    return (\n      <div className=\"vf-box vf-box-theme--primary vf-box--easy\">\n        <h6 className=\"vf-box__heading\">\n          Additional metadata from Publications\n        </h6>\n        <p className=\"vf-box__text\">\n          Additional metadata that may relate to this sample is available via\n          publications in the following associated{' '}\n          {studiesWithAnnotations.length > 1 ? 'studies' : 'study'}:{' '}\n          {studiesWithAnnotations.map((study) => (\n            <React.Fragment key={study}>\n              <Link to={`/studies/${study}`}>{study}</Link>\n              &nbsp;\n            </React.Fragment>\n          ))}\n        </p>\n        <p className=\"vf-box__text\">\n          These additional metadata are extracted by{' '}\n          <ExtLink href=\"https://europepmc.org\">Europe PMC</ExtLink> using\n          text-mining on the publications. Browse the studies to explore\n          further.\n        </p>\n      </div>\n    );\n  return null;\n};\n\nexport default AnnotationMetadata;\n","import React from 'react';\nimport FetchError from 'components/UI/FetchError';\nimport Loading from 'components/UI/Loading';\nimport useMGnifyData from 'hooks/data/useMGnifyData';\nimport ExtLink from 'components/UI/ExtLink';\nimport KeyValueList from 'components/UI/KeyValueList';\nimport Tooltip from 'components/UI/Tooltip';\n\ntype Curation = {\n  attributePost: string;\n  valuePost: string;\n  assertionMethod: string;\n  updatedTimestamp: string;\n  assertionEvidences: [\n    {\n      identifier: string;\n      label: string;\n    }\n  ];\n};\n\nconst ClearingHouseMetadata: React.FC<{ sampleAccession: string }> = ({\n  sampleAccession,\n}) => {\n  const { data, loading, error } = useMGnifyData(\n    `samples/${sampleAccession}/contextual_data_clearing_house_metadata`\n  );\n  if (loading) return <Loading size=\"large\" />;\n  if (error) return <FetchError error={error} />;\n  const curationsData = data.data as unknown as [Curation];\n\n  const anyMetadata = curationsData.length > 0;\n\n  if (anyMetadata)\n    return (\n      <div\n        className=\"vf-box vf-box-theme--primary vf-box--easy\"\n        id=\"cdch-sample-metadata\"\n      >\n        <h6 className=\"vf-box__heading\">\n          Additional metadata from Elixir’s Contextual Data Clearing House\n        </h6>\n        <p className=\"vf-box__text\">\n          Additional metadata for this sample has been added to the{' '}\n          <ExtLink href=\"https://elixir-europe.org/internal-projects/commissioned-services/establishment-data-clearinghouse\">\n            Contextual Data Clearing House.\n          </ExtLink>\n        </p>\n        <div>\n          <details>\n            <summary>\n              <b>Curations for sample {sampleAccession}</b>\n            </summary>\n            <div className=\"vf-box__text\">\n              <KeyValueList\n                list={curationsData.map((curation: Curation) => {\n                  const evidences = curation.assertionEvidences.map(\n                    (evidence) => (\n                      <ExtLink\n                        className=\"link-in-tooltip\"\n                        href={`https://evidenceontology.org/term/${evidence.identifier.replace(\n                          '_',\n                          ':'\n                        )}/`}\n                      >\n                        {evidence.label}\n                      </ExtLink>\n                    )\n                  );\n                  return {\n                    key: curation.attributePost,\n                    value: () => (\n                      <div>\n                        <span className=\"vf-text-body\">\n                          {curation.valuePost}\n                        </span>{' '}\n                        <Tooltip\n                          content={\n                            <>\n                              Updated{' '}\n                              {new Date(\n                                curation.updatedTimestamp\n                              ).toLocaleDateString()}\n                              .\n                              <br />\n                              Evidence: {evidences}.\n                            </>\n                          }\n                          interactive\n                        >\n                          <span className=\"icon icon-common icon-info tooltip-icon\" />\n                        </Tooltip>\n                      </div>\n                    ),\n                  };\n                })}\n              />\n            </div>\n          </details>\n        </div>\n      </div>\n    );\n  return null;\n};\n\nexport default ClearingHouseMetadata;\n","import React from 'react';\n\nimport useMGnifyData from 'hooks/data/useMGnifyData';\nimport { MGnifyResponseObj } from 'hooks/data/useData';\nimport useURLAccession from 'hooks/useURLAccession';\nimport Loading from 'components/UI/Loading';\nimport FetchError from 'components/UI/FetchError';\nimport Tabs from 'components/UI/Tabs';\nimport Overview from 'components/Sample/Overview';\nimport AssociatedStudies from 'components/Study/Studies';\nimport AssociatedRuns from 'components/Sample/Runs';\nimport AssociatedAssemblies from 'components/Assembly/Assemblies';\nimport RouteForHash from 'components/Nav/RouteForHash';\nimport KeyValueList from 'components/UI/KeyValueList';\nimport AnnotationMetadata from 'components/Sample/AnnotationMetadata';\nimport ClearingHouseMetadata from 'components/Sample/ClearingHouseMetadata';\n\nconst tabs = [\n  { label: 'Sample metadata', to: '#' },\n  { label: 'Associated studies', to: '#studies' },\n  { label: 'Analysed associated runs', to: '#runs' },\n  { label: 'Analysed associated assemblies', to: '#assemblies' },\n];\n\nconst SamplePage: React.FC = () => {\n  const accession = useURLAccession();\n  const { data, loading, error } = useMGnifyData(`samples/${accession}`);\n  if (loading) return <Loading size=\"large\" />;\n  if (error) return <FetchError error={error} />;\n  if (!data) return <Loading />;\n  const { data: sampleData } = data as MGnifyResponseObj;\n  return (\n    <section className=\"vf-content\">\n      <h2>Sample overview ({accession})</h2>\n      <h3>Sample {sampleData.attributes['sample-name']}</h3>\n      <section className=\"vf-grid\">\n        <div className=\"vf-stack vf-stack--200\">\n          <Overview data={sampleData} />\n          <Tabs tabs={tabs} />\n          <section className=\"vf-grid\">\n            <div className=\"vf-stack vf-stack--200\">\n              <RouteForHash hash=\"\" isDefault>\n                <KeyValueList\n                  dataCy=\"sample-metadata\"\n                  list={\n                    (sampleData?.attributes?.['sample-metadata'] as {\n                      key: string;\n                      value: string;\n                    }[]) || []\n                  }\n                />\n                {!(sampleData?.attributes?.['sample-metadata'] as [])\n                  .length && (\n                  <div className=\"vf-box\">\n                    <h3 className=\"vf-box__heading\">\n                      <span className=\"icon icon-common icon-info\" /> No\n                      metadata to be displayed.\n                    </h3>\n                  </div>\n                )}\n                <ClearingHouseMetadata sampleAccession={accession} />\n                <AnnotationMetadata sampleAccession={accession} />\n              </RouteForHash>\n              <RouteForHash hash=\"#studies\">\n                <AssociatedStudies rootEndpoint=\"samples\" />\n              </RouteForHash>\n              <RouteForHash hash=\"#runs\">\n                <AssociatedRuns />\n              </RouteForHash>\n              <RouteForHash hash=\"#assemblies\">\n                <AssociatedAssemblies rootEndpoint=\"samples\" />\n              </RouteForHash>\n            </div>\n          </section>\n        </div>\n      </section>\n    </section>\n  );\n};\n\nexport default SamplePage;\n","export const ENA_VIEW_URL = 'https://www.ebi.ac.uk/ena/browser/view/';\nexport const IMG_URL =\n  ' https://img.jgi.doe.gov/cgi-bin/m/main.cgi?section=TaxonDetail&page=taxonDetail&taxon_oid=';\nexport const NCBI_ASSEMBLY_URL = 'https://www.ncbi.nlm.nih.gov/assembly/';\nexport const NCBI_SAMPLE_URL = 'https://www.ncbi.nlm.nih.gov/biosample/?term=';\nexport const NCBI_PROJECT_URL = 'https://www.ncbi.nlm.nih.gov/bioproject/';\nexport const PATRIC_URL = 'https://www.patricbrc.org/view/Genome/';\n"],"names":["rootEndpoint","accession","assemblyPage","Number","assemblyFilter","assemblyPageSize","assemblyOrder","url","endpoint","getURLByEndpoint","data","loading","error","isStale","downloadURL","sample_accession","undefined","page","ordering","page_size","search","size","length","type","title","columns","Header","id","accessor","Cell","cell","to","value","disableSortBy","map","join","showPagination","meta","pagination","count","cols","initialPage","initialPageSize","className","sortable","showTextFilter","namespace","hash","isDefault","children","location","navigate","useEffect","replace","slice","studiesPage","studiesPageSize","studiesOrder","study","relationships","biomes","style","float","text","Date","toLocaleDateString","dataCy","label","theme","list","gridTemplateColumns","rowGap","key","Value","textAlign","MarkerPopup","sample","href","attributes","ClusterMarkerPopup","accessions","ref","samples","useRef","theMap","setTheMap","useState","markerCluster","sampleInfoWindow","google","maps","InfoWindow","clusterInfoWindow","newBoundary","LatLngBounds","markers","tmpMap","Map","current","maxZoom","minZoom","clearMarkers","filter","forEach","position","lat","latitude","lng","longitude","marker","Marker","extend","addListener","setContent","open","Object","values","imagePath","event","cluster","this","prevZoom_","getMaxZoom","getSize","setPosition","getCenter","getMarkers","m","getTitle","fitBounds","height","status","Status","tabs","preservedQueryParameters","queryParamString","useMemo","preserved","URLSearchParams","existing","anyPreserved","queryParam","has","append","get","toString","Label","pathname","startsWith","maxLength","withTooltip","isTruncated","truncated","substring","content","interactive","trim","endsWith","parts","split","config","useContext","UserContext","samplesFiltered","Wrapper","apiKey","googleMapsKey","render","SamplesMap","lineage","biome","toDateString","Box","ExtLink","biosample","useURLAccession","runsPage","useQueryParamState","runsPageSize","runsOrder","runsFilter","useMGnifyData","Loading","FetchError","EMGTable","sampleAccession","existenceData","studiesWithAnnotations","keys","pickBy","study_has_annotations","anyMetadata","query_possible","backgroundColor","curationsData","KeyValueList","curation","evidences","assertionEvidences","evidence","identifier","attributePost","valuePost","Tooltip","updatedTimestamp","sampleData","Overview","Tabs","RouteForHash","ENA_VIEW_URL","IMG_URL","NCBI_ASSEMBLY_URL","NCBI_SAMPLE_URL","NCBI_PROJECT_URL","PATRIC_URL"],"sourceRoot":""}