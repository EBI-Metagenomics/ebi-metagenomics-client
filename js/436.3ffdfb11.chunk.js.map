{"version":3,"sources":["webpack://mgportalv2/./src/components/UI/ArrowForLink/index.tsx","webpack://mgportalv2/./src/components/UI/InnerCard/index.tsx","webpack://mgportalv2/./src/components/UI/OutterCard/index.tsx","webpack://mgportalv2/./src/hooks/useMGnifyData/index.tsx","webpack://mgportalv2/./src/components/Home/SearchBy/DataType/index.tsx","webpack://mgportalv2/./src/components/Home/SearchBy/index.tsx","webpack://mgportalv2/./src/components/Home/Request/index.tsx","webpack://mgportalv2/./src/pages/Home/index.tsx"],"names":["className","width","height","xmlns","d","fill","fillRule","title","label","to","href","children","useData","url","data","setData","useState","useEffect","response","fetch","json","fetchData","useEBISearchData","endpoint","parameters","allParemeters","format","start","config","Object","entries","map","key","value","join","DataAnalysesTypeRow","type","query","size","fields","facetcount","facetsdepth","facets","style","textAlign","hitCount","DataTypeRow","fontSize","Request"],"mappings":"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","file":"js/436.3ffdfb11.chunk.js","sourcesContent":["/* eslint-disable max-len */\nimport React from 'react';\n\nconst ArrowForLink: React.FC = () => (\n  <svg\n    aria-hidden=\"true\"\n    className=\"vf-card__heading__icon | vf-icon vf-icon-arrow--inline-end\"\n    width=\"1em\"\n    height=\"1em\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      d=\"M0 12c0 6.627 5.373 12 12 12s12-5.373 12-12S18.627 0 12 0C5.376.008.008 5.376 0 12zm13.707-5.209l4.5 4.5a1 1 0 010 1.414l-4.5 4.5a1 1 0 01-1.414-1.414l2.366-2.367a.25.25 0 00-.177-.424H6a1 1 0 010-2h8.482a.25.25 0 00.177-.427l-2.366-2.368a1 1 0 011.414-1.414z\"\n      fill=\"currentColor\"\n      fillRule=\"nonzero\"\n    />\n  </svg>\n);\n\nexport default ArrowForLink;\n","import React from 'react';\nimport ArrowForLink from 'components/UI/ArrowForLink';\n\ntype InnerCardProps = {\n  title: string;\n  label: string;\n  to: string;\n};\n\nconst InnerCard: React.FC<InnerCardProps> = ({ title, label, to }) => {\n  return (\n    <article className=\"vf-card vf-card--brand vf-card--striped\">\n      <div className=\"vf-card__content | vf-stack vf-stack--400\">\n        <p className=\"vf-card__text\">{label}</p>\n        <h3 className=\"vf-card__heading\">\n          <a className=\"vf-card__link\" href={to}>\n            {title} <ArrowForLink />\n          </a>\n        </h3>\n      </div>\n    </article>\n  );\n};\n\nexport default InnerCard;\n","import React from 'react';\n\nconst OutterCard: React.FC = ({ children }) => {\n  return (\n    <article className=\"vf-card vf-card--brand vf-card--bordered\">\n      <div className=\"vf-card__content | vf-stack vf-stack--400\">\n        {children}\n      </div>\n    </article>\n  );\n};\n\nexport default OutterCard;\n","import { useState, useEffect } from 'react';\nimport config from 'config.json';\n\ntype KeyValue = {\n  [key: string]: string | number;\n};\n\nconst useData: (url: string) => null | KeyValue = (url) => {\n  const [data, setData] = useState(null);\n\n  async function fetchData(): Promise<void> {\n    const response = await fetch(url);\n    const json = await response.json();\n    setData(json);\n  }\n\n  useEffect(() => {\n    fetchData();\n  }, [url]);\n  return data;\n};\n\nexport const useEBISearchData: (\n  endpoint: string,\n  parameters: KeyValue\n) => null | KeyValue = (endpoint, parameters = {}) => {\n  const defaultParameters = {\n    format: 'json',\n    start: 0,\n  };\n  const allParemeters = { ...defaultParameters, ...parameters };\n  const url = `${config.ebisearch}${endpoint}?${Object.entries(allParemeters)\n    .map(([key, value]) => `${key}=${value}`)\n    .join('&')}`;\n  const data = useData(url);\n  return data;\n};\n\nexport default useData;\n","import React from 'react';\nimport { useEBISearchData } from 'hooks/useMGnifyData';\nimport './style.css';\n\nconst DataAnalysesTypeRow: React.FC<{ type: string; label: string }> = ({\n  type,\n  label,\n}) => {\n  const data = useEBISearchData('metagenomics_analyses', {\n    query: 'domain_source:metagenomics_analyses',\n    size: 0,\n    fields: 'id,name,description,biome_name,metagenomics_samples',\n    facetcount: 0,\n    facetsdepth: 5,\n    facets: `experiment_type:${type}`,\n  });\n\n  if (!data) return null;\n  return (\n    <tr className=\"vf-table__row\">\n      <td className=\"vf-table__cell\" style={{ textAlign: 'right' }}>\n        {data?.hitCount || '??'}\n      </td>\n      <td className=\"vf-table__cell\">{label}</td>\n    </tr>\n  );\n};\nconst DataTypeRow: React.FC<{ label: string; endpoint: string }> = ({\n  label,\n  endpoint,\n}) => {\n  const data = useEBISearchData(endpoint, {\n    query: `domain_source:${endpoint}`,\n    size: 0,\n    fields: 'id,name,description,biome_name,metagenomics_samples',\n    facetcount: 0,\n    facetsdepth: 5,\n  });\n\n  if (!data) return null;\n  return (\n    <tr className=\"vf-table__row\">\n      <td className=\"vf-table__cell\" style={{ textAlign: 'right' }}>\n        {data?.hitCount || '??'}\n      </td>\n      <td className=\"vf-table__cell\">{label}</td>\n    </tr>\n  );\n};\n\nconst DataType: React.FC = () => {\n  const analysesTypes = [\n    { type: 'amplicon', label: 'amplicon' },\n    { type: 'assembly', label: 'assemblies' },\n    { type: 'metabarcoding', label: 'metabarcoding' },\n    { type: 'metagenomic', label: 'metagenomes' },\n    { type: 'metatranscriptomic', label: 'metatranscriptomics' },\n  ];\n  const types = [\n    { label: 'studies', endpoint: 'metagenomics_projects' },\n    { label: 'samples', endpoint: 'metagenomics_samples' },\n    { label: 'analyses', endpoint: 'metagenomics_analyses' },\n  ];\n\n  return (\n    <div className=\"vf-grid vf-grid__col-4\" style={{ fontSize: '0.7rem' }}>\n      <div style={{ textAlign: 'right' }}>\n        <span\n          className=\"icon icon-conceptual icon-c3\"\n          style={{ fontSize: '2rem' }}\n          data-icon=\"d\"\n        />\n      </div>\n      <table className=\"vf-table mg-small-table\">\n        <tbody className=\"vf-table__body\">\n          {analysesTypes.map(({ type, label }) => (\n            <DataAnalysesTypeRow type={type} label={label} key={type} />\n          ))}\n        </tbody>\n      </table>\n      <div style={{ textAlign: 'right' }}>\n        <span\n          className=\"icon icon-functional icon-c9\"\n          style={{ fontSize: '2rem' }}\n          data-icon=\"U\"\n        />\n      </div>\n      <table className=\"vf-table mg-small-table\">\n        <tbody className=\"vf-table__body\">\n          {types.map(({ endpoint, label }) => (\n            <DataTypeRow endpoint={endpoint} label={label} key={endpoint} />\n          ))}\n        </tbody>\n      </table>\n    </div>\n  );\n};\n\nexport default DataType;\n","import React from 'react';\nimport InnerCard from 'components/UI/InnerCard';\nimport OutterCard from 'components/UI/OutterCard';\nimport DataType from './DataType';\n\nconst SearchBy: React.FC = () => {\n  return (\n    <OutterCard>\n      <h3 className=\"vf-card__heading\">Search by</h3>\n      <div className=\"vf-grid\">\n        <InnerCard title=\"Text search\" label=\"Name, biome, or keyword\" to=\"/\" />\n        <InnerCard title=\"Sequence search\" label=\"Sequence search\" to=\"/\" />\n      </div>\n      <h3 className=\"vf-card__heading\">Or by data type</h3>\n      <DataType />\n      <h3 className=\"vf-card__heading\">Or by selected biomes</h3>\n    </OutterCard>\n  );\n};\n\nexport default SearchBy;\n","import React from 'react';\nimport InnerCard from 'components/UI/InnerCard';\nimport OutterCard from 'components/UI/OutterCard';\n\nconst SearchBy: React.FC = () => {\n  return (\n    <OutterCard>\n      <h3 className=\"vf-card__heading\">Request analysis of</h3>\n      <div className=\"vf-grid\">\n        <InnerCard title=\"Submit and/or Request\" label=\"Your data\" to=\"/\" />\n        <InnerCard title=\"Request\" label=\"A public dataset\" to=\"/\" />\n      </div>\n    </OutterCard>\n  );\n};\n\nexport default SearchBy;\n","import React from 'react';\nimport SearchBy from 'components/Home/SearchBy';\nimport Request from 'components/Home/Request';\n\nconst HomePage: React.FC = () => {\n  return (\n    <section className=\"vf-content vf-stack--600\">\n      <h2>Getting started</h2>\n      <div className=\"vf-grid\">\n        <SearchBy />\n        <Request />\n      </div>\n    </section>\n  );\n};\n\nexport default HomePage;\n"],"sourceRoot":""}