"use strict";(self.webpackChunkmgportalv2=self.webpackChunkmgportalv2||[]).push([[438],{8914:(e,a,l)=>{l.d(a,{Z:()=>v});var s=l(7294),t=l(9711),i=l(6486),n=l(402),r=l(1699),o=l(6313),d=l(8110),c=l(964),m=l(2119),u=l(5058);const v=({rootEndpoint:e})=>{var a,l,v;const p=(0,c.Z)(),[y]=(0,m.B)({"analyses-page":1,"analyses-page_size":10,"analyses-order":""},{"analyses-page":Number,"analyses-page_size":Number}),{data:g,loading:b,error:E,isStale:f}=(0,d.Z)(`${e}/${p}/analyses`,{include:"sample",page:y["analyses-page"],ordering:y["analyses-order"],page_size:y["analyses-page_size"]});if(b&&!f)return s.createElement(n.Z,{size:"small"});if(E||!g)return s.createElement(r.Z,{error:E});if(!g.data.length)return null;const Z={};null===(a=g.included)||void 0===a||a.filter((({type:e})=>"samples"===e)).forEach((e=>{Z[e.id]={description:e.attributes["sample-desc"],biome:e.relationships.biome.data.id}}));const h=[{id:"biome_id",Header:"Biome",accessor:e=>{var a,l,s,t;return(null===(t=null==Z?void 0:Z[null===(s=null===(l=null===(a=null==e?void 0:e.relationships)||void 0===a?void 0:a.sample)||void 0===l?void 0:l.data)||void 0===s?void 0:s.id])||void 0===t?void 0:t.biome)||""},Cell:({cell:e})=>s.createElement("span",{className:`biome_icon icon_xs ${(0,u.G)(e.value)}`,style:{float:"initial"}})},{id:"sample",Header:"Sample accession",accessor:e=>{var a,l,s;return null===(s=null===(l=null===(a=null==e?void 0:e.relationships)||void 0===a?void 0:a.sample)||void 0===l?void 0:l.data)||void 0===s?void 0:s.id},Cell:({cell:e})=>s.createElement(t.rU,{to:`/samples/${e.value}`},e.value)},{id:"description_id",Header:"Sample description",accessor:e=>{var a,l,s,t;return(null===(t=null==Z?void 0:Z[null===(s=null===(l=null===(a=null==e?void 0:e.relationships)||void 0===a?void 0:a.sample)||void 0===l?void 0:l.data)||void 0===s?void 0:s.id])||void 0===t?void 0:t.description)||""},Cell:({cell:e})=>(0,i.unescape)(e.value)},{id:"assembly_id",Header:" Run / Assembly accession",accessor:e=>{var a,l,s;return(null===(s=null===(l=null===(a=null==e?void 0:e.relationships)||void 0===a?void 0:a.assembly)||void 0===l?void 0:l.data)||void 0===s?void 0:s.id)||""},Cell:({cell:e})=>s.createElement(t.rU,{to:`/assemblies/${e.value}`},e.value)},{id:"pipeline_id",Header:"Pipeline version",accessor:e=>e.attributes["pipeline-version"],Cell:({cell:e})=>s.createElement(t.rU,{to:`/pipelines/${e.value}`},e.value)},{id:"analysis_id",Header:"Analysis accession",accessor:e=>e.id,Cell:({cell:e})=>s.createElement(t.rU,{to:`/analyses/${e.value}`},e.value)}],_=((null===(v=null===(l=g.meta)||void 0===l?void 0:l.pagination)||void 0===v?void 0:v.count)||1)>10;return s.createElement(o.Z,{cols:h,data:g,title:"Analyses",initialPage:y["analyses-page"]-1,initialPageSize:10,className:"mg-anlyses-table",loading:b,isStale:f,namespace:"analyses-",showPagination:_})}},5608:(e,a,l)=>{l.d(a,{Z:()=>m});var s=l(7294),t=l(9711),i=l(402),n=l(1699),r=l(6313),o=l(8110),d=l(964),c=l(2119);const m=({rootEndpoint:e})=>{var a,l;const m=(0,d.Z)(),[u]=(0,c.B)({"assembly-page":1,"assembly-page_size":10,"assembly-order":""},{"assembly-page":Number,"assembly-page_size":Number}),v=((e,a)=>"runs"===e?`runs/${a}/assemblies`:"assemblies")(e,m),{data:p,loading:y,error:g,isStale:b}=(0,o.Z)(v,{sample_accession:"samples"===e?m:void 0,page:u["assembly-page"],ordering:u["assembly-order"],page_size:u["assembly-page_size"]});if(y&&!b)return s.createElement(i.Z,{size:"small"});if(g||!p)return s.createElement(n.Z,{error:g});if(!p.data.length)return null;const E=[{Header:"Assembly ID",accessor:"id",Cell:({cell:e})=>s.createElement(t.rU,{to:`/assemblies/${e.value}`},e.value)},{Header:"Experiment type",accessor:"attributes.experiment-type"},{Header:"WGS ID",accessor:"attributes.wgs-accession"},{Header:"Legacy ID",accessor:"attributes.legacy-accession"},{Header:"Pipeline versions",accessor:"relationships.pipelines.data",Cell:({cell:e})=>e.value.map((({id:e})=>e)).join(", ")}],f=((null===(l=null===(a=p.meta)||void 0===a?void 0:a.pagination)||void 0===l?void 0:l.count)||1)>10;return s.createElement(r.Z,{cols:E,data:p,initialPage:u["assembly-page"]-1,initialPageSize:10,className:"mg-assembly-table",loading:y,isStale:b,namespace:"assembly-",showPagination:f})}},3415:(e,a,l)=>{l.d(a,{Z:()=>t});var s=l(7294);const t=({list:e})=>s.createElement("div",{className:"vf-grid vf-grid__col-2",style:{gridTemplateColumns:"1fr 2fr",rowGap:"0.5rem"}},e.map((({key:e,value:a})=>s.createElement(s.Fragment,{key:e},s.createElement("div",{style:{textAlign:"right"}},e,":"),s.createElement("div",null,"string"==typeof a?a:s.createElement(a,null))))))},4743:(e,a,l)=>{l.r(a),l.d(a,{default:()=>p});var s=l(7294),t=l(8110),i=l(964),n=l(402),r=l(1699),o=l(5478),d=l(3415),c=l(2531),m=l(9711),u=l(5608),v=l(8914);const p=()=>{var e;const a=(0,i.Z)(),{data:l,loading:p,error:y}=(0,t.Z)(`runs/${a}`);if(p)return s.createElement(n.Z,{size:"large"});if(y)return s.createElement(r.Z,{error:y});if(!l)return s.createElement(n.Z,null);const{data:g}=l,b=[{key:"Study",value:()=>s.createElement(m.rU,{to:`/studies/${g.relationships.study.data.id}`},g.relationships.study.data.id)},{key:"Sample",value:()=>s.createElement(m.rU,{to:`/samples/${g.relationships.sample.data.id}`},g.relationships.sample.data.id)},{key:"ENA accession",value:()=>s.createElement(c.Z,{href:`https://www.ebi.ac.uk/ena/browser/view/${g.id}`},g.id)},{key:"Experiment type",value:String(g.attributes["experiment-type"])},{key:"Instrument model",value:String(g.attributes["instrument-model"])},{key:"\tInstrument platform type",value:String(g.attributes["instrument-platform"])}];return s.createElement("section",{className:"vf-content"},s.createElement("h2",null,"Run: ",(null===(e=null==g?void 0:g.attributes)||void 0===e?void 0:e["pub-title"])||""),s.createElement("section",{className:"vf-grid"},s.createElement("div",{className:"vf-stack vf-stack--200"},s.createElement(o.Z,{label:"Publication details"},s.createElement(d.Z,{list:b})),s.createElement(o.Z,{label:"Associated analyses"},s.createElement(v.Z,{rootEndpoint:"runs"})),s.createElement(o.Z,{label:"Associated assemblies"},s.createElement(u.Z,{rootEndpoint:"runs"})))))}}}]);
//# sourceMappingURL=438.ef7a30f7.chunk.js.map