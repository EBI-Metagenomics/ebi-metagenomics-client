"use strict";(self.webpackChunkmgportalv2=self.webpackChunkmgportalv2||[]).push([[458],{9127:(e,t,a)=>{a.r(t),a.d(t,{default:()=>h});var n=a(7294),r=a(8110),s=a(964),l=a(402),o=a(1699),c=a(4821),i=a(2531),m=a(9711),g=a(6313),u=a(2119),p=a(5058);const d=()=>{const e=(0,s.Z)(),[t]=(0,u.B)({"genomes-page":1,"genomes-page_size":10,"genomes-order":""},{"genomes-page":Number,"genomes-page_size":Number}),{data:a,loading:c,error:i,isStale:d}=(0,r.Z)(`genome-catalogues/${e}/genomes`,{page:t["genomes-page"],ordering:t["genomes-order"],page_size:t["genomes-page_size"]});if(c&&!d)return n.createElement(l.Z,{size:"small"});if(i||!a)return n.createElement(o.Z,{error:i});const b=[{id:"biome_id",Header:"Biome",accessor:e=>{var t;return null===(t=e.relationships.biome.data)||void 0===t?void 0:t.id},Cell:({cell:e})=>n.createElement("span",{className:`biome_icon icon_xs ${(0,p.G)(e.value)}`,style:{float:"initial"}}),disableSortBy:!0},{id:"genome",Header:"Accession",accessor:"id",Cell:({cell:e})=>n.createElement(m.rU,{to:`/genomes/${e.value}`},e.value)},{Header:"Length",accessor:"attributes.length"},{Header:"Num. of genomes",accessor:"attributes.num-genomes-total"},{Header:"Completeness",accessor:"attributes.completeness"},{Header:"Contamination",accessor:"attributes.contamination"},{Header:"Type",accessor:"attributes.type",disableSortBy:!0},{Header:"Taxonomy",accessor:"attributes.taxon-lineage",Cell:({cell:e})=>function(e,t){const a=e.split(";");let n=a.pop();for(;-1===n.indexOf("s__");)n=a.pop();for(;n.length<=3;)n=a.pop();return n?function(e,t=""){return e.replace(/;/g,"").replace(/[d|p|c|o|f|g|s]__/g,t)}(n):n}(e.value),disableSortBy:!0},{id:"last_update",Header:"Last Updated",accessor:"attributes.last-update",Cell:({cell:e})=>new Date(e.value).toLocaleDateString()}];return n.createElement(g.Z,{cols:b,data:a,initialPage:t["genomes-page"]-1,initialPageSize:10,className:"mg-anlyses-table",loading:c,isStale:d,namespace:"genomes-",sortable:!0})};var b=a(1274);const f=[{label:"Genome list",to:"#"},{label:"Taxonomy tree",to:"#phylo-tab"},{label:"Protein catalogue",to:"#protein-catalog-tab"},{label:"Search by Gene",to:"#genome-search-tab"},{label:"Search by MAG",to:"#genome-search-mag-tab"}],h=()=>{const e=(0,s.Z)(),{data:t,loading:a,error:m}=(0,r.Z)(`genome-catalogues/${e}`);if(a)return n.createElement(l.Z,{size:"large"});if(m)return n.createElement(o.Z,{error:m});if(!t)return n.createElement(l.Z,null);const{data:g}=t,u=(g.attributes.description||"").split(/(\[[^\]]+\]\([^)]+\))/).map((e=>{if(e.startsWith("[")){const t=e.match(/\[([^\]]+)\]\(([^)]+)\)/);return{type:"link",content:t[1],href:t[2]}}return{type:"text",content:e}}));return n.createElement("section",{className:"vf-content"},n.createElement("h2",null,g.attributes.name),n.createElement("p",null,u.map((e=>"text"===e.type?n.createElement("span",{key:e.content},e.content):n.createElement(i.Z,{key:e.content,href:e.href},e.content)))),n.createElement(c.Z,{tabs:f}),n.createElement("section",{className:"vf-grid"},n.createElement("div",{className:"vf-stack vf-stack--200"},n.createElement(b.Z,{hash:"",isDefault:!0},n.createElement(d,null)))))}}}]);
//# sourceMappingURL=458.e8a1a8c0.chunk.js.map