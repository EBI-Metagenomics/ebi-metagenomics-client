"use strict";(self.webpackChunkmgportalv2=self.webpackChunkmgportalv2||[]).push([[591],{1274:(e,t,a)=>{a.d(t,{Z:()=>l});var n=a(7294),s=a(6974);const l=({hash:e,isDefault:t=!1,children:a})=>{const l=(0,s.TH)(),r=(0,s.s0)();return(0,n.useEffect)((()=>{""===l.hash&&""!==e&&t&&r(e,{replace:!0})})),l.hash===e?n.createElement(n.Fragment,null,a):null}},6313:(e,t,a)=>{a.d(t,{Z:()=>i});var n=a(7294),s=a(9521),l=a(402),r=a(2119);const c=({currentPageIndex:e,pageIndex:t,gotoPage:a})=>e===t?n.createElement("li",{className:"vf-pagination__item vf-pagination__item--is-active"},n.createElement("span",{className:"vf-pagination__label","aria-current":"page"},n.createElement("span",{className:"vf-u-sr-only"},"Page "),e+1)):n.createElement("li",{className:"vf-pagination__item"},n.createElement("button",{type:"button",onClick:()=>a(t),className:"vf-button vf-button--link vf-pagination__link"},n.createElement("span",{className:"vf-u-sr-only"}," page"),t+1)),i=({cols:e,data:t,title:a,initialPage:i=0,initialPageSize:o=25,className:m="",namespace:u="",showPagination:g=!0,sortable:p=!1,loading:b=!1,isStale:v=!1})=>{var d,E,f,h;const[y,N]=(0,r.B)({[`${u}page`]:1,[`${u}order`]:"",[`${u}page_size`]:o},{[`${u}page`]:Number,[`${u}page_size`]:Number}),{getTableProps:k,getTableBodyProps:_,headerGroups:w,rows:P,prepareRow:Z,canPreviousPage:S,canNextPage:$,pageCount:x,gotoPage:z,setPageSize:O,nextPage:C,previousPage:T,state:{pageIndex:j,pageSize:I,sortBy:G}}=(0,s.useTable)({columns:e,data:(null===(d=t)||void 0===d?void 0:d.data)||t,initialState:{pageIndex:i,pageSize:y[`${u}page_size`]},pageCount:(null===(h=null===(f=null===(E=t)||void 0===E?void 0:E.meta)||void 0===f?void 0:f.pagination)||void 0===h?void 0:h.pages)||1,manualPagination:!0,manualSortBy:!0},s.useSortBy,s.usePagination),B=(0,n.useRef)(null),[R,A]=(0,n.useState)(!1);(0,n.useEffect)((()=>{g&&y[`${u}page`]!==j+1&&(N(Object.assign(Object.assign({},y),{[`${u}page`]:j+1})),B.current&&R&&(B.current.scrollIntoView(),A(!1)))}),[g,N,j]),(0,n.useEffect)((()=>{g&&y[`${u}page_size`]!==I&&(N(Object.assign(Object.assign({},y),{[`${u}page_size`]:I})),B.current&&R&&(B.current.scrollIntoView(),A(!1)))}),[g,N,I]),(0,n.useEffect)((()=>{if(p){const e=function(e){if(!e.length)return"";const t=e[0];return`${t.desc?"-":""}${t.id.replace(/attributes./g,"").replace(/-/g,"_")}`}(G);if(e===y[`${u}order`])return;N(Object.assign(Object.assign({},y),{[`${u}order`]:e,[`${u}page`]:1})),B.current&&R&&(B.current.scrollIntoView(),A(!1))}}),[g,N,G,p]);const D=(0,n.useMemo)((()=>function(e,t){const a=t>1?[0,1]:[0],n=t>2?[Math.max(2,e-2)]:[];for(let e=n[0]+1;e<t-2&&n.length<5;e+=1)n.push(e);let s=[];return t>7?s=[t-2,t-1]:t>6&&(s=[t-1]),{startingPages:a,endingPages:s,adjacentPages:n,hasJumpFromStart:!!n.length&&n[0]>a[a.length-1]+1,hasJumpToEnd:!!s.length&&!!n.length&&s[0]>n[n.length-1]+1}}(j,x)),[j,x]),H=e=>(A(!0),z(e)),F=e=>(A(!0),O(+e.target.value));return b&&!v?n.createElement(l.Z,{size:"small"}):n.createElement("section",null,n.createElement("div",{className:"mg-table-overlay-container"},n.createElement("div",{className:b&&v?"mg-table-overlay":void 0}),n.createElement("table",Object.assign({},k,{className:`vf-table--striped ${m}`,ref:B}),a&&n.createElement("caption",{className:"vf-table__caption"},"string"==typeof a?a:n.createElement(a,null)),n.createElement("thead",{className:"vf-table__header"},w.map((e=>n.createElement("tr",Object.assign({},e.getHeaderGroupProps(),{className:"vf-table__row"}),e.headers.map((e=>n.createElement("th",Object.assign({},p&&e.canSort?e.getHeaderProps(e.getSortByToggleProps()):{key:e.id},{className:"vf-table__heading"}),e.render("Header"),p&&e.canSort&&n.createElement(n.Fragment,null,"Â ",n.createElement("span",null,e.isSorted?e.isSortedDesc?n.createElement("i",{className:"icon icon-common icon-sort-down"}):n.createElement("i",{className:"icon icon-common icon-sort-up"}):n.createElement("i",{className:"icon icon-common icon-sort"})))))))))),n.createElement("tbody",Object.assign({},_(),{className:"vf-table__body"}),P.map((e=>(Z(e),n.createElement("tr",Object.assign({},e.getRowProps(),{className:"vf-table__row"}),e.cells.map((e=>n.createElement("td",Object.assign({},e.getCellProps(),{className:"vf-table__cell"}),e.render("Cell"))))))))))),g&&n.createElement("section",{className:"mg-table-footer"},n.createElement("label",{className:"vf-form__label"},"Page Size:",n.createElement("select",{className:"vf-form__select",value:y[`${u}page_size`],onBlur:F,onChange:F},[10,25,50].map((e=>n.createElement("option",{key:e,value:e},"Show ",e))))),n.createElement("nav",{className:"vf-pagination","aria-label":"Pagination"},n.createElement("ul",{className:"vf-pagination__list"},n.createElement("li",{className:"vf-pagination__item vf-pagination__item--previous-page"},n.createElement("button",{disabled:!S,type:"button",onClick:T,className:"vf-button vf-button--link vf-pagination__link"},"Previous",n.createElement("span",{className:"vf-u-sr-only"}," page"))),D.startingPages.map((e=>n.createElement(c,{key:e,currentPageIndex:j,pageIndex:e,gotoPage:H}))),D.hasJumpFromStart&&n.createElement("li",{className:"vf-pagination__item"},n.createElement("span",{className:"vf-pagination__label"},"...")),D.adjacentPages.map((e=>n.createElement(c,{key:e,currentPageIndex:j,pageIndex:e,gotoPage:H}))),D.hasJumpToEnd&&n.createElement("li",{className:"vf-pagination__item"},n.createElement("span",{className:"vf-pagination__label"},"...")),D.endingPages.map((e=>n.createElement(c,{key:e,currentPageIndex:j,pageIndex:e,gotoPage:H}))),n.createElement("li",{className:"vf-pagination__item vf-pagination__item--next-page"},n.createElement("button",{disabled:!$,type:"button",onClick:C,className:"vf-button vf-button--link vf-pagination__link"},"Next",n.createElement("span",{className:"vf-u-sr-only"}," page")))))))}},2531:(e,t,a)=>{a.d(t,{Z:()=>s});var n=a(7294);const s=({href:e,id:t,title:a,children:s})=>n.createElement("a",{href:e,title:a,id:t,target:"_blank",rel:"noreferrer noopener",className:"mg-ext"},n.createElement("span",{className:"icon icon-common icon-external-link-alt"})," ",s)},1699:(e,t,a)=>{a.d(t,{Z:()=>r});var n=a(7294),s=a(7838);const l=()=>{window.location.reload()},r=({error:e})=>e&&e.type!==s.ZB.NullURL?n.createElement("div",{className:"vf-box vf-box-theme--primary vf-box--easy",style:{backgroundColor:"lemonchiffon"}},n.createElement("h3",{className:"vf-box__heading"},n.createElement("span",{className:"icon icon-common icon-exclamation-triangle"})," Error Fetching Data"),n.createElement("p",{className:"vf-box__text"},(null==e?void 0:e.type)===s.ZB.FetchError&&`There were problems with the request. [${e.error}]`,(null==e?void 0:e.type)===s.ZB.NotOK&&`The response from the server was not OK [Status: ${e.status}].`,(null==e?void 0:e.type)===s.ZB.JSONError&&`The recovered resource didn't follow the expected format [${e.error}].`),n.createElement("div",{className:"mg-right"},n.createElement("button",{type:"button",className:"vf-button vf-button--tertiary vf-button--sm ",onClick:l},"Refresh"))):null},3415:(e,t,a)=>{a.d(t,{Z:()=>s});var n=a(7294);const s=({list:e})=>n.createElement("div",{className:"vf-grid vf-grid__col-2",style:{gridTemplateColumns:"1fr 2fr",rowGap:"0.5rem"}},e.map((({key:e,value:t})=>n.createElement(n.Fragment,{key:e},n.createElement("div",{style:{textAlign:"right"}},e,":"),n.createElement("div",null,"string"==typeof t?t:n.createElement(t,null))))))},4821:(e,t,a)=>{a.d(t,{Z:()=>r});var n=a(7294),s=a(6974),l=a(9711);const r=({tabs:e})=>{const t=(0,s.TH)();return n.createElement("div",{className:"vf-tabs mg-search-tabs"},n.createElement("ul",{className:"vf-tabs__list"},e.map((({label:e,to:a})=>n.createElement("li",{className:"vf-tabs__item",key:a},n.createElement(l.rU,{className:"vf-tabs__link "+(a===t.pathname||a.startsWith("#")&&a===t.hash||"#"===a&&""===t.hash?"is-active":""),to:a},"string"==typeof e?e:n.createElement(e,null)))))))}},2119:(e,t,a)=>{a.d(t,{B:()=>r});var n=a(7294),s=a(6974);const l=(e,t,a)=>{const n={},s=new URLSearchParams(t);return Object.entries(e).forEach((([e,t])=>{const l=a[e]||String;n[e]=l(s.get(e)||t)})),n},r=(e,t={})=>{const a=(0,s.TH)(),r=(0,s.s0)(),c=(0,n.useMemo)((()=>l(e,a.search,t)),[e,a.search,t]),[i,o]=(0,n.useState)(c);return(0,n.useEffect)((()=>{const n=l(e,a.search,t);JSON.stringify(n)!==JSON.stringify(i)&&o(n)}),[a.search,i,e,t]),[i,t=>{if(JSON.stringify(t)===JSON.stringify(i))return;const n=new URLSearchParams(a.search);let s=!1;Object.entries(e).forEach((([e,a])=>{const l=e in t?t[e]:a;t[e]!==i[e]&&(n.set(e,String(l)),l===a&&n.delete(e),s=!0)})),s&&(a.search=n.toString(),r(a))}]}},964:(e,t,a)=>{a.d(t,{Z:()=>s});var n=a(6974);const s=()=>{const e=(0,n.TH)();let{pathname:t}=e;t.trim().endsWith("/")&&(t=t.trim().slice(0,-1));const a=t.split("/");return null==a?void 0:a[a.length-1]}},6591:(e,t,a)=>{a.r(t),a.d(t,{default:()=>k});var n=a(7294),s=a(402),l=a(1699),r=a(4821),c=a(1274),i=a(3415),o=a(2531),m=a(5457),u=a(8101);const g=({data:e})=>n.createElement("section",null,n.createElement("div",{className:"vf-stack"},n.createElement("details",{open:!0},n.createElement("summary",null,n.createElement("b",null,"Genome statistics")),n.createElement(i.Z,{list:[{key:"Type",value:e.attributes.type},{key:"Length (bp)",value:String(e.attributes.length)},{key:"Contamination",value:`${e.attributes.contamination}%`},{key:"Completeness",value:`${e.attributes.completeness}%`},{key:"Num. of contigs",value:String(e.attributes["num-contigs"])},{key:"Total number of genomes in species",value:String(e.attributes["num-genomes-total"])},{key:"Non-redundant number of genomes in species",value:String(e.attributes["num-genomes-non-redundant"])},{key:"Number of proteins",value:String(e.attributes["num-proteins"])},{key:"GC content",value:`${e.attributes["gc-content"]}%`},{key:"Taxonomic lineage",value:(0,m.wK)(e.attributes["taxon-lineage"]," > ")},{key:"N50",value:String(e.attributes["n-50"])}].filter((({value:e})=>!!e))})),n.createElement("details",{open:!0},n.createElement("summary",null,n.createElement("b",null,"Genome annotations")),n.createElement(i.Z,{list:[{key:"InterPro coverage",value:`${e.attributes["ipr-coverage"]}%`},{key:"EggNog coverage",value:`${e.attributes["eggnog-coverage"]}%`}].filter((({value:e})=>!!e))})),n.createElement("details",{open:!0},n.createElement("summary",null,n.createElement("b",null,"Pan-genome statistics")),n.createElement(i.Z,{list:[{key:"Pan-genome size",value:`${e.attributes["pangenome-size"]}%`},{key:"Pan-genome core size",value:`${e.attributes["pangenome-core-size"]}%`},{key:"Pan-genome accessory size",value:`${e.attributes["pangenome-accessory-size"]}%`},{key:"Pan-genome InterPro coverage",value:`${e.attributes["pangenome-ipr-coverage"]}%`},{key:"Pan-genome EggNOG coverage",value:`${e.attributes["pangenome-eggnog-coverage"]}%`}].filter((({value:e})=>!!e))})),n.createElement("details",{open:!0},n.createElement("summary",null,n.createElement("b",null,"Genome RNA coverage")),n.createElement(i.Z,{list:[{key:"rRNA 5s total gene length coverage",value:`${e.attributes["rna-5s"]}%`},{key:"rRNA 16s total gene length coverage",value:`${e.attributes["rna-16s"]}%`},{key:"rRNA 23s total gene length coverage",value:`${e.attributes["rna-23s"]}%`},{key:"tRNAs",value:`${e.attributes.trnas}%`},{key:"ncRNA",value:`${e.attributes["nc-rnas"]}%`}].filter((({value:e})=>!!e))})),n.createElement("details",{open:!0},n.createElement("summary",null,n.createElement("b",null,"Geographic metadata")),n.createElement(i.Z,{list:[{key:"Origin of representative genome",value:e.attributes["geographic-origin"]},{key:"Geographic range of pan-genome",value:e.attributes["geographic-range"].join(", ")}]})),n.createElement("details",{open:!0},n.createElement("summary",null,n.createElement("b",null,"External links")),n.createElement(i.Z,{list:[{key:"ENA genome accession",value:e.attributes["ena-genome-accession"]?()=>n.createElement(o.Z,{href:u.sn+e.attributes["ena-genome-accession"]},e.attributes["ena-genome-accession"]):null},{key:"ENA sample accession",value:e.attributes["ena-sample-accession"]?()=>n.createElement(o.Z,{href:u.sn+e.attributes["ena-sample-accession"]},e.attributes["ena-sample-accession"]):null},{key:"ENA study accession",value:e.attributes["ena-study-accession"]?()=>n.createElement(o.Z,{href:u.sn+e.attributes["ena-study-accession"]},e.attributes["ena-study-accession"]):null},{key:"IMG genome accession",value:e.attributes["img-genome-accession"]?()=>n.createElement(o.Z,{href:u.bV+e.attributes["img-genome-accession"]},e.attributes["img-genome-accession"]):null},{key:"NCBI genome accession",value:e.attributes["ncbi-genome-accession"]?()=>n.createElement(o.Z,{href:u.QD+e.attributes["ncbi-genome-accession"]},e.attributes["ncbi-genome-accession"]):null},{key:"NCBI sample accession",value:e.attributes["ncbi-sample-accession"]?()=>n.createElement(o.Z,{href:u.s8+e.attributes["ncbi-sample-accession"]},e.attributes["ncbi-sample-accession"]):null},{key:"NCBI study accession",value:e.attributes["ncbi-study-accession"]?()=>n.createElement(o.Z,{href:u.mL+e.attributes["ncbi-study-accession"]},e.attributes["ncbi-study-accession"]):null},{key:"PATRIC genome accession",value:e.attributes["patric-genome-accession"]?()=>n.createElement(o.Z,{href:u.gM+e.attributes["patric-genome-accession"]},e.attributes["patric-genome-accession"]):null}].filter((({value:e})=>!!e))}))));var p=a(6313),b=a(8110);const v=({endpoint:e,accession:t})=>{const{data:a,loading:r,error:c}=(0,b.Z)(`${e}/${t}/downloads`,{page_size:100}),i=(0,n.useMemo)((()=>[{Header:"Name",accessor:"attributes.description.description"},{Header:"Compression",accessor:"attributes.file-format.compression",Cell:({cell:e})=>e.value?"Yes":"-"},{Header:"Format",accessor:"attributes.file-format.name"},{Header:"Action",accessor:"links.self",Cell:({cell:e})=>n.createElement("a",{href:e.value,className:"vf-button vf-button--link",style:{whiteSpace:"nowrap"},download:!0},n.createElement("span",{className:"icon icon-common icon-download"})," Download")}]),[]);if(r)return n.createElement(s.Z,{size:"large"});if(c)return n.createElement(l.Z,{error:c});if(!a)return n.createElement(s.Z,null);const o={};return a.data.forEach((e=>{o[e.attributes["group-type"]]||(o[e.attributes["group-type"]]=[]),o[e.attributes["group-type"]].push(e)})),n.createElement("div",{className:"vf-stock"},Object.entries(o).map((([e,t])=>n.createElement("section",{key:e},n.createElement(p.Z,{cols:i,data:t,title:e,loading:r,showPagination:!1}),n.createElement("hr",null)))))};var d=a(964);const E=(0,n.lazy)((()=>Promise.all([a.e(762),a.e(897),a.e(551)]).then(a.bind(a,2551)))),f=(0,n.lazy)((()=>Promise.all([a.e(608),a.e(217)]).then(a.bind(a,4217)))),h=(0,n.lazy)((()=>Promise.all([a.e(608),a.e(735)]).then(a.bind(a,7735)))),y=(0,n.lazy)((()=>Promise.all([a.e(608),a.e(927)]).then(a.bind(a,5927)))),N=[{label:"Overview",to:"#overview"},{label:"Browse genome",to:"#genome-browser"},{label:"COG analysis",to:"#cog-analysis"},{label:"KEGG class analysis",to:"#kegg-class-analysis"},{label:"KEGG module analysis",to:"#kegg-module-analysis"},{label:"Downloads",to:"#downloads"}],k=()=>{const e=(0,d.Z)(),{data:t,loading:a,error:i}=(0,b.Z)(`genomes/${e}`);if(a)return n.createElement(s.Z,{size:"large"});if(i)return n.createElement(l.Z,{error:i});if(!t)return n.createElement(s.Z,null);const{data:o}=t;return n.createElement("section",{className:"vf-content"},n.createElement("h2",null,"Genome ",e),n.createElement("p",null,n.createElement("b",null,"Type:")," ",o.attributes.type),n.createElement("p",null,n.createElement("b",null,"Taxonomic lineage:")," ",(0,m.wK)(o.attributes["taxon-lineage"]," > ")),n.createElement(r.Z,{tabs:N}),n.createElement("section",{className:"vf-grid"},n.createElement("div",{className:"vf-stack vf-stack--200"},n.createElement(c.Z,{hash:"#overview",isDefault:!0},n.createElement(g,{data:o})),n.createElement(c.Z,{hash:"#genome-browser"},n.createElement(n.Suspense,{fallback:n.createElement(s.Z,{size:"large"})},n.createElement(E,null))),n.createElement(c.Z,{hash:"#cog-analysis"},n.createElement(n.Suspense,{fallback:n.createElement(s.Z,{size:"large"})},n.createElement(f,null))),n.createElement(c.Z,{hash:"#kegg-class-analysis"},n.createElement(n.Suspense,{fallback:n.createElement(s.Z,{size:"large"})},n.createElement(h,null))),n.createElement(c.Z,{hash:"#kegg-module-analysis"},n.createElement(n.Suspense,{fallback:n.createElement(s.Z,{size:"large"})},n.createElement(y,null))),n.createElement(c.Z,{hash:"#downloads"},n.createElement(v,{endpoint:"genomes",accession:e})))))}},5457:(e,t,a)=>{function n(e,t=""){return e.replace(/;/g,"").replace(/[d|p|c|o|f|g|s]__/g,t)}function s(e,t){const a=e.split(";");let s=a.pop();for(;-1===s.indexOf("s__");)s=a.pop();for(;s.length<=3;)s=a.pop();return t&&s?n(s):s}a.d(t,{wK:()=>n,FS:()=>s,DC:()=>l});const l=["#058dc7","#82d23d","#e26736","#fbe300","#24cbe5","#c49ecc","#ffc08a","#708090","#6af9c4","#caae74","#cccccc"]},8101:(e,t,a)=>{a.d(t,{sn:()=>n,bV:()=>s,QD:()=>l,s8:()=>r,mL:()=>c,gM:()=>i});const n="https://www.ebi.ac.uk/ena/browser/view/",s=" https://img.jgi.doe.gov/cgi-bin/m/main.cgi?section=TaxonDetail&page=taxonDetail&taxon_oid=",l="https://www.ncbi.nlm.nih.gov/assembly/",r="https://www.ncbi.nlm.nih.gov/biosample/?term=",c="https://www.ncbi.nlm.nih.gov/bioproject/",i="https://www.patricbrc.org/view/Genome/"}}]);
//# sourceMappingURL=591.28f08035.chunk.js.map