"use strict";(self.webpackChunkmgportalv2=self.webpackChunkmgportalv2||[]).push([[631],{5222:(e,l,a)=>{a.d(l,{Z:()=>b});var i=a(7294),n=a(9711),t=a(7338);const s=(r={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},function(e){return null==r?void 0:r[e]});var r,o=/&(?:amp|lt|gt|quot|#39);/g,d=RegExp(o.source);var c=a(402),v=a(1699),u=a(8696),m=a(8110),p=a(964),g=a(2119),y=a(5058);const b=({rootEndpoint:e})=>{var l,a,r;const b=(0,p.Z)(),[E]=(0,g.B)({"analyses-page":1,"analyses-page_size":10,"analyses-order":""},{"analyses-page":Number,"analyses-page_size":Number}),{data:h,loading:f,error:Z,isStale:w,downloadURL:_}=(0,m.Z)(`${e}/${b}/analyses`,{include:"sample",page:E["analyses-page"],ordering:E["analyses-order"],page_size:E["analyses-page_size"]});if(f&&!w)return i.createElement(c.Z,{size:"small"});if(Z||!h)return i.createElement(v.Z,{error:Z});if(!h.data.length)return null;const k={};null===(l=h.included||[])||void 0===l||l.filter((({type:e})=>"samples"===e)).forEach((e=>{k[e.id]={description:e.attributes["sample-desc"],biome:e.relationships.biome.data.id}}));const N=[{id:"biome_id",Header:"Biome",accessor:e=>{var l,a,i,n;return(null===(n=null==k?void 0:k[null===(i=null===(a=null===(l=null==e?void 0:e.relationships)||void 0===l?void 0:l.sample)||void 0===a?void 0:a.data)||void 0===i?void 0:i.id])||void 0===n?void 0:n.biome)||""},Cell:({cell:e})=>i.createElement("span",{className:`biome_icon icon_xs ${(0,y.G)(e.value)}`,style:{float:"initial"}}),className:"mg-biome"},{id:"sample",Header:"Sample accession",accessor:e=>{var l,a,i;return null===(i=null===(a=null===(l=null==e?void 0:e.relationships)||void 0===l?void 0:l.sample)||void 0===a?void 0:a.data)||void 0===i?void 0:i.id},Cell:({cell:e})=>i.createElement(n.rU,{to:`/samples/${e.value}`},e.value)},{id:"description_id",Header:"Sample description",accessor:e=>{var l,a,i,n;return(null===(n=null==k?void 0:k[null===(i=null===(a=null===(l=null==e?void 0:e.relationships)||void 0===l?void 0:l.sample)||void 0===a?void 0:a.data)||void 0===i?void 0:i.id])||void 0===n?void 0:n.description)||""},Cell:({cell:e})=>{return l=e.value,(l=(0,t.Z)(l))&&d.test(l)?l.replace(o,s):l;var l}},{id:"assembly_run_id",Header:" Run / Assembly accession",accessor:e=>{var l,a,i,n,t,s;return{assembly:(null===(i=null===(a=null===(l=null==e?void 0:e.relationships)||void 0===l?void 0:l.assembly)||void 0===a?void 0:a.data)||void 0===i?void 0:i.id)||"",run:(null===(s=null===(t=null===(n=null==e?void 0:e.relationships)||void 0===n?void 0:n.run)||void 0===t?void 0:t.data)||void 0===s?void 0:s.id)||""}},Cell:({cell:e})=>i.createElement(i.Fragment,null,e.value.assembly&&i.createElement(n.rU,{to:`/assemblies/${e.value.assembly}`},e.value.assembly),e.value.run&&i.createElement(n.rU,{to:`/runs/${e.value.run}`},e.value.run))},{id:"pipeline_id",Header:"Pipeline version",accessor:e=>e.attributes["pipeline-version"],Cell:({cell:e})=>i.createElement(n.rU,{to:`/pipelines/${e.value}`},e.value)},{id:"analysis_id",Header:"Analysis accession",accessor:e=>e.id,Cell:({cell:e})=>i.createElement(n.rU,{to:`/analyses/${e.value}`},e.value)}],$=((null===(r=null===(a=h.meta)||void 0===a?void 0:a.pagination)||void 0===r?void 0:r.count)||1)>10;return i.createElement(u.Z,{cols:N,data:h,title:"Analyses",initialPage:E["analyses-page"]-1,initialPageSize:10,className:"mg-anlyses-table",loading:f,isStale:w,namespace:"analyses-",showPagination:$,downloadURL:_})}},5478:(e,l,a)=>{a.d(l,{Z:()=>n});var i=a(7294);const n=({label:e,theme:l="primary",children:a})=>i.createElement("div",{className:"vf-grid"},i.createElement("div",{className:`vf-box vf-box--easy vf-box-theme--${l}`},i.createElement("h5",{className:"vf-box__heading"},e),i.createElement("div",{className:"vf-box__text"},a)))},3415:(e,l,a)=>{a.d(l,{Z:()=>n});var i=a(7294);const n=({list:e})=>i.createElement("div",{className:"vf-grid vf-grid__col-2",style:{gridTemplateColumns:"1fr 2fr",rowGap:"0.5rem"}},e.map((({key:e,value:l})=>i.createElement(i.Fragment,{key:e},i.createElement("div",{style:{textAlign:"right"}},e,":"),i.createElement("div",null,"string"==typeof l?l:i.createElement(l,null))))))},964:(e,l,a)=>{a.d(l,{Z:()=>n});var i=a(6974);const n=()=>{const e=(0,i.TH)();let{pathname:l}=e;l.trim().endsWith("/")&&(l=l.trim().slice(0,-1));const a=l.split("/");return null==a?void 0:a[a.length-1]}},7631:(e,l,a)=>{a.r(l),a.d(l,{default:()=>p});var i=a(7294),n=a(8110),t=a(964),s=a(402),r=a(1699),o=a(5478),d=a(3415),c=a(2531),v=a(9711),u=a(5222),m=a(8101);const p=()=>{var e,l,a,p,g,y;const b=(0,t.Z)(),{data:E,loading:h,error:f}=(0,n.Z)(`assemblies/${b}`);if(h)return i.createElement(s.Z,{size:"large"});if(f)return i.createElement(r.Z,{error:f});if(!E)return i.createElement(s.Z,null);const{data:Z}=E,w=[{key:"Sample",value:(null===(a=null===(l=null===(e=null==Z?void 0:Z.relationships)||void 0===e?void 0:e.samples)||void 0===l?void 0:l.data)||void 0===a?void 0:a.length)?()=>i.createElement(i.Fragment,null,Z.relationships.samples.data.map((e=>i.createElement(v.rU,{to:`/samples/${e.id}`,key:e.id},e.id," ")))):null},{key:"Runs",value:(null===(y=null===(g=null===(p=null==Z?void 0:Z.relationships)||void 0===p?void 0:p.runs)||void 0===g?void 0:g.data)||void 0===y?void 0:y.length)?()=>i.createElement(i.Fragment,null,Z.relationships.runs.data.map((e=>i.createElement(v.rU,{to:`/runs/${e.id}`,key:e.id},e.id," ")))):null},{key:"ENA accession",value:()=>i.createElement(c.Z,{href:`${m.sn}${null==Z?void 0:Z.id}`},null==Z?void 0:Z.id)},{key:"Legacy accession",value:Z.attributes["legacy-accession"]}].filter((({value:e})=>Boolean(e)));return i.createElement("section",{className:"vf-content"},i.createElement("h2",null,"Assembly: ",(null==Z?void 0:Z.id)||""),i.createElement("section",{className:"vf-grid"},i.createElement("div",{className:"vf-stack vf-stack--200"},i.createElement(o.Z,{label:"Description"},i.createElement(d.Z,{list:w})),i.createElement(o.Z,{label:"Associated analyses"},i.createElement(u.Z,{rootEndpoint:"assemblies"})))))}},8101:(e,l,a)=>{a.d(l,{sn:()=>i,bV:()=>n,QD:()=>t,s8:()=>s,mL:()=>r,gM:()=>o});const i="https://www.ebi.ac.uk/ena/browser/view/",n=" https://img.jgi.doe.gov/cgi-bin/m/main.cgi?section=TaxonDetail&page=taxonDetail&taxon_oid=",t="https://www.ncbi.nlm.nih.gov/assembly/",s="https://www.ncbi.nlm.nih.gov/biosample/?term=",r="https://www.ncbi.nlm.nih.gov/bioproject/",o="https://www.patricbrc.org/view/Genome/"},4073:(e,l,a)=>{a.d(l,{Z:()=>i});const i=function(e,l){for(var a=-1,i=null==e?0:e.length,n=Array(i);++a<i;)n[a]=l(e[a],a,e);return n}},2845:(e,l,a)=>{a.d(l,{Z:()=>d});var i=a(7685),n=a(4073),t=a(7771),s=a(2714),r=i.Z?i.Z.prototype:void 0,o=r?r.toString:void 0;const d=function e(l){if("string"==typeof l)return l;if((0,t.Z)(l))return(0,n.Z)(l,e)+"";if((0,s.Z)(l))return o?o.call(l):"";var a=l+"";return"0"==a&&1/l==-1/0?"-0":a}},7771:(e,l,a)=>{a.d(l,{Z:()=>i});const i=Array.isArray},7338:(e,l,a)=>{a.d(l,{Z:()=>n});var i=a(2845);const n=function(e){return null==e?"":(0,i.Z)(e)}}}]);
//# sourceMappingURL=631.b947d829.chunk.js.map