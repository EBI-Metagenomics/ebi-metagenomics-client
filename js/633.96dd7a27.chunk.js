"use strict";(self.webpackChunkmgportalv2=self.webpackChunkmgportalv2||[]).push([[633],{2379:(e,t,a)=>{a.d(t,{Z:()=>i});var n=a(7294),r=a(2531);const l={biosynthetic:"Core biosynthetic gene","biosynthetic-additional":"Additional biosynthetic gene",regulatory:"Regulatory genes",transport:"Transport-related gene",resistance:"Resistance genes"},o=({value:e,url:t,decodeValue:a})=>{if(!e)return null;const l=e.split(",");return n.createElement("ul",{className:"vf-list"},l.map((e=>{const l=a?decodeURIComponent(e):e;return n.createElement("li",{key:e,className:"igv-popup-multiple-field-item"},t?n.createElement(r.Z,{href:`${t}${e}`},l):l)})))},s=e=>{const t="string"==typeof e.start?parseInt(e.start,10):e.start,a="string"==typeof e.end?parseInt(e.end,10):e.end;if(!Number.isNaN(t)&&!Number.isNaN(a)&&null!==t&&null!==a)return Math.ceil((a-t)/3)},i=({data:e,hasMetaProteomics:t})=>{const{name:a,gene:i,product:m,properties:u}=((e,t)=>{const a=e.reduce(((e,t)=>(t.name&&(e[t.name.toLowerCase()]=t.value),e)),{}),i={title:"Functional annotation",data:[{name:"E.C Number",Value:a.ecnumber&&(()=>n.createElement(o,{value:a.ecnumber,url:"https://enzyme.expasy.org/EC/"}))},{name:"Pfam",Value:a.pfam&&(()=>n.createElement(o,{value:a.pfam,url:"https://pfam.xfam.org/family/"}))},{name:"KEGG",Value:a.kegg&&(()=>n.createElement(o,{value:a.kegg,url:"https://www.genome.jp/dbget-bin/www_bget?"}))},{name:"eggNOG",Value:a.eggnog&&decodeURIComponent(a.eggnog)},{name:"COG",Value:a.cog&&(()=>n.createElement(o,{value:a.cog}))},{name:"GO",Value:a.go&&(()=>n.createElement(o,{value:a.go,url:"https://www.ebi.ac.uk/ols/search?q="}))},{name:"InterPro",Value:a.interpro&&(()=>n.createElement(o,{value:a.interpro,url:"https://www.ebi.ac.uk/interpro/entry/InterPro/'"}))},{name:"Gene type",Value:a.as_type&&(l[a.as_type]||a.as_type)},{name:"Notes",Value:a.as_notes&&(()=>n.createElement(o,{value:decodeURIComponent(a.as_notes)}))},{name:"Cluster",Value:a.as_gene_clusters&&(()=>n.createElement(o,{value:a.as_gene_clusters}))}]},m={title:"Feature details",data:[{name:"Type",Value:a.type},{name:"Inference",Value:a.inference},{name:"Start / End",Value:`${a.start}/${a.end}`},{name:"Protein length",Value:String(s(a))}]},u={title:"Metaproteomics",data:[{name:"PRIDE Dataset",Value:a.pride_id&&(()=>n.createElement(r.Z,{href:`https://www.ebi.ac.uk/pride/archive/projects/${a.pride_id}`},a.pride_id))},{name:"Unique peptide-to-protein mapping",Value:"True"===a.unique_peptide_to_protein_mapping?()=>n.createElement("div",null):"None"},{name:"True"===a.unique_peptide_to_protein_mapping?"List of peptides":"",Value:"True"===a.unique_peptide_to_protein_mapping?()=>n.createElement(o,{value:a.unambiguous_sequences}):()=>n.createElement("div",null)},{name:"Ambiguous peptide-to-protein mapping",Value:"True"===a.ambiguous_peptide_to_protein_mapping?()=>n.createElement("div",null):"None"},{name:"True"===a.ambiguous_peptide_to_protein_mapping?"List of peptides":"",Value:"True"===a.ambiguous_peptide_to_protein_mapping?()=>n.createElement(o,{value:a.ambiguous_sequences}):()=>n.createElement("div",null)}]},p=[i,m];return t&&p.push(u),{name:a.id,gene:a.gene,product:a.product,properties:p}})(e,t);return n.createElement(n.Fragment,null,n.createElement("table",{className:"stack hover igv-popover-table"},n.createElement("caption",{className:"igv-popover-section-header"},"Feature"),n.createElement("tbody",null,a&&n.createElement("tr",null,n.createElement("td",{className:"igv-popover-table-td-name"},"ID"),n.createElement("td",null,a)),i&&n.createElement("tr",null,n.createElement("td",{className:"igv-popover-table-td-name"},"Gene"),n.createElement("td",null,n.createElement("em",null,i))),m&&n.createElement("tr",null,n.createElement("td",{className:"igv-popover-table-td-name"},"Product"),n.createElement("td",null,m)))),u.map((e=>n.createElement("table",{className:"stack hover igv-popover-table",key:e.title},e.data.filter((e=>!!e.Value)).length>0&&n.createElement("caption",{className:"igv-popover-section-header"},e.title),n.createElement("tbody",null,e.data.map((({name:e,Value:t})=>t&&n.createElement("tr",{key:e},n.createElement("td",{className:"igv-popover-table-td-name"},e),n.createElement("td",null,"string"==typeof t?t:n.createElement(t,null))))).filter(Boolean))))))}},3633:(e,t,a)=>{a.r(t),a.d(t,{default:()=>p});var n=a(7294),r=a(7762),l=a(4897),o=a.n(l),s=a(6050),i=a(964),m=a(402),u=a(2379);const p=()=>{const[e,t]=(0,n.useState)(!0),a=(0,i.Z)(),{config:l}=(0,n.useContext)(s.ZP),p=[{type:"mgnify-annotation",url:`${l.api}genomes/${a}/downloads/${a}.gff`,format:"gff3",label:"Functional annotation",displayMode:"EXPANDED",colorAttributes:[["Default",""],["COG","COG"],["Product","product"],["Pfam","Pfam"],["KEGG","KEGG"],["InterPro","InterPro"],["eggNOG","eggNOG"]]}],c={showChromosomeWidget:!1,showTrackLabelButton:!0,showTrackLabels:!0,showCenterGuide:!1,showAllChromosomes:!0,reference:{fastaURL:`${l.api}genomes/${a}/downloads/${a}.fna`,indexURL:`${l.api}genomes/${a}/downloads/${a}.fna.fai`},tracks:p,showLegend:!0,legendParent:"#genome-browser"},d=(0,n.useRef)(null);return(0,n.useEffect)((()=>{o().createBrowser(d.current,c).then((e=>{t(!1),e.on("trackclick",((e,t)=>r.renderToString(n.createElement(u.Z,{data:t,hasMetaProteomics:!1}))))}))}),[]),n.createElement("div",{id:"genome-browser"},e&&n.createElement(m.Z,{size:"large"}),n.createElement("div",{className:"genome-browser-container",ref:d}))}}}]);
//# sourceMappingURL=633.96dd7a27.chunk.js.map