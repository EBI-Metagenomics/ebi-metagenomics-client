"use strict";(self.webpackChunkmgportalv2=self.webpackChunkmgportalv2||[]).push([[633],{2379:(e,t,a)=>{a.d(t,{Z:()=>s});var n=a(7294),r=a(2531);const l={biosynthetic:"Core biosynthetic gene","biosynthetic-additional":"Additional biosynthetic gene",regulatory:"Regulatory genes",transport:"Transport-related gene",resistance:"Resistance genes"},o=({value:e,url:t,decodeValue:a})=>{if(!e)return null;const l=e.split(",");return n.createElement("ul",{className:"vf-list"},l.map((e=>{const l=a?decodeURIComponent(e):e;return n.createElement("li",{key:e,className:"igv-popup-multiple-field-item"},t?n.createElement(r.Z,{href:`${t}${e}`},l):l)})))},i=e=>{const t="string"==typeof e.start?parseInt(e.start,10):e.start,a="string"==typeof e.end?parseInt(e.end,10):e.end;if(!Number.isNaN(t)&&!Number.isNaN(a)&&null!==t&&null!==a)return Math.ceil((a-t)/3)},s=({data:e})=>{const{name:t,gene:a,product:s,properties:m}=(e=>{const t=e.reduce(((e,t)=>(t.name&&(e[t.name.toLowerCase()]=t.value),e)),{}),a={title:"Functional annotation",data:[{name:"E.C Number",Value:t.ecnumber&&(()=>n.createElement(o,{value:t.ecnumber,url:"https://enzyme.expasy.org/EC/"}))},{name:"Pfam",Value:t.pfam&&(()=>n.createElement(o,{value:t.pfam,url:"https://pfam.xfam.org/family/"}))},{name:"KEGG",Value:t.kegg&&(()=>n.createElement(o,{value:t.kegg,url:"https://www.genome.jp/dbget-bin/www_bget?"}))},{name:"eggNOG",Value:t.eggnog&&decodeURIComponent(t.eggnog)},{name:"COG",Value:t.cog&&(()=>n.createElement(o,{value:t.cog}))},{name:"GO",Value:t.go&&(()=>n.createElement(o,{value:t.go,url:"https://www.ebi.ac.uk/ols/search?q="}))},{name:"InterPro",Value:t.interpro&&(()=>n.createElement(o,{value:t.interpro,url:"https://www.ebi.ac.uk/interpro/entry/InterPro/'"}))},{name:"Gene type",Value:t.as_type&&(l[t.as_type]||t.as_type)},{name:"Notes",Value:t.as_notes&&(()=>n.createElement(o,{value:decodeURIComponent(t.as_notes)}))},{name:"Cluster",Value:t.as_gene_clusters&&(()=>n.createElement(o,{value:t.as_gene_clusters}))}]},s={title:"Feature details",data:[{name:"Type",Value:t.type},{name:"Inference",Value:t.inference},{name:"Start / End",Value:`${t.start}/${t.end}`},{name:"Protein length",Value:String(i(t))}]},m={title:"Metaproteomics",data:[{name:"Pride ID",Value:t.pride_id&&(()=>n.createElement(r.Z,{href:`https://www.ebi.ac.uk/pride/archive/projects/${t.pride_id}`},t.pride_id))},{name:"Unique peptide-to-protein mapping",Value:t.unique_peptide_to_protein_mapping},{name:"True"===t.unique_peptide_to_protein_mapping?"List of peptides":"",Value:"True"===t.unique_peptide_to_protein_mapping?()=>n.createElement(o,{value:t.unambiguous_sequences}):()=>n.createElement("div",null)},{name:"Ambiguous peptide-to-protein mapping",Value:t.ambiguous_peptide_to_protein_mapping},{name:"True"===t.ambiguous_peptide_to_protein_mapping?"List of peptides":"",Value:"True"===t.ambiguous_peptide_to_protein_mapping?()=>n.createElement(o,{value:t.ambiguous_sequences}):()=>n.createElement("div",null)}]};return{name:t.id,gene:t.gene,product:t.product,properties:[a,s,m]}})(e);return n.createElement(n.Fragment,null,n.createElement("table",{className:"stack hover igv-popover-table"},n.createElement("caption",{className:"igv-popover-section-header"},"Feature"),n.createElement("tbody",null,t&&n.createElement("tr",null,n.createElement("td",{className:"igv-popover-table-td-name"},"ID"),n.createElement("td",null,t)),a&&n.createElement("tr",null,n.createElement("td",{className:"igv-popover-table-td-name"},"Gene"),n.createElement("td",null,n.createElement("em",null,a))),s&&n.createElement("tr",null,n.createElement("td",{className:"igv-popover-table-td-name"},"Product"),n.createElement("td",null,s)))),m.map((e=>n.createElement("table",{className:"stack hover igv-popover-table",key:e.title},e.data.filter((e=>!!e.Value)).length>0&&n.createElement("caption",{className:"igv-popover-section-header"},e.title),n.createElement("tbody",null,e.data.map((({name:e,Value:t})=>t&&n.createElement("tr",{key:e},n.createElement("td",{className:"igv-popover-table-td-name"},e),n.createElement("td",null,"string"==typeof t?t:n.createElement(t,null))))).filter(Boolean))))))}},3633:(e,t,a)=>{a.r(t),a.d(t,{default:()=>p});var n=a(7294),r=a(7762),l=a(4897),o=a.n(l),i=a(6050),s=a(964),m=a(402),u=a(2379);const p=()=>{const[e,t]=(0,n.useState)(!0),a=(0,s.Z)(),{config:l}=(0,n.useContext)(i.ZP),p=[{type:"mgnify-annotation",url:`${l.api}genomes/${a}/downloads/${a}.gff`,format:"gff3",label:"Functional annotation",displayMode:"EXPANDED",colorAttributes:[["Default",""],["COG","COG"],["Product","product"],["Pfam","Pfam"],["KEGG","KEGG"],["InterPro","InterPro"],["eggNOG","eggNOG"]]}],c={showChromosomeWidget:!1,showTrackLabelButton:!0,showTrackLabels:!0,showCenterGuide:!1,showAllChromosomes:!0,reference:{fastaURL:`${l.api}genomes/${a}/downloads/${a}.fna`,indexURL:`${l.api}genomes/${a}/downloads/${a}.fna.fai`},tracks:p,showLegend:!0,legendParent:"#genome-browser"},d=(0,n.useRef)(null);return(0,n.useEffect)((()=>{o().createBrowser(d.current,c).then((e=>{t(!1),e.on("trackclick",((e,t)=>r.renderToString(n.createElement(u.Z,{data:t}))))}))}),[]),n.createElement("div",{id:"genome-browser"},e&&n.createElement(m.Z,{size:"large"}),n.createElement("div",{className:"genome-browser-container",ref:d}))}}}]);
//# sourceMappingURL=633.dfffedaa.chunk.js.map