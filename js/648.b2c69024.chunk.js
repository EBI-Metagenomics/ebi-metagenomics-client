"use strict";(self.webpackChunkmgportalv2=self.webpackChunkmgportalv2||[]).push([[648],{2034:(e,t,a)=>{a.d(t,{L:()=>b,Z:()=>f});var n=a(7294),l=a(2531),r=a(3182),i=a(8110),o=a(402),s=a(1699);const c=({title:e,children:t})=>{const[a,l]=(0,n.useState)(!1);return n.createElement("li",{className:"vf-tree__item "+(a?"vf-tree__item--selected | vf-tree__item--expanded":"")},n.createElement("button",{onClick:()=>l(!a),className:"vf-button vf-button--link vf-tree__link",type:"button"},e,n.createElement("span",{className:"vf-button vf-tree__button"},n.createElement("svg",{"aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},n.createElement("path",{d:"M19.5,12a2.3,2.3,0,0,1-.78,1.729L7.568,23.54a1.847,\n            1.847,0,0,1-2.439-2.773l9.752-8.579a.25.25,0,0,0,0-.376L5.129,\n            3.233A1.847,1.847,0,0,1,7.568.46l11.148,9.808A2.31,2.31,0,0,1,19.5,12Z"})))),a&&t)},m=({children:e})=>n.createElement("div",{className:"accordion-content-panel"},e),d=({titles:e,nestedLevel:t,children:a})=>n.createElement("ul",{className:`vf-tree__list  vf-tree__list--${t} ${t>1?"vf-tree__list--additional":""} | vf-list `},e.map(((e,t)=>n.createElement(c,{title:e,key:t},a[t])))),u=({titles:e,children:t})=>n.createElement("div",{className:"vf-tree","aria-expanded":"true"},n.createElement("div",{className:"vf-tree__inner"},n.createElement(d,{titles:e,nestedLevel:1},t)));var p=a(32);const v=({superGroup:e,title:t})=>n.createElement(n.Fragment,null,n.createElement("h3",null,t),!e.length&&n.createElement("p",null,"No ",t," annotations"),n.createElement(u,{titles:e.map((e=>e.title))},e.map((e=>n.createElement(n.Fragment,{key:e.title},n.createElement("div",{style:{padding:"0 8px"}},n.createElement("p",{className:"vf-text text-body--5"},n.createElement("span",{className:"icon icon-common icon-info","data-icon":"i"}),"  ",e.description)),n.createElement(d,{titles:e.annotations.map((e=>e.annotation_text)),nestedLevel:2},e.annotations.map((e=>n.createElement(n.Fragment,{key:e.annotation_text},e.mentions.map((e=>n.createElement(m,{key:e.id},n.createElement("div",{className:"publication-epmc-mention"},n.createElement("div",{className:"vf-sidebar vf-sidebar--end"},n.createElement("div",{className:"vf-sidebar__inner"},n.createElement("div",null,n.createElement("p",null,"Mentioned in the"," ",e.section.split(" (")[0]," section:")),n.createElement("div",null,n.createElement(l.Z,{href:e.id},"View on Europe PMC"),"  ",e.tags.map((e=>n.createElement(l.Z,{href:e.uri,key:e.name},"Definition of ‘",e.name,"’  ")))))),n.createElement("p",null,n.createElement("span",{className:"publications-epmc-annotation-prefix"},"…",e.prefix),n.createElement("span",{className:"publications-epmc-annotation-match"},n.createElement(l.Z,{href:e.id},e.exact)),n.createElement("span",{className:"publications-epmc-annotation-prefix"},e.postfix,"…"))))))))))))))),E=({publicationId:e,pubmedId:t})=>{var a,c;const{data:m,loading:d,error:u}=(0,i.Z)(`publications/${e}/europe_pmc_annotations`);if(d)return n.createElement(o.Z,{size:"large"});if(u)return n.createElement(s.Z,{error:u});const p=m.data,E=!(!(null===(a=null==p?void 0:p.sample_processing)||void 0===a?void 0:a.length)&&!(null===(c=p.other)||void 0===c?void 0:c.length));return n.createElement("div",{className:"vf-stack vf-stack--400"},n.createElement("div",{style:{width:"100%",textAlign:"right"}},"Powered by ",n.createElement("a",{href:"https://europepmc.org"},"Europe PMC"),".",n.createElement("img",{src:r,style:{height:"2em"},alt:"Europe PMC logo"})),n.createElement("p",null,"Through automated text-mining, many publications may have additional metadata available in the form of"," ",n.createElement(l.Z,{href:"https://europepmc.org/Annotations"},"Annotations")," ","from ",n.createElement(l.Z,{href:"https://europepmc.org"},"Europe PMC"),". Any Metagenomics-relevant annotations are shown here."),!E&&n.createElement("p",null,"No metagenomics annotations were found on Europe PMC. Annotations from other providers might be available on the"," ",n.createElement(l.Z,{href:`https://europepmc.org/abstract/MED/${t}`},"Europe PMC website"),"."),E&&n.createElement(n.Fragment,null,n.createElement(v,{superGroup:p.sample_processing,title:"Sample processing"}),n.createElement(v,{superGroup:p.other,title:"Other"})))},b=({publicationId:e,pubmedId:t})=>{var a,l;const{data:r,loading:c,error:m}=(0,i.Z)(`publications/${e}/europe_pmc_annotations`),[d,u]=(0,n.useState)(!1);if(c)return n.createElement(o.Z,{size:"small"});if(m)return n.createElement(s.Z,{error:m});const v=r.data;return(null===(a=null==v?void 0:v.sample_processing)||void 0===a?void 0:a.length)||(null===(l=v.other)||void 0===l?void 0:l.length)?n.createElement(n.Fragment,null,n.createElement(p.Z,{isOpen:d,onRequestClose:()=>u(!1),contentLabel:`Europe PMC Annotations for ${e}`},n.createElement("h1",null,"Annotations from Europe PMC"),n.createElement(E,{publicationId:e,pubmedId:t})),n.createElement("button",{className:"vf-button vf-button--link vf-button--sm",type:"button",onClick:()=>u(!0)},n.createElement("span",{className:"vf-badge vf-badge--secondary"},n.createElement("i",{className:"icon icon-common","data-icon":""})," meta")," ","Show metadata from Europe PMC Annotations")):null},f=E},3518:(e,t,a)=>{a.d(t,{Z:()=>p});var n=a(7294),l=a(9711),r=a(402),i=a(1699),o=a(6313),s=a(1055),c=a(8110),m=a(964),d=a(5058),u=a(121);const p=({rootEndpoint:e})=>{var t,a;const p=(0,m.Z)(),[v]=(0,u.Z)("studies-page",1,Number),[E]=(0,u.Z)("studies-page_size",10,Number),[b]=(0,u.Z)("studies-order",""),{data:f,loading:g,error:h,isStale:Z,downloadURL:_}=(0,c.Z)(`${e}/${p}/studies`,{page:v,ordering:b,page_size:E});if(g&&!Z)return n.createElement(r.Z,{size:"small"});if(h||!f)return n.createElement(i.Z,{error:h});if(!f.data.length)return null;const y=[{id:"biome_id",Header:"Biome",accessor:e=>{var t,a;return null===(a=null===(t=e.relationships.biomes.data)||void 0===t?void 0:t[0])||void 0===a?void 0:a.id},Cell:({cell:e})=>n.createElement("span",{className:`biome_icon icon_xs ${(0,d.G)(e.value)}`,style:{float:"initial"}}),className:"mg-biome"},{id:"study",Header:"Study accession",accessor:"id",Cell:({cell:e})=>n.createElement(l.rU,{to:`/studies/${e.value}`},e.value)},{Header:"Name",accessor:"attributes.study-name"},{Header:"Abstract",accessor:"attributes.study-abstract",Cell:({cell:e})=>n.createElement(s.Z,{text:e.value||""})},{Header:"Samples Count",accessor:"attributes.samples-count"},{id:"last_update",Header:"Last Updated",accessor:"attributes.last-update",Cell:({cell:e})=>new Date(e.value).toLocaleDateString()}],N=((null===(a=null===(t=f.meta)||void 0===t?void 0:t.pagination)||void 0===a?void 0:a.count)||1)>10;return n.createElement(o.Z,{cols:y,data:f,initialPage:v-1,initialPageSize:10,className:"mg-studies-table",loading:g,isStale:Z,namespace:"studies-",showPagination:N,downloadURL:_})}},5478:(e,t,a)=>{a.d(t,{Z:()=>l});var n=a(7294);const l=({label:e,theme:t="primary",children:a})=>n.createElement("div",{className:"vf-grid"},n.createElement("div",{className:`vf-box vf-box--easy vf-box-theme--${t}`},n.createElement("h5",{className:"vf-box__heading"},e),n.createElement("div",{className:"vf-box__text"},a)))},3415:(e,t,a)=>{a.d(t,{Z:()=>l});var n=a(7294);const l=({list:e})=>n.createElement("div",{className:"vf-grid vf-grid__col-2",style:{gridTemplateColumns:"1fr 2fr",rowGap:"0.5rem"}},e.map((({key:e,value:t})=>n.createElement(n.Fragment,{key:e},n.createElement("div",{style:{textAlign:"right"}},e,":"),n.createElement("div",null,"string"==typeof t?t:n.createElement(t,null))))))},1055:(e,t,a)=>{a.d(t,{Z:()=>r});var n=a(7294),l=a(7565);const r=({text:e,maxLength:t=250,withTooltip:a=!1})=>{const r=e.length>=t,i=n.createElement(n.Fragment,null,e.substring(0,t),r&&"...");return a&&r?n.createElement(l.Z,{content:e},n.createElement("span",null,i)):i}},7565:(e,t,a)=>{a.d(t,{Z:()=>r});var n=a(7294),l=a(7275);a(3751);const r=({content:e,children:t})=>n.createElement(l.ZP,{content:e},t)},964:(e,t,a)=>{a.d(t,{Z:()=>l});var n=a(6974);const l=()=>{const e=(0,n.TH)();let{pathname:t}=e;t.trim().endsWith("/")&&(t=t.trim().slice(0,-1));const a=t.split("/");return null==a?void 0:a[a.length-1]}},5180:(e,t,a)=>{a.r(t),a.d(t,{default:()=>p});var n=a(7294),l=a(8110),r=a(964),i=a(402),o=a(1699),s=a(5478),c=a(3415),m=a(2531),d=a(3518),u=a(2034);const p=()=>{var e,t,a;const p=(0,r.Z)(),{data:v,loading:E,error:b}=(0,l.Z)(`publications/${p}`);if(E)return n.createElement(i.Z,{size:"large"});if(b)return n.createElement(o.Z,{error:b});if(!v)return n.createElement(i.Z,null);const{data:f}=v,g=[{key:"Journal name",value:f.attributes["iso-journal"]},{key:"DOI",value:()=>n.createElement(m.Z,{href:`https://www.doi.org/${f.attributes.doi}`},f.attributes.doi)},{key:"PMID",value:()=>n.createElement(m.Z,{href:`https://europepmc.org/abstract/MED/${f.id}`},f.id)},{key:"Published year",value:String(f.attributes["published-year"])}];return f.attributes["medline-journal"]&&g.push({key:"Medical journal",value:()=>n.createElement(m.Z,{href:f.attributes["medline-journal"]},f.attributes["medline-journal"])}),n.createElement("section",{className:"vf-content"},n.createElement("h2",null,"Publication: ",(null===(e=null==f?void 0:f.attributes)||void 0===e?void 0:e["pub-title"])||""),n.createElement("h4",null,(null===(t=null==f?void 0:f.attributes)||void 0===t?void 0:t.authors)||""),n.createElement("section",{className:"vf-grid"},n.createElement("div",{className:"vf-stack vf-stack--200"},(null===(a=null==f?void 0:f.attributes)||void 0===a?void 0:a.abstract)&&n.createElement("div",null,f.attributes.abstract),n.createElement(s.Z,{label:"Publication details"},n.createElement(c.Z,{list:g})),n.createElement(s.Z,{label:"Europe PMC Annotations"},n.createElement(u.Z,{publicationId:p,pubmedId:f.id})),n.createElement(s.Z,{label:"Associated studies"},n.createElement(d.Z,{rootEndpoint:"publications"})))))}},3182:(e,t,a)=>{e.exports=a.p+"static/e59a5adc462396bf4d24.png"}}]);
//# sourceMappingURL=648.b2c69024.chunk.js.map