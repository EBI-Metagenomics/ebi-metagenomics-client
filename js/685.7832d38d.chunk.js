(self.webpackChunkmgportalv2=self.webpackChunkmgportalv2||[]).push([[685],{685:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>S});var l=a(294);const s=()=>l.createElement("svg",{"aria-hidden":"true",className:"vf-card__heading__icon | vf-icon vf-icon-arrow--inline-end",width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg"},l.createElement("path",{d:"M0 12c0 6.627 5.373 12 12 12s12-5.373 12-12S18.627 0 12 0C5.376.008.008 5.376 0 12zm13.707-5.209l4.5 4.5a1 1 0 010 1.414l-4.5 4.5a1 1 0 01-1.414-1.414l2.366-2.367a.25.25 0 00-.177-.424H6a1 1 0 010-2h8.482a.25.25 0 00.177-.427l-2.366-2.368a1 1 0 011.414-1.414z",fill:"currentColor",fillRule:"nonzero"}));var n=a(727);const r=({title:e,label:t,to:a,image:r,imageAltText:i,externalLink:c=!1})=>l.createElement("article",{className:"vf-card vf-card--striped vf-card--bordered"},r&&l.createElement("img",{src:r,alt:i,className:"vf-card__image",loading:"lazy"}),l.createElement("div",{className:"vf-card__content | vf-stack vf-stack--400"},l.createElement("h3",{className:"vf-card__heading"},c?l.createElement("a",{className:"vf-card__link",href:a},e," ",l.createElement(s,null)):l.createElement(n.rU,{className:"vf-card__link",to:a},e," ",l.createElement(s,null))),l.createElement("p",{className:"vf-card__text"},t))),i=({children:e,className:t="",image:a=null,imageAltText:s=""})=>l.createElement("article",{className:`vf-card vf-card--brand vf-card--bordered ${t}`},a&&l.createElement("img",{src:a,alt:s,className:"vf-card__image",loading:"lazy"}),l.createElement("div",{className:"vf-card__content | vf-stack vf-stack--400"},e));var c=a(402),o=a(150);const m=e=>{const[t,a]=(0,l.useState)(null);return(0,l.useEffect)((()=>{!function(e,t){var a,l,s,n;a=this,l=void 0,n=function*(){const a=yield fetch(e),l=yield a.json();t(l)},new((s=void 0)||(s=Promise))((function(e,t){function r(e){try{c(n.next(e))}catch(e){t(e)}}function i(e){try{c(n.throw(e))}catch(e){t(e)}}function c(t){var a;t.done?e(t.value):(a=t.value,a instanceof s?a:new s((function(e){e(a)}))).then(r,i)}c((n=n.apply(a,l||[])).next())}))}(e,a)}),[e]),t},d=(e,t={})=>{const a=Object.assign(Object.assign({},{format:"json",start:0}),t),l=`${o.l0}${e}?${Object.entries(a).map((([e,t])=>`${e}=${t}`)).join("&")}`;return m(l)},u=(e,t={})=>{const a=Object.assign(Object.assign({},{}),t);let l=`${o.hi}${e}`;return Object.keys(a).length>0&&(l+=`?${Object.entries(a).map((([e,t])=>`${e}=${t}`)).join("&")}`),m(l)},v=({type:e,label:t,link:a})=>{const s=d("metagenomics_analyses",{query:"domain_source:metagenomics_analyses",size:0,fields:"id,name,description,biome_name,metagenomics_samples",facetcount:0,facetsdepth:5,facets:`experiment_type:${e}`});return s?l.createElement("tr",{className:"vf-table__row"},l.createElement("td",{className:"vf-table__cell",style:{textAlign:"right"}},l.createElement(n.rU,{to:a,className:"mg-link"},(null==s?void 0:s.hitCount)||"...")),l.createElement("td",{className:"vf-table__cell"},t)):l.createElement("tr",null,l.createElement("td",null,l.createElement(c.Z,{size:"small"})))},b=({label:e,endpoint:t,link:a})=>{const s=d(t,{query:`domain_source:${t}`,size:0,fields:"id,name,description,biome_name,metagenomics_samples",facetcount:0,facetsdepth:5});return s?l.createElement("tr",{className:"vf-table__row"},l.createElement("td",{className:"vf-table__cell",style:{textAlign:"right"}},l.createElement(n.rU,{to:a,className:"mg-link"},(null==s?void 0:s.hitCount)||"??")),l.createElement("td",{className:"vf-table__cell"},e)):null},f=()=>l.createElement("div",{className:"vf-grid vf-grid__col-4",style:{fontSize:"0.7rem"}},l.createElement("div",{style:{textAlign:"right"}},l.createElement("span",{className:"icon icon-conceptual icon-c3",style:{fontSize:"2rem"},"data-icon":"d"})),l.createElement("table",{className:"vf-table mg-small-table"},l.createElement("tbody",{className:"vf-table__body"},[{type:"amplicon",label:"amplicon",link:""},{type:"assembly",label:"assemblies",link:""},{type:"metabarcoding",label:"metabarcoding",link:""},{type:"metagenomic",label:"metagenomes",link:""},{type:"metatranscriptomic",label:"metatranscriptomics",link:""}].map((({type:e,label:t,link:a})=>l.createElement(v,{type:e,label:t,link:a,key:e}))))),l.createElement("div",{style:{textAlign:"right"}},l.createElement("span",{className:"icon icon-functional icon-c9",style:{fontSize:"2rem"},"data-icon":"U"})),l.createElement("table",{className:"vf-table mg-small-table"},l.createElement("tbody",{className:"vf-table__body"},[{label:"studies",endpoint:"metagenomics_projects",link:"/search#projects"},{label:"samples",endpoint:"metagenomics_samples",link:"/search#samples"},{label:"analyses",endpoint:"metagenomics_analyses",link:"/search#analyses"}].map((({endpoint:e,label:t,link:a})=>l.createElement(b,{endpoint:e,label:t,link:a,key:e})))))),_={"root:engineered":"engineered_b"},g={"root:engineered:wastewater":"wastewater_b","root:environmental:air":"air_b","root:host-associated:amphibia":"amphibian_b","root:host-associated:arthropoda":"arthropoda_b","root:host-associated:fish":"fish_b","root:host-associated:human":"human_host_b","root:host-associated:insecta":"insect_b","root:host-associated:mammals":"mammals_b","root:host-associated:mollusca":"mollusca_b","root:host-associated:plants":"plant_host_b","root:host-associated:porifera":"porifera_b"},h={"root:environmental:aquatic:freshwater":"freshwater_b","root:environmental:aquatic:marine":"marine_b","root:environmental:aquatic:thermal springs":"hotspring_b","root:environmental:terrestrial:soil":"soil_b","root:environmental:terrestrial:volcanic":"vulcano_b","root:host-associated:human:digestive system":"human_gut_b","root:host-associated:human:skin":"skin_b"},E={"root:environmental:aquatic:freshwater:drinking water":"drinking_water_b","root:environmental:aquatic:freshwater:groundwater":"groundwater_b","root:environmental:aquatic:freshwater:ice":"ice_b","root:environmental:aquatic:freshwater:lake":"lake_b","root:environmental:aquatic:freshwater:lotic":"river_b","root:environmental:aquatic:marine:hydrothermal vents":"hydrothermal_vents_b","root:environmental:terrestrial:soil:wetlands":"wetlands_b","root:host-associated:human:digestive system:oral":"mouth_b","root:host-associated:human:respiratory system:pulmonary system":"lung_b","root:host-associated:mammals:nervous system:brain":"brain_b"},p={"root:environmental:aquatic:freshwater:groundwater:cave water":"cave_b","root:environmental:aquatic:freshwater:ice:glacier":"glacier_b","root:environmental:terrestrial:soil:grasslands":"grassland_b","root:environmental:terrestrial:soil:loam:forest soil":"forest_b","root:environmental:terrestrial:soil:sand:desert":"desert_b"};function y(e){const t=(e||"").split(":").map((e=>e.toLowerCase())),a=t.slice(0,2).join(":"),l=t.slice(0,3).join(":"),s=t.slice(0,4).join(":"),n=t.slice(0,5).join(":"),r=t.slice(0,6).join(":");return p[r]||E[n]||h[s]||g[l]||_[a]||"default_b"}const N=({lineage:e,name:t,count:a})=>l.createElement("div",null,l.createElement(n.rU,{to:`/metagenomics/browse?lineage=${e}#studies`,className:"vf-grid vf-grid__col-1 mg-link",style:{textAlign:"center",gridRowGap:"0.2em"}},l.createElement("div",null,l.createElement("span",{className:`biome_icon icon_sm ${y(e)}`,style:{float:"initial"}})),l.createElement("div",{className:"biome-text"}," ",t," (",a,")"))),k=()=>{const e=u("biomes/top10",{ordering:"-samples_count"});return e?l.createElement("section",{className:"vf-stack vf-stack--200 search-by-biomes-section"},l.createElement("div",{className:"vf-grid vf-grid__col-5"},e.data.map((({id:e,attributes:t})=>l.createElement(N,{key:e,lineage:e,name:t["biome-name"],count:t["samples-count"]})))),l.createElement("div",{className:"mg-right"},l.createElement(n.rU,{to:"/biomes/",className:"vf-button vf-button--primary"},"View all biomes"))):l.createElement(c.Z,null)},w=()=>l.createElement(i,{className:"search-by-section"},l.createElement("h3",{className:"vf-card__heading"},"Search by"),l.createElement("div",{className:"vf-grid"},l.createElement(r,{title:"Text search",label:"Name, biome, or keyword",to:"/search"}),l.createElement(r,{title:"Sequence search",label:"Sequence search",to:"/sequence-search"})),l.createElement("h3",{className:"vf-card__heading"},"Or by data type"),l.createElement(f,null),l.createElement("h3",{className:"vf-card__heading"},"Or by selected biomes"),l.createElement(k,null)),x=({id:e,name:t,abstract:a,lineage:s})=>{const r=y(s);return l.createElement("article",{className:"vf-summary vf-summary--has-image study"},l.createElement("span",{className:`biome_icon icon_xs ${r}`}),l.createElement("h3",{className:"vf-summary__title"},l.createElement(n.rU,{to:`/studies/${e}`,className:"vf-summary__link"},t)),l.createElement("p",{className:"vf-summary__text"},a.substring(0,250),a.length>=250&&"..."),l.createElement("div",{className:"vf-summary__text vf-grid"},l.createElement(n.rU,{to:`/studies/${e}`,className:"vf-button vf-button--sm"},"View more"),l.createElement(n.rU,{to:`/studies/${e}#samples-section`,className:"vf-button vf-button--sm"},"Samples")))},j=()=>{const e=u("studies/recent");return e?l.createElement("section",{className:"vf-stack vf-stack--200"},l.createElement("div",{className:"vf-grid vf-grid__col-1 latest-studies-section"},e.data.map((({id:e,attributes:t,relationships:a})=>{var s,n,r;return l.createElement(x,{key:e,id:e,name:t["study-name"],abstract:t["study-abstract"],lineage:null===(r=null===(n=null===(s=null==a?void 0:a.biomes)||void 0===s?void 0:s.data)||void 0===n?void 0:n[0])||void 0===r?void 0:r.id})}))),l.createElement("div",{className:"mg-right"},l.createElement(n.rU,{to:"/browse/studies/",className:"vf-button vf-button--primary"},"View all studies"))):l.createElement(c.Z,null)},q=()=>l.createElement(i,{className:"request-by-section"},l.createElement("h3",{className:"vf-card__heading"},"Request analysis of"),l.createElement("div",{className:"vf-grid"},l.createElement(r,{title:"Submit and/or Request",label:"Your data",to:"/"}),l.createElement(r,{title:"Request",label:"A public dataset",to:"/"})),l.createElement("h3",{className:"vf-card__heading"},"Latest studies"),l.createElement(j,null)),$=({title:e,header:t,image:a,excerpt:s,url:n})=>{return l.createElement(i,{className:"blog"},l.createElement("h3",{className:"vf-card__heading"},e),l.createElement(r,{image:a,title:t,label:(c=s,c.replace(/&lt;.+?&gt;/g,"").trim()),to:n,externalLink:!0}));var c},z=()=>{const e=("feed-first-of-each.json",m(`${o.tQ}feed-first-of-each.json`));return e?l.createElement("div",null,l.createElement("div",{className:"vf-grid"},e.spotlight&&l.createElement($,{title:"Spotlight",header:e.spotlight.title,image:e.spotlight.image,excerpt:e.spotlight.excerpt,url:e.spotlight.url}),e.tools&&l.createElement($,{title:"Tools",header:e.tools.title,image:e.tools.image,excerpt:e.tools.excerpt,url:e.tools.url})),l.createElement("div",{className:"mg-right",style:{marginTop:"0.2em"}},l.createElement("a",{href:o.tQ,className:"vf-button vf-button--primary"},"View all articles"))):l.createElement(c.Z,{size:"large"})},S=()=>l.createElement("section",{className:"vf-content vf-stack--600"},l.createElement("h2",null,"Getting started"),l.createElement("div",{className:"vf-grid"},l.createElement(w,null),l.createElement(q,null)),l.createElement("hr",null),l.createElement(z,null))}}]);
//# sourceMappingURL=685.7832d38d.chunk.js.map