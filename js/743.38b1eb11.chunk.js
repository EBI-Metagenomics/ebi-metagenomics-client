"use strict";(self.webpackChunkmgportalv2=self.webpackChunkmgportalv2||[]).push([[743],{5222:(e,a,t)=>{t.d(a,{Z:()=>y});var l=t(7294),s=t(9711),i=t(7338);const n=(r={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},function(e){return null==r?void 0:r[e]});var r,o=/&(?:amp|lt|gt|quot|#39);/g,d=RegExp(o.source);var c=t(402),m=t(1699),u=t(6313),v=t(8110),p=t(964),b=t(5058),g=t(121);const y=({rootEndpoint:e})=>{var a,t,r,y,E;const h=(0,p.Z)(),[f]=(0,g.Z)("analyses-page",1,Number),[Z]=(0,g.Z)("analyses-page_size",10,Number),[w]=(0,g.Z)("analyses-order",""),{data:_,loading:N,error:S,isStale:$,downloadURL:x}=(0,v.Z)(`${e}/${h}/analyses`,{include:"sample",page:f,ordering:w,page_size:Z});if(N&&!$)return l.createElement(c.Z,{size:"small"});if(S||!_)return l.createElement(m.Z,{error:S});if(!_.data.length)return null;const k={};null===(a=_.included||[])||void 0===a||a.filter((({type:e})=>"samples"===e)).forEach((e=>{k[e.id]={description:e.attributes["sample-desc"],biome:e.relationships.biome.data.id}}));const C=[{id:"biome_id",Header:"Biome",accessor:e=>{var a,t,l,s;return(null===(s=null==k?void 0:k[null===(l=null===(t=null===(a=null==e?void 0:e.relationships)||void 0===a?void 0:a.sample)||void 0===t?void 0:t.data)||void 0===l?void 0:l.id])||void 0===s?void 0:s.biome)||""},Cell:({cell:e})=>l.createElement("span",{className:`biome_icon icon_xs ${(0,b.G)(e.value)}`,style:{float:"initial"}}),className:"mg-biome"},{id:"sample",Header:"Sample accession",accessor:e=>{var a,t,l;return null===(l=null===(t=null===(a=null==e?void 0:e.relationships)||void 0===a?void 0:a.sample)||void 0===t?void 0:t.data)||void 0===l?void 0:l.id},Cell:({cell:e})=>l.createElement(s.rU,{to:`/samples/${e.value}`},e.value)},{id:"description_id",Header:"Sample description",accessor:e=>{var a,t,l,s;return(null===(s=null==k?void 0:k[null===(l=null===(t=null===(a=null==e?void 0:e.relationships)||void 0===a?void 0:a.sample)||void 0===t?void 0:t.data)||void 0===l?void 0:l.id])||void 0===s?void 0:s.description)||""},Cell:({cell:e})=>{return a=e.value,(a=(0,i.Z)(a))&&d.test(a)?a.replace(o,n):a;var a}},{id:"assembly_run_id",Header:" Run / Assembly accession",accessor:e=>{var a,t,l,s,i,n;return{assembly:(null===(l=null===(t=null===(a=null==e?void 0:e.relationships)||void 0===a?void 0:a.assembly)||void 0===t?void 0:t.data)||void 0===l?void 0:l.id)||"",run:(null===(n=null===(i=null===(s=null==e?void 0:e.relationships)||void 0===s?void 0:s.run)||void 0===i?void 0:i.data)||void 0===n?void 0:n.id)||""}},Cell:({cell:e})=>l.createElement(l.Fragment,null,e.value.assembly&&l.createElement(s.rU,{to:`/assemblies/${e.value.assembly}`},e.value.assembly),e.value.run&&l.createElement(s.rU,{to:`/runs/${e.value.run}`},e.value.run))},{id:"pipeline_id",Header:"Pipeline version",accessor:e=>e.attributes["pipeline-version"],Cell:({cell:e})=>l.createElement(s.rU,{to:`/pipelines/${e.value}`},e.value)},{id:"analysis_id",Header:"Analysis accession",accessor:e=>e.id,Cell:({cell:e})=>l.createElement(s.rU,{to:`/analyses/${e.value}`},e.value)}],H=((null===(r=null===(t=_.meta)||void 0===t?void 0:t.pagination)||void 0===r?void 0:r.count)||1)>10;return l.createElement(u.Z,{cols:C,data:_,Title:l.createElement("div",null,"Analyses",l.createElement("span",{className:"mg-number"},(null===(E=null===(y=_.meta)||void 0===y?void 0:y.pagination)||void 0===E?void 0:E.count)||1)),initialPage:f-1,initialPageSize:10,className:"mg-anlyses-table",loading:N,isStale:$,namespace:"analyses-",showPagination:H,downloadURL:x})}},5608:(e,a,t)=>{t.d(a,{Z:()=>u});var l=t(7294),s=t(9711),i=t(402),n=t(1699),r=t(6313),o=t(8110),d=t(964),c=t(9980),m=t(121);const u=({rootEndpoint:e})=>{var a,t;const u=(0,d.Z)(),[v]=(0,m.Z)("assembly-page",1,Number),[p]=(0,m.Z)("assembly-search",""),[b]=(0,m.Z)("assembly-page_size",10,Number),[g]=(0,m.Z)("assembly-order",""),y=((e,a)=>"runs"===e?`runs/${a}/assemblies`:"assemblies")(e,u),{data:E,loading:h,error:f,isStale:Z,downloadURL:w}=(0,o.Z)(y,{sample_accession:"samples"===e?u:void 0,page:v,ordering:g,page_size:b,search:p});if(h&&!Z)return l.createElement(i.Z,{size:"small"});if(f||!E)return l.createElement(n.Z,{error:f});if(!E.data.length&&!p)return l.createElement(c.Z,{type:"info",title:"No associated assemblies found."});const _=[{Header:"Assembly ID",id:"accession",accessor:"id",Cell:({cell:e})=>l.createElement(s.rU,{to:`/assemblies/${e.value}`},e.value)},{Header:"Experiment type",accessor:"attributes.experiment-type",disableSortBy:!0},{Header:"WGS ID",accessor:"attributes.wgs-accession",disableSortBy:!0},{Header:"Legacy ID",accessor:"attributes.legacy-accession",disableSortBy:!0},{Header:"Pipeline versions",accessor:"relationships.pipelines.data",disableSortBy:!0,Cell:({cell:e})=>e.value.map((({id:e})=>e)).join(", ")}],N=((null===(t=null===(a=E.meta)||void 0===a?void 0:a.pagination)||void 0===t?void 0:t.count)||1)>10;return l.createElement(r.Z,{cols:_,data:E,initialPage:v-1,initialPageSize:10,className:"mg-assembly-table",loading:h,isStale:Z,sortable:!0,showTextFilter:!0,namespace:"assembly-",showPagination:N,downloadURL:w})}},5478:(e,a,t)=>{t.d(a,{Z:()=>s});var l=t(7294);const s=({label:e,theme:a="primary",children:t,dataCy:s})=>l.createElement("div",{className:"vf-grid","data-cy":s},l.createElement("div",{className:`vf-box vf-box--easy vf-box-theme--${a}`},l.createElement("h5",{className:"vf-box__heading"},e),l.createElement("div",{className:"vf-box__text"},t)))},3415:(e,a,t)=>{t.d(a,{Z:()=>s});var l=t(7294);const s=({list:e,dataCy:a})=>l.createElement("div",{className:"vf-grid vf-grid__col-2",style:{gridTemplateColumns:"1fr 2fr",rowGap:"0.5rem"},"data-cy":a},e.map((({key:e,value:a})=>l.createElement(l.Fragment,{key:e},l.createElement("div",{style:{textAlign:"right"}},e,":"),l.createElement("div",null,"string"==typeof a?a:l.createElement(a,null))))))},964:(e,a,t)=>{t.d(a,{Z:()=>s});var l=t(6974);const s=()=>{const e=(0,l.TH)();let{pathname:a}=e;a.trim().endsWith("/")&&(a=a.trim().slice(0,-1));const t=a.split("/");return null==t?void 0:t[t.length-1]}},4743:(e,a,t)=>{t.r(a),t.d(a,{default:()=>b});var l=t(7294),s=t(8110),i=t(964),n=t(402),r=t(1699),o=t(5478),d=t(3415),c=t(2531),m=t(9711),u=t(5608),v=t(5222),p=t(8101);const b=()=>{const e=(0,i.Z)(),{data:a,loading:t,error:b}=(0,s.Z)(`runs/${e}`);if(t)return l.createElement(n.Z,{size:"large"});if(b)return l.createElement(r.Z,{error:b});if(!a)return l.createElement(n.Z,null);const{data:g}=a,y=[{key:"Study",value:()=>g.relationships.study.data?l.createElement(m.rU,{to:`/studies/${g.relationships.study.data.id}`},g.relationships.study.data.id):l.createElement(c.Z,{href:`${p.sn}${g.attributes["ena-study-accession"]}`},g.attributes["ena-study-accession"])},{key:"Sample",value:()=>l.createElement(m.rU,{to:`/samples/${g.relationships.sample.data.id}`},g.relationships.sample.data.id)},{key:"ENA accession",value:()=>l.createElement(c.Z,{href:`${p.sn}${g.id}`},g.id)},{key:"Experiment type",value:String(g.attributes["experiment-type"])},{key:"Instrument model",value:String(g.attributes["instrument-model"])},{key:"\tInstrument platform type",value:String(g.attributes["instrument-platform"])}];return l.createElement("section",{className:"vf-content"},l.createElement("h2",null,"Run: ",(null==g?void 0:g.id)||""),l.createElement("section",{className:"vf-grid"},l.createElement("div",{className:"vf-stack vf-stack--200"},l.createElement(o.Z,{label:"Description"},l.createElement(d.Z,{list:y})),g.relationships.analyses.data&&l.createElement(o.Z,{label:"Associated analyses"},l.createElement(v.Z,{rootEndpoint:"runs"})),l.createElement(o.Z,{label:"Associated assemblies"},l.createElement(u.Z,{rootEndpoint:"runs"})))))}},8101:(e,a,t)=>{t.d(a,{sn:()=>l,bV:()=>s,QD:()=>i,s8:()=>n,mL:()=>r,gM:()=>o});const l="https://www.ebi.ac.uk/ena/browser/view/",s=" https://img.jgi.doe.gov/cgi-bin/m/main.cgi?section=TaxonDetail&page=taxonDetail&taxon_oid=",i="https://www.ncbi.nlm.nih.gov/assembly/",n="https://www.ncbi.nlm.nih.gov/biosample/?term=",r="https://www.ncbi.nlm.nih.gov/bioproject/",o="https://www.patricbrc.org/view/Genome/"}}]);
//# sourceMappingURL=743.38b1eb11.chunk.js.map