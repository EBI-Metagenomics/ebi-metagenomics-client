(self.webpackChunkmgportalv2=self.webpackChunkmgportalv2||[]).push([[746],{746:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>x});var s=a(294);const n=()=>s.createElement("svg",{"aria-hidden":"true",className:"vf-card__heading__icon | vf-icon vf-icon-arrow--inline-end",width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg"},s.createElement("path",{d:"M0 12c0 6.627 5.373 12 12 12s12-5.373 12-12S18.627 0 12 0C5.376.008.008 5.376 0 12zm13.707-5.209l4.5 4.5a1 1 0 010 1.414l-4.5 4.5a1 1 0 01-1.414-1.414l2.366-2.367a.25.25 0 00-.177-.424H6a1 1 0 010-2h8.482a.25.25 0 00.177-.427l-2.366-2.368a1 1 0 011.414-1.414z",fill:"currentColor",fillRule:"nonzero"}));var l=a(727);const r=({title:e,label:t,to:a})=>s.createElement("article",{className:"vf-card vf-card--striped vf-card--bordered"},s.createElement("div",{className:"vf-card__content | vf-stack vf-stack--400"},s.createElement("p",{className:"vf-card__text"},t),s.createElement("h3",{className:"vf-card__heading"},s.createElement(l.rU,{className:"vf-card__link",to:a},e," ",s.createElement(n,null))))),i=({children:e,className:t=""})=>s.createElement("article",{className:`vf-card vf-card--brand vf-card--bordered ${t}`},s.createElement("div",{className:"vf-card__content | vf-stack vf-stack--400"},e));var c=a(150);const o=e=>{const[t,a]=(0,s.useState)(null);return(0,s.useEffect)((()=>{!function(e,t){var a,s,n,l;a=this,s=void 0,l=function*(){const a=yield fetch(e),s=yield a.json();t(s)},new((n=void 0)||(n=Promise))((function(e,t){function r(e){try{c(l.next(e))}catch(e){t(e)}}function i(e){try{c(l.throw(e))}catch(e){t(e)}}function c(t){var a;t.done?e(t.value):(a=t.value,a instanceof n?a:new n((function(e){e(a)}))).then(r,i)}c((l=l.apply(a,s||[])).next())}))}(e,a)}),[e]),t},m=(e,t={})=>{const a=Object.assign(Object.assign({},{format:"json",start:0}),t),s=`${c.l0}${e}?${Object.entries(a).map((([e,t])=>`${e}=${t}`)).join("&")}`;return o(s)},d=(e,t={})=>{const a=Object.assign(Object.assign({},{}),t);let s=`${c.hi}${e}`;return Object.keys(a).length>0&&(s+=`?${Object.entries(a).map((([e,t])=>`${e}=${t}`)).join("&")}`),o(s)},u=({type:e,label:t,link:a})=>{const n=m("metagenomics_analyses",{query:"domain_source:metagenomics_analyses",size:0,fields:"id,name,description,biome_name,metagenomics_samples",facetcount:0,facetsdepth:5,facets:`experiment_type:${e}`});return n?s.createElement("tr",{className:"vf-table__row"},s.createElement("td",{className:"vf-table__cell",style:{textAlign:"right"}},s.createElement(l.rU,{to:a,className:"mg-link"},(null==n?void 0:n.hitCount)||"...")),s.createElement("td",{className:"vf-table__cell"},t)):null},v=({label:e,endpoint:t,link:a})=>{const n=m(t,{query:`domain_source:${t}`,size:0,fields:"id,name,description,biome_name,metagenomics_samples",facetcount:0,facetsdepth:5});return n?s.createElement("tr",{className:"vf-table__row"},s.createElement("td",{className:"vf-table__cell",style:{textAlign:"right"}},s.createElement(l.rU,{to:a,className:"mg-link"},(null==n?void 0:n.hitCount)||"??")),s.createElement("td",{className:"vf-table__cell"},e)):null},b=()=>s.createElement("div",{className:"vf-grid vf-grid__col-4",style:{fontSize:"0.7rem"}},s.createElement("div",{style:{textAlign:"right"}},s.createElement("span",{className:"icon icon-conceptual icon-c3",style:{fontSize:"2rem"},"data-icon":"d"})),s.createElement("table",{className:"vf-table mg-small-table"},s.createElement("tbody",{className:"vf-table__body"},[{type:"amplicon",label:"amplicon",link:""},{type:"assembly",label:"assemblies",link:""},{type:"metabarcoding",label:"metabarcoding",link:""},{type:"metagenomic",label:"metagenomes",link:""},{type:"metatranscriptomic",label:"metatranscriptomics",link:""}].map((({type:e,label:t,link:a})=>s.createElement(u,{type:e,label:t,link:a,key:e}))))),s.createElement("div",{style:{textAlign:"right"}},s.createElement("span",{className:"icon icon-functional icon-c9",style:{fontSize:"2rem"},"data-icon":"U"})),s.createElement("table",{className:"vf-table mg-small-table"},s.createElement("tbody",{className:"vf-table__body"},[{label:"studies",endpoint:"metagenomics_projects",link:"/search#projects"},{label:"samples",endpoint:"metagenomics_samples",link:"/search#samples"},{label:"analyses",endpoint:"metagenomics_analyses",link:"/search#analyses"}].map((({endpoint:e,label:t,link:a})=>s.createElement(v,{endpoint:e,label:t,link:a,key:e}))))));var _=a(402);const f={"root:engineered":"engineered_b"},h={"root:engineered:wastewater":"wastewater_b","root:environmental:air":"air_b","root:host-associated:amphibia":"amphibian_b","root:host-associated:arthropoda":"arthropoda_b","root:host-associated:fish":"fish_b","root:host-associated:human":"human_host_b","root:host-associated:insecta":"insect_b","root:host-associated:mammals":"mammals_b","root:host-associated:mollusca":"mollusca_b","root:host-associated:plants":"plant_host_b","root:host-associated:porifera":"porifera_b"},g={"root:environmental:aquatic:freshwater":"freshwater_b","root:environmental:aquatic:marine":"marine_b","root:environmental:aquatic:thermal springs":"hotspring_b","root:environmental:terrestrial:soil":"soil_b","root:environmental:terrestrial:volcanic":"vulcano_b","root:host-associated:human:digestive system":"human_gut_b","root:host-associated:human:skin":"skin_b"},p={"root:environmental:aquatic:freshwater:drinking water":"drinking_water_b","root:environmental:aquatic:freshwater:groundwater":"groundwater_b","root:environmental:aquatic:freshwater:ice":"ice_b","root:environmental:aquatic:freshwater:lake":"lake_b","root:environmental:aquatic:freshwater:lotic":"river_b","root:environmental:aquatic:marine:hydrothermal vents":"hydrothermal_vents_b","root:environmental:terrestrial:soil:wetlands":"wetlands_b","root:host-associated:human:digestive system:oral":"mouth_b","root:host-associated:human:respiratory system:pulmonary system":"lung_b","root:host-associated:mammals:nervous system:brain":"brain_b"},E={"root:environmental:aquatic:freshwater:groundwater:cave water":"cave_b","root:environmental:aquatic:freshwater:ice:glacier":"glacier_b","root:environmental:terrestrial:soil:grasslands":"grassland_b","root:environmental:terrestrial:soil:loam:forest soil":"forest_b","root:environmental:terrestrial:soil:sand:desert":"desert_b"};function y(e){const t=(e||"").split(":").map((e=>e.toLowerCase())),a=t.slice(0,2).join(":"),s=t.slice(0,3).join(":"),n=t.slice(0,4).join(":"),l=t.slice(0,5).join(":"),r=t.slice(0,6).join(":");return E[r]||p[l]||g[n]||h[s]||f[a]||"default_b"}const N=({lineage:e,name:t,count:a})=>s.createElement("div",null,s.createElement(l.rU,{to:`/metagenomics/browse?lineage=${e}#studies`,className:"vf-grid vf-grid__col-1 mg-link",style:{textAlign:"center",gridRowGap:"0.2em"}},s.createElement("div",null,s.createElement("span",{className:`biome_icon icon_sm ${y(e)}`,style:{float:"initial"}})),s.createElement("div",{className:"biome-text"}," ",t," (",a,")"))),k=()=>{const e=d("biomes/top10",{ordering:"-samples_count"});return e?s.createElement("section",{className:"vf-stack vf-stack--200 search-by-biomes-section"},s.createElement("div",{className:"vf-grid vf-grid__col-5"},e.data.map((({id:e,attributes:t})=>s.createElement(N,{key:e,lineage:e,name:t["biome-name"],count:t["samples-count"]})))),s.createElement("div",{className:"mg-right"},s.createElement(l.rU,{to:"/biomes/",className:"vf-button vf-button--primary"},"View all biomes"))):s.createElement(_.Z,null)},w=()=>s.createElement(i,{className:"search-by-section"},s.createElement("h3",{className:"vf-card__heading"},"Search by"),s.createElement("div",{className:"vf-grid"},s.createElement(r,{title:"Text search",label:"Name, biome, or keyword",to:"/search"}),s.createElement(r,{title:"Sequence search",label:"Sequence search",to:"/sequence-search"})),s.createElement("h3",{className:"vf-card__heading"},"Or by data type"),s.createElement(b,null),s.createElement("h3",{className:"vf-card__heading"},"Or by selected biomes"),s.createElement(k,null)),q=({id:e,name:t,abstract:a,lineage:n})=>{const r=y(n);return s.createElement("article",{className:"vf-summary vf-summary--has-image study"},s.createElement("span",{className:`biome_icon icon_xs ${r}`}),s.createElement("h3",{className:"vf-summary__title"},s.createElement(l.rU,{to:`/studies/${e}`,className:"vf-summary__link"},t)),s.createElement("p",{className:"vf-summary__text"},a.substring(0,250),a.length>=250&&"..."),s.createElement("div",{className:"vf-summary__text vf-grid"},s.createElement(l.rU,{to:`/studies/${e}`,className:"vf-button vf-button--sm"},"View more"),s.createElement(l.rU,{to:`/studies/${e}#samples-section`,className:"vf-button vf-button--sm"},"Samples")))},$=()=>{const e=d("studies/recent");return e?s.createElement("section",{className:"vf-stack vf-stack--200"},s.createElement("div",{className:"vf-grid vf-grid__col-1 latest-studies-section"},e.data.map((({id:e,attributes:t,relationships:a})=>{var n,l,r;return s.createElement(q,{key:e,id:e,name:t["study-name"],abstract:t["study-abstract"],lineage:null===(r=null===(l=null===(n=null==a?void 0:a.biomes)||void 0===n?void 0:n.data)||void 0===l?void 0:l[0])||void 0===r?void 0:r.id})}))),s.createElement("div",{className:"mg-right"},s.createElement(l.rU,{to:"/browse/studies/",className:"vf-button vf-button--primary"},"View all studies"))):s.createElement(_.Z,null)},j=()=>s.createElement(i,{className:"request-by-section"},s.createElement("h3",{className:"vf-card__heading"},"Request analysis of"),s.createElement("div",{className:"vf-grid"},s.createElement(r,{title:"Submit and/or Request",label:"Your data",to:"/"}),s.createElement(r,{title:"Request",label:"A public dataset",to:"/"})),s.createElement("h3",{className:"vf-card__heading"},"Latest studies"),s.createElement($,null)),x=()=>s.createElement("section",{className:"vf-content vf-stack--600"},s.createElement("h2",null,"Getting started"),s.createElement("div",{className:"vf-grid"},s.createElement(w,null),s.createElement(j,null)))}}]);
//# sourceMappingURL=746.0fdfde94.chunk.js.map