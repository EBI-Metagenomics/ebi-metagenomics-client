"use strict";(self.webpackChunkmgportalv2=self.webpackChunkmgportalv2||[]).push([[766],{8914:(e,l,a)=>{a.d(l,{Z:()=>m});var i=a(7294),n=a(9711),s=a(6486),t=a(402),r=a(1699),o=a(6313),d=a(8110),c=a(964),v=a(2119),u=a(5058);const m=({rootEndpoint:e})=>{var l,a,m;const p=(0,c.Z)(),[g]=(0,v.B)({"analyses-page":1,"analyses-page_size":10,"analyses-order":""},{"analyses-page":Number,"analyses-page_size":Number}),{data:y,loading:E,error:b,isStale:f}=(0,d.Z)(`${e}/${p}/analyses`,{include:"sample",page:g["analyses-page"],ordering:g["analyses-order"],page_size:g["analyses-page_size"]});if(E&&!f)return i.createElement(t.Z,{size:"small"});if(b||!y)return i.createElement(r.Z,{error:b});if(!y.data.length)return null;const h={};null===(l=y.included)||void 0===l||l.filter((({type:e})=>"samples"===e)).forEach((e=>{h[e.id]={description:e.attributes["sample-desc"],biome:e.relationships.biome.data.id}}));const Z=[{id:"biome_id",Header:"Biome",accessor:e=>{var l,a,i,n;return(null===(n=null==h?void 0:h[null===(i=null===(a=null===(l=null==e?void 0:e.relationships)||void 0===l?void 0:l.sample)||void 0===a?void 0:a.data)||void 0===i?void 0:i.id])||void 0===n?void 0:n.biome)||""},Cell:({cell:e})=>i.createElement("span",{className:`biome_icon icon_xs ${(0,u.G)(e.value)}`,style:{float:"initial"}})},{id:"sample",Header:"Sample accession",accessor:e=>{var l,a,i;return null===(i=null===(a=null===(l=null==e?void 0:e.relationships)||void 0===l?void 0:l.sample)||void 0===a?void 0:a.data)||void 0===i?void 0:i.id},Cell:({cell:e})=>i.createElement(n.rU,{to:`/samples/${e.value}`},e.value)},{id:"description_id",Header:"Sample description",accessor:e=>{var l,a,i,n;return(null===(n=null==h?void 0:h[null===(i=null===(a=null===(l=null==e?void 0:e.relationships)||void 0===l?void 0:l.sample)||void 0===a?void 0:a.data)||void 0===i?void 0:i.id])||void 0===n?void 0:n.description)||""},Cell:({cell:e})=>(0,s.unescape)(e.value)},{id:"assembly_id",Header:" Run / Assembly accession",accessor:e=>{var l,a,i;return(null===(i=null===(a=null===(l=null==e?void 0:e.relationships)||void 0===l?void 0:l.assembly)||void 0===a?void 0:a.data)||void 0===i?void 0:i.id)||""},Cell:({cell:e})=>i.createElement(n.rU,{to:`/assemblies/${e.value}`},e.value)},{id:"pipeline_id",Header:"Pipeline version",accessor:e=>e.attributes["pipeline-version"],Cell:({cell:e})=>i.createElement(n.rU,{to:`/pipelines/${e.value}`},e.value)},{id:"analysis_id",Header:"Analysis accession",accessor:e=>e.id,Cell:({cell:e})=>i.createElement(n.rU,{to:`/analyses/${e.value}`},e.value)}],k=((null===(m=null===(a=y.meta)||void 0===a?void 0:a.pagination)||void 0===m?void 0:m.count)||1)>10;return i.createElement(o.Z,{cols:Z,data:y,title:"Analyses",initialPage:g["analyses-page"]-1,initialPageSize:10,className:"mg-anlyses-table",loading:E,isStale:f,namespace:"analyses-",showPagination:k})}},3415:(e,l,a)=>{a.d(l,{Z:()=>n});var i=a(7294);const n=({list:e})=>i.createElement("div",{className:"vf-grid vf-grid__col-2",style:{gridTemplateColumns:"1fr 2fr",rowGap:"0.5rem"}},e.map((({key:e,value:l})=>i.createElement(i.Fragment,{key:e},i.createElement("div",{style:{textAlign:"right"}},e,":"),i.createElement("div",null,"string"==typeof l?l:i.createElement(l,null))))))},7631:(e,l,a)=>{a.r(l),a.d(l,{default:()=>m});var i=a(7294),n=a(8110),s=a(964),t=a(402),r=a(1699),o=a(5478),d=a(3415),c=a(2531),v=a(9711),u=a(8914);const m=()=>{var e,l,a,m,p,g;const y=(0,s.Z)(),{data:E,loading:b,error:f}=(0,n.Z)(`assemblies/${y}`);if(b)return i.createElement(t.Z,{size:"large"});if(f)return i.createElement(r.Z,{error:f});if(!E)return i.createElement(t.Z,null);const{data:h}=E,Z=[{key:"Sample",value:(null===(a=null===(l=null===(e=null==h?void 0:h.relationships)||void 0===e?void 0:e.samples)||void 0===l?void 0:l.data)||void 0===a?void 0:a.length)?()=>i.createElement(i.Fragment,null,h.relationships.samples.data.map((e=>i.createElement(v.rU,{to:`/samples/${e.id}`,key:e.id},e.id," ")))):null},{key:"Runs",value:(null===(g=null===(p=null===(m=null==h?void 0:h.relationships)||void 0===m?void 0:m.runs)||void 0===p?void 0:p.data)||void 0===g?void 0:g.length)?()=>i.createElement(i.Fragment,null,h.relationships.runs.data.map((e=>i.createElement(v.rU,{to:`/runs/${e.id}`,key:e.id},e.id," ")))):null},{key:"ENA accession",value:()=>i.createElement(c.Z,{href:`https://www.ebi.ac.uk/ena/browser/view/${null==h?void 0:h.id}`},null==h?void 0:h.id)},{key:"Legacy accession",value:h.attributes["legacy-accession"]}].filter((({value:e})=>Boolean(e)));return i.createElement("section",{className:"vf-content"},i.createElement("h2",null,"Assembly: ",(null==h?void 0:h.id)||""),i.createElement("section",{className:"vf-grid"},i.createElement("div",{className:"vf-stack vf-stack--200"},i.createElement(o.Z,{label:"Description"},i.createElement(d.Z,{list:Z})),i.createElement(o.Z,{label:"Associated analyses"},i.createElement(u.Z,{rootEndpoint:"assemblies"})))))}}}]);
//# sourceMappingURL=766.2a2a796f.chunk.js.map