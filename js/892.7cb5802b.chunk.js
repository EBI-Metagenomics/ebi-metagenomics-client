"use strict";(self.webpackChunkmgportalv2=self.webpackChunkmgportalv2||[]).push([[892],{1274:(e,a,t)=>{t.d(a,{Z:()=>n});var r=t(7294),l=t(6974);const n=({hash:e,isDefault:a=!1,children:t})=>{const n=(0,l.TH)(),c=(0,l.s0)();return(0,r.useEffect)((()=>{""===n.hash&&""!==e&&a&&c(e,{replace:!0})})),n.hash===e?r.createElement("div",{id:`tab-${e.slice(1)||"default"}`},t):null}},2069:(e,a,t)=>{t.d(a,{Z:()=>l});var r=t(7294);const l=()=>r.createElement("svg",{"aria-hidden":"true",className:"vf-card__heading__icon | vf-icon vf-icon-arrow--inline-end",width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",preserveAspectRatio:"none"},r.createElement("path",{d:"M0 12c0 6.627 5.373 12 12 12s12-5.373 12-12S18.627 0 12 0C5.376.008.008 5.376 0 12zm13.707-5.209l4.5 4.5a1 1 0 010 1.414l-4.5 4.5a1 1 0 01-1.414-1.414l2.366-2.367a.25.25 0 00-.177-.424H6a1 1 0 010-2h8.482a.25.25 0 00.177-.427l-2.366-2.368a1 1 0 011.414-1.414z",fill:"currentColor",fillRule:"nonzero"}))},2174:(e,a,t)=>{t.d(a,{Z:()=>n});var r=t(7294);const l=({tree:e,depth:a=0,shouldExpand:t=!0,collapsing:n=!1,getLabel:c=(e=>e.name),triggerExpandAll:s=!1,triggerCollapseAll:o=!1})=>{var i;const[m,d]=(0,r.useState)(t),[u,g]=(0,r.useState)(s),[v,h]=(0,r.useState)(!1),[E,f]=(0,r.useState)(!1);return(0,r.useEffect)((()=>h(!0)),[]),(0,r.useEffect)((()=>{E&&setTimeout((()=>d(!1)),400)}),[E]),(0,r.useEffect)((()=>{s&&(d(!0),g(!0),setTimeout((()=>g(!1)),400))}),[s]),(0,r.useEffect)((()=>{o&&d(!1)}),[o]),r.createElement("div",{style:{marginLeft:.5*a+"rem"}},r.createElement("div",{className:"mg-hierarchy-selector "+(v&&!n?"show":"")},(null===(i=e.children)||void 0===i?void 0:i.length)?r.createElement("button",{type:"button",className:"mg-expander",onClick:()=>{f(m),m||d(!0)}},m?"▾":"▸"):r.createElement("span",{className:"mg-hierarchy-spacer"}),r.createElement("div",null,r.createElement("span",{className:"mg-hierarchy-label"},c(e)," ",e.countgen&&r.createElement("span",{className:"mg-number"},e.countgen)))),e.children&&e.children.length>0&&m&&e.children.map((t=>r.createElement(l,{key:t.name,tree:t,depth:a+1,shouldExpand:1===e.countgen&&1===t.countgen,getLabel:c,collapsing:E,triggerExpandAll:u}))))},n=l},964:(e,a,t)=>{t.d(a,{Z:()=>l});var r=t(6974);const l=()=>{const e=(0,r.TH)();let{pathname:a}=e;a.trim().endsWith("/")&&(a=a.trim().slice(0,-1));const t=a.split("/");return null==t?void 0:t[t.length-1]}},7410:(e,a,t)=>{t.r(a),t.d(a,{default:()=>S});var r=t(7294),l=t(7247),n=t(8110),c=t(964),s=t(402),o=t(1699),i=t(4821),m=t(9711),d=t(6313),u=t(5058),g=t(5457),v=t(121),h=t(7565);const E=()=>{const e=(0,c.Z)(),[a]=(0,v.Z)("genomes-page",1,Number),[t]=(0,v.Z)("genomes-page_size",10,Number),[l]=(0,v.Z)("genomes-order",""),[i]=(0,v.Z)("genomes-search",""),{data:E,loading:f,error:p,isStale:b}=(0,n.Z)(`genome-catalogues/${e}/genomes`,{page:a,ordering:l,page_size:t,search:i});if(f&&!b)return r.createElement(s.Z,{size:"small"});if(p||!E)return r.createElement(o.Z,{error:p});const _=[{id:"biome_id",Header:"Biome",accessor:e=>{var a;return null===(a=e.relationships.biome.data)||void 0===a?void 0:a.id},Cell:({cell:e})=>r.createElement("span",{className:`biome_icon icon_xs ${(0,u.G)(e.value)}`,style:{float:"initial"}}),disableSortBy:!0,className:"mg-biome"},{id:"genome",Header:"Accession",accessor:"id",Cell:({cell:e})=>r.createElement(m.rU,{to:`/genomes/${e.value}`},e.value)},{Header:"Length",accessor:"attributes.length"},{Header:"Num. of genomes",accessor:"attributes.num-genomes-total"},{Header:"Completeness",accessor:"attributes.completeness"},{Header:"Contamination",accessor:"attributes.contamination"},{Header:"Type",accessor:"attributes.type",disableSortBy:!0},{Header:"Taxonomy",accessor:"attributes.taxon-lineage",Cell:({cell:e})=>r.createElement(r.Fragment,null,(0,g.FS)(e.value,!0)," ",r.createElement(h.Z,{content:(0,g.wK)(e.value," > ")},r.createElement("sup",null,r.createElement("span",{className:"icon icon-common icon-info"})))),disableSortBy:!0},{id:"last_update",Header:"Last Updated",accessor:"attributes.last-update",Cell:({cell:e})=>new Date(e.value).toLocaleDateString()}];return r.createElement(d.Z,{Title:"Species-level cluster representatives",cols:_,data:E,initialPage:a-1,initialPageSize:10,className:"mg-anlyses-table",loading:f,isStale:b,namespace:"genomes-",showTextFilter:!0,sortable:!0})};var f=t(2174);const p=()=>{const e=(0,c.Z)(),{data:a,loading:t,error:l}=(0,n.Z)(`genome-catalogues/${e}/downloads/phylo_tree.json`);return t?r.createElement(s.Z,{size:"large"}):l?r.createElement(o.Z,{error:l}):a?r.createElement(f.Z,{tree:a,getLabel:e=>{const a=e.name.split("__").pop();return"genome"===e.type?r.createElement(m.rU,{to:`/genomes/${a}`,style:{backgroundColor:"white"}},a):a||"Unknown"}}):r.createElement(s.Z,null)};var b=t(6027),_=t(5625),N=t(1274),Z=t(2069),y=t(6050),w=t(2531);const k=[{label:"Genome list",to:"#"},{label:"Taxonomy tree",to:"#phylo-tab"},{label:"Protein catalogue",to:"#protein-catalog-tab"},{label:"Search by Gene",to:"#genome-search-tab"},{label:"Search by MAG",to:"#genome-search-mag-tab"}],S=()=>{const e=(0,c.Z)(),{config:a}=(0,r.useContext)(y.ZP),{data:t,loading:m,error:d}=(0,n.Z)(`genome-catalogues/${e}`);if(m)return r.createElement(s.Z,{size:"large"});if(d)return r.createElement(o.Z,{error:d});if(!t)return r.createElement(s.Z,null);const{data:u}=t;return r.createElement("section",{className:"vf-content"},r.createElement("h2",null,u.attributes.name),r.createElement("section",{className:"vf-card-container vf-card-container__col-4"},r.createElement("div",{className:"vf-card-container__inner"},r.createElement("article",{className:"vf-card vf-card--brand vf-card--bordered"},r.createElement("div",{className:"vf-card__content | vf-stack vf-stack--200"},r.createElement("h3",{className:"vf-card__heading"},u.attributes["unclustered-genome-count"]),r.createElement("p",{className:"vf-card__subheading"},"Total genomes"))),r.createElement("article",{className:"vf-card vf-card--brand vf-card--bordered"},r.createElement("div",{className:"vf-card__content | vf-stack vf-stack--200"},r.createElement("h3",{className:"vf-card__heading"},u.attributes["genome-count"]),r.createElement("p",{className:"vf-card__subheading"},"Species-level clusters"))),r.createElement("article",{className:"vf-card vf-card--brand vf-card--bordered"},r.createElement("div",{className:"vf-card__content | vf-stack vf-stack--200"},r.createElement("h3",{className:"vf-card__heading"},r.createElement("a",{href:u.attributes["ftp-url"]},"FTP Site",r.createElement(Z.Z,null))),r.createElement("p",{className:"vf-card__subheading"},"Download full catalogue"))),r.createElement("article",{className:"vf-card vf-card--brand vf-card--bordered"},r.createElement("div",{className:"vf-card__content | vf-stack vf-stack--200"},r.createElement("h3",{className:"vf-card__heading"},r.createElement(w.Z,{href:`${a.magsPipelineRepo}/releases/tag/${u.attributes["pipeline-version-tag"]}`},"Pipeline ",u.attributes["pipeline-version-tag"])),r.createElement("p",{className:"vf-card__subheading"},"View workflow & tools"))))),r.createElement("div",null,r.createElement(l.D,null,u.attributes.description)),r.createElement(i.Z,{tabs:k}),r.createElement("section",{className:"vf-grid"},r.createElement("div",{className:"vf-stack vf-stack--200"},r.createElement(N.Z,{hash:"",isDefault:!0},r.createElement(E,null)),r.createElement(N.Z,{hash:"#phylo-tab"},r.createElement(p,null)),r.createElement(N.Z,{hash:"#genome-search-tab"},r.createElement(b.Z,{catalogueName:u.attributes.name,catalogueID:u.id})),r.createElement(N.Z,{hash:"#genome-search-mag-tab"},r.createElement(_.Z,{catalogueName:u.attributes.name,catalogueID:u.id})),r.createElement(N.Z,{hash:"#protein-catalog-tab"},r.createElement("h3",null,u.attributes["protein-catalogue-name"]),r.createElement(l.D,null,u.attributes["protein-catalogue-description"])))))}}}]);
//# sourceMappingURL=892.7cb5802b.chunk.js.map