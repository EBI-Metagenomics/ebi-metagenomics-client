"use strict";(self.webpackChunkmgportalv2=self.webpackChunkmgportalv2||[]).push([[967],{3518:(e,t,a)=>{a.d(t,{Z:()=>v});var l=a(7294),r=a(9711),i=a(402),s=a(1699),n=a(6313),u=a(1055),o=a(8110),d=a(964),c=a(2119),m=a(5058);const v=({rootEndpoint:e})=>{var t,a;const v=(0,d.Z)(),[b]=(0,c.B)({"studies-page":1,"studies-page_size":10,"studies-order":""},{"studies-page":Number,"studies-page_size":Number}),{data:g,loading:p,error:E,isStale:f}=(0,o.Z)(`${e}/${v}/studies`,{page:b["studies-page"],ordering:b["studies-order"],page_size:b["studies-page_size"]});if(p&&!f)return l.createElement(i.Z,{size:"small"});if(E||!g)return l.createElement(s.Z,{error:E});if(!g.data.length)return null;const Z=[{id:"biome_id",Header:"Biome",accessor:e=>{var t,a;return null===(a=null===(t=e.relationships.biomes.data)||void 0===t?void 0:t[0])||void 0===a?void 0:a.id},Cell:({cell:e})=>l.createElement("span",{className:`biome_icon icon_xs ${(0,m.G)(e.value)}`,style:{float:"initial"}})},{id:"study",Header:"Study accession",accessor:"id",Cell:({cell:e})=>l.createElement(r.rU,{to:`/studies/${e.value}`},e.value)},{Header:"Name",accessor:"attributes.study-name"},{Header:"Abstract",accessor:"attributes.study-abstract",Cell:({cell:e})=>l.createElement(u.Z,{text:e.value||""})},{Header:"Samples Count",accessor:"attributes.samples-count"},{id:"last_update",Header:"Last Updated",accessor:"attributes.last-update",Cell:({cell:e})=>new Date(e.value).toLocaleDateString()}],h=((null===(a=null===(t=g.meta)||void 0===t?void 0:t.pagination)||void 0===a?void 0:a.count)||1)>10;return l.createElement(n.Z,{cols:Z,data:g,initialPage:b["studies-page"]-1,initialPageSize:10,className:"mg-studies-table",loading:p,isStale:f,namespace:"studies-",showPagination:h})}},3415:(e,t,a)=>{a.d(t,{Z:()=>r});var l=a(7294);const r=({list:e})=>l.createElement("div",{className:"vf-grid vf-grid__col-2",style:{gridTemplateColumns:"1fr 2fr",rowGap:"0.5rem"}},e.map((({key:e,value:t})=>l.createElement(l.Fragment,{key:e},l.createElement("div",{style:{textAlign:"right"}},e,":"),l.createElement("div",null,"string"==typeof t?t:l.createElement(t,null))))))},1055:(e,t,a)=>{a.d(t,{Z:()=>r});var l=a(7294);const r=({text:e,maxLength:t=250})=>l.createElement(l.Fragment,null,e.substring(0,t),e.length>=t&&"...")},5180:(e,t,a)=>{a.r(t),a.d(t,{default:()=>m});var l=a(7294),r=a(8110),i=a(964),s=a(402),n=a(1699),u=a(5478),o=a(3415),d=a(2531),c=a(3518);const m=()=>{var e,t,a;const m=(0,i.Z)(),{data:v,loading:b,error:g}=(0,r.Z)(`publications/${m}`);if(b)return l.createElement(s.Z,{size:"large"});if(g)return l.createElement(n.Z,{error:g});if(!v)return l.createElement(s.Z,null);const{data:p}=v,E=[{key:"Journal name",value:p.attributes["iso-journal"]},{key:"DOI",value:()=>l.createElement(d.Z,{href:`https://www.doi.org/${p.attributes.doi}`},p.attributes.doi)},{key:"PMID",value:()=>l.createElement(d.Z,{href:`https://europepmc.org/abstract/MED/${p.id}`},p.id)},{key:"Published year",value:String(p.attributes["published-year"])}];return p.attributes["medline-journal"]&&E.push({key:"Medical journal",value:()=>l.createElement(d.Z,{href:p.attributes["medline-journal"]},p.attributes["medline-journal"])}),l.createElement("section",{className:"vf-content"},l.createElement("h2",null,"Publication: ",(null===(e=null==p?void 0:p.attributes)||void 0===e?void 0:e["pub-title"])||""),l.createElement("h4",null,(null===(t=null==p?void 0:p.attributes)||void 0===t?void 0:t.authors)||""),l.createElement("section",{className:"vf-grid"},l.createElement("div",{className:"vf-stack vf-stack--200"},(null===(a=null==p?void 0:p.attributes)||void 0===a?void 0:a.abstract)&&l.createElement("div",null,p.attributes.abstract),l.createElement(u.Z,{label:"Publication details"},l.createElement(o.Z,{list:E})),l.createElement(u.Z,{label:"Associated studies"},l.createElement(c.Z,{rootEndpoint:"publications"})))))}}}]);
//# sourceMappingURL=967.23310a1d.chunk.js.map